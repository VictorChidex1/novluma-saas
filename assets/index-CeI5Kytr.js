(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function a1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Md={exports:{}},El={};var G_;function o1(){if(G_)return El;G_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var K_;function l1(){return K_||(K_=1,Md.exports=o1()),Md.exports}var Y=l1(),Vd={exports:{}},vt={};var Q_;function u1(){if(Q_)return vt;Q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function ht(O,Q,et){this.props=O,this.context=Q,this.refs=J,this.updater=et||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _t(){}_t.prototype=ht.prototype;function dt(O,Q,et){this.props=O,this.context=Q,this.refs=J,this.updater=et||W}var Bt=dt.prototype=new _t;Bt.constructor=dt,nt(Bt,ht.prototype),Bt.isPureReactComponent=!0;var Jt=Array.isArray;function Tt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(O,Q,et){var st=et.ref;return{$$typeof:s,type:O,key:Q,ref:st!==void 0?st:null,props:et}}function V(O,Q){return I(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Q[et]})}var w=/\/+/g;function ne(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Tt,Tt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,et,st,pt){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var xt=!1;if(O===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(O.$$typeof){case s:case t:xt=!0;break;case A:return xt=O._init,H(xt(O._payload),Q,et,st,pt)}}if(xt)return pt=pt(O),xt=st===""?"."+ne(O,0):st,Jt(pt)?(et="",xt!=null&&(et=xt.replace(w,"$&/")+"/"),H(pt,Q,et,"",function(or){return or})):pt!=null&&(D(pt)&&(pt=V(pt,et+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+xt)),Q.push(pt)),1;xt=0;var Ce=st===""?".":st+":";if(Jt(O))for(var ie=0;ie<O.length;ie++)st=O[ie],bt=Ce+ne(st,ie),xt+=H(st,Q,et,bt,pt);else if(ie=F(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(st=O.next()).done;)st=st.value,bt=Ce+ne(st,ie++),xt+=H(st,Q,et,bt,pt);else if(bt==="object"){if(typeof O.then=="function")return H(Ie(O),Q,et,st,pt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return xt}function tt(O,Q,et){if(O==null)return O;var st=[],pt=0;return H(O,st,"","",function(bt){return Q.call(et,bt,pt++)}),st}function ut(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:tt,forEach:function(O,Q,et){tt(O,function(){Q.apply(this,arguments)},et)},count:function(O){var Q=0;return tt(O,function(){Q++}),Q},toArray:function(O){return tt(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Ht,vt.Component=ht,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=dt,vt.StrictMode=r,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Q,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=nt({},O.props),pt=O.key;if(Q!=null)for(bt in Q.key!==void 0&&(pt=""+Q.key),Q)!b.call(Q,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Q.ref===void 0||(st[bt]=Q[bt]);var bt=arguments.length-2;if(bt===1)st.children=et;else if(1<bt){for(var xt=Array(bt),Ce=0;Ce<bt;Ce++)xt[Ce]=arguments[Ce+2];st.children=xt}return I(O.type,pt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},vt.createElement=function(O,Q,et){var st,pt={},bt=null;if(Q!=null)for(st in Q.key!==void 0&&(bt=""+Q.key),Q)b.call(Q,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=Q[st]);var xt=arguments.length-2;if(xt===1)pt.children=et;else if(1<xt){for(var Ce=Array(xt),ie=0;ie<xt;ie++)Ce[ie]=arguments[ie+2];pt.children=Ce}if(O&&O.defaultProps)for(st in xt=O.defaultProps,xt)pt[st]===void 0&&(pt[st]=xt[st]);return I(O,bt,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=D,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ut}},vt.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},vt.startTransition=function(O){var Q=C.T,et={};C.T=et;try{var st=O(),pt=C.S;pt!==null&&pt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Tt,Pt)}catch(bt){Pt(bt)}finally{Q!==null&&et.types!==null&&(Q.types=et.types),C.T=Q}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(O){return C.H.use(O)},vt.useActionState=function(O,Q,et){return C.H.useActionState(O,Q,et)},vt.useCallback=function(O,Q){return C.H.useCallback(O,Q)},vt.useContext=function(O){return C.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},vt.useEffect=function(O,Q){return C.H.useEffect(O,Q)},vt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(O,Q,et){return C.H.useImperativeHandle(O,Q,et)},vt.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},vt.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},vt.useMemo=function(O,Q){return C.H.useMemo(O,Q)},vt.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},vt.useReducer=function(O,Q,et){return C.H.useReducer(O,Q,et)},vt.useRef=function(O){return C.H.useRef(O)},vt.useState=function(O){return C.H.useState(O)},vt.useSyncExternalStore=function(O,Q,et){return C.H.useSyncExternalStore(O,Q,et)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.0",vt}var Y_;function Rm(){return Y_||(Y_=1,Vd.exports=u1()),Vd.exports}var ce=Rm();const c1=a1(ce);var xd={exports:{}},Tl={},kd={exports:{}},Pd={};var X_;function h1(){return X_||(X_=1,(function(s){function t(H,tt){var ut=H.length;H.push(tt);t:for(;0<ut;){var Pt=ut-1>>>1,Ht=H[Pt];if(0<l(Ht,tt))H[Pt]=tt,H[ut]=Ht,ut=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var tt=H[0],ut=H.pop();if(ut!==tt){H[0]=ut;t:for(var Pt=0,Ht=H.length,O=Ht>>>1;Pt<O;){var Q=2*(Pt+1)-1,et=H[Q],st=Q+1,pt=H[st];if(0>l(et,ut))st<Ht&&0>l(pt,et)?(H[Pt]=pt,H[st]=ut,Pt=st):(H[Pt]=et,H[Q]=ut,Pt=Q);else if(st<Ht&&0>l(pt,ut))H[Pt]=pt,H[st]=ut,Pt=st;else break t}}return tt}function l(H,tt){var ut=H.sortIndex-tt.sortIndex;return ut!==0?ut:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,S=null,M=3,F=!1,W=!1,nt=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=H)r(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function Jt(H){if(nt=!1,Bt(H),!W)if(i(y)!==null)W=!0,Tt||(Tt=!0,k());else{var tt=i(_);tt!==null&&Ie(Jt,tt.startTime-H)}}var Tt=!1,C=-1,b=5,I=-1;function V(){return J?!0:!(s.unstable_now()-I<b)}function D(){if(J=!1,Tt){var H=s.unstable_now();I=H;var tt=!0;try{t:{W=!1,nt&&(nt=!1,_t(C),C=-1),F=!0;var ut=M;try{e:{for(Bt(H),S=i(y);S!==null&&!(S.expirationTime>H&&V());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,M=S.priorityLevel;var Ht=Pt(S.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){S.callback=Ht,Bt(H),tt=!0;break e}S===i(y)&&r(y),Bt(H)}else r(y);S=i(y)}if(S!==null)tt=!0;else{var O=i(_);O!==null&&Ie(Jt,O.startTime-H),tt=!1}}break t}finally{S=null,M=ut,F=!1}tt=void 0}}finally{tt?k():Tt=!1}}}var k;if(typeof dt=="function")k=function(){dt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=D,k=function(){ne.postMessage(null)}}else k=function(){ht(D,0)};function Ie(H,tt){C=ht(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var ut=M;M=tt;try{return H()}finally{M=ut}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return tt()}finally{M=ut}},s.unstable_scheduleCallback=function(H,tt,ut){var Pt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,H={id:A++,callback:tt,priorityLevel:H,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Pt?(H.sortIndex=ut,t(_,H),i(y)===null&&H===i(_)&&(nt?(_t(C),C=-1):nt=!0,Ie(Jt,ut-Pt))):(H.sortIndex=Ht,t(y,H),W||F||(W=!0,Tt||(Tt=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var tt=M;return function(){var ut=M;M=tt;try{return H.apply(this,arguments)}finally{M=ut}}}})(Pd)),Pd}var $_;function f1(){return $_||($_=1,kd.exports=h1()),kd.exports}var Ld={exports:{}},Ye={};var J_;function d1(){if(J_)return Ye;J_=1;var s=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(y,_,null,A)},Ye.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&r.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ye.requestFormReset=function(y){r.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var Z_;function m1(){if(Z_)return Ld.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=d1(),Ld.exports}var W_;function g1(){if(W_)return Tl;W_=1;var s=f1(),t=Rm(),i=m1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(u(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case Jt:return"Suspense";case Tt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Ie=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=Pt[Ht],Pt[Ht]=null,Ht--)}function et(e,n){Ht++,Pt[Ht]=e.current,e.current=n}var st=O(null),pt=O(null),bt=O(null),xt=O(null);function Ce(e,n){switch(et(bt,n),et(pt,e),et(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=m_(n),e=g_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),et(st,e)}function ie(){Q(st),Q(pt),Q(bt)}function or(e){e.memoizedState!==null&&et(xt,e);var n=st.current,a=g_(n,e.type);n!==a&&(et(pt,e),et(st,a))}function na(e){pt.current===e&&(Q(st),Q(pt)),xt.current===e&&(Q(xt),pl._currentValue=ut)}var ia,sa;function ii(e){if(ia===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ia=n&&n[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ia+e+sa}var po=!1;function lr(e,n){if(!e||po)return"";po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),U=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===U.length)for(o=R.length-1,h=U.length-1;1<=o&&0<=h&&R[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==U[h]){var q=`
`+R[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function yo(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return ii("Activity");default:return""}}function _o(e){try{var n="",a=null;do n+=yo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,cs=s.unstable_cancelCallback,Vh=s.unstable_shouldYield,nu=s.unstable_requestPaint,We=s.unstable_now,ur=s.unstable_getCurrentPriorityLevel,vo=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,hs=s.unstable_NormalPriority,xh=s.unstable_LowPriority,iu=s.unstable_IdlePriority,su=s.log,ru=s.unstable_setDisableYieldValue,jn=null,Ue=null;function Sn(e){if(typeof su=="function"&&ru(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(jn,e)}catch{}}var he=Math.clz32?Math.clz32:ou,au=Math.log,ra=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(au(e)/ra|0)|0}var si=256,cr=262144,ye=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(p&=E,p!==0?h=ri(p):a||(a=E&~e,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):p!==0?h=ri(p):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function oi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(a=p&~a;0<a;){var q=31-he(a),K=1<<q;E[q]=0,R[q]=-1;var z=U[q];if(z!==null)for(U[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&fr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function fr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function To(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-he(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function Ao(e,n){var a=n&-n;return a=(a&42)!==0?1:dr(a),(a&(e.suspendedLanes|n))!==0?0:a}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:U_(e.type))}function qn(e,n){var a=tt.p;try{return tt.p=e,n()}finally{tt.p=a}}var Hn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Hn,Ve="__reactProps$"+Hn,li="__reactContainer$"+Hn,aa="__reactEvents$"+Hn,Lh="__reactListeners$"+Hn,cu="__reactHandles$"+Hn,hu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function oa(e){delete e[_e],delete e[Ve],delete e[aa],delete e[Lh],delete e[cu]}function ci(e){var n=e[_e];if(n)return n;for(var a=e.parentNode;a;){if(n=a[li]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=A_(e);e!==null;){if(a=e[_e])return a;e=A_(e)}return n}e=a,a=e.parentNode}return null}function bn(e){if(e=e[_e]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function hi(e){var n=e[hu];return n||(n=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ui]=!0}var So=new Set,bo={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(bo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function fu(e){return pe.call(Io,e)?!0:pe.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function la(e,n,a){if(fu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function dn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ee(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){if(!e._valueTracker){var n=fs(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=fs(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function sn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ua(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?No(e,p,xe(n)):a!=null?No(e,p,xe(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+xe(E):e.removeAttribute("name")}function du(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(e);return}a=a!=null?""+xe(a):"",n=n!=null?""+xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ft(e)}function No(e,n,a){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ds(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function mu(e,n,a){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+xe(a):""}function ms(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Ie(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=xe(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Ft(e)}function rn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||gu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Oo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function ca(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Mo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,gi=null;function pr(e){var n=bn(e);if(n&&(e=n.stateNode)){var a=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ua(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(r(90));ua(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&mr(o)}break t;case"textarea":mu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ds(e,!!a.multiple,n,!1)}}}var fa=!1;function ys(e,n,a){if(fa)return e(n,a);fa=!0;try{var o=e(n);return o}finally{if(fa=!1,(ps!==null||gi!==null)&&(uc(),ps&&(n=ps,e=gi,gi=ps=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Ve]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Rn)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{yr=!1}var pi=null,Vo=null,_r=null;function xo(){if(_r)return _r;var e,n=Vo,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return _r=h.slice(e,1<o?1-o:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Kn(){return!1}function ze(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=ze(Li),_s=S({},Li,{view:0,detail:0}),ko=ze(_s),vs,da,_i,ma=S({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(vs=e.screenX-_i.screenX,da=e.screenY-_i.screenY):da=vs=0,_i=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:da}}),Po=ze(ma),Er=S({},ma,{dataTransfer:0}),yu=ze(Er),_u=S({},_s,{relatedTarget:0}),Tr=ze(_u),Lo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=ze(Lo),ga=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eu=ze(ga),Tu=S({},Li,{data:0}),vi=ze(Tu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function Es(){return wu}var tn=S({},_s,{key:function(e){if(e.key){var n=Au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=ze(tn),Iu=S({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ze(Iu),c=S({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=ze(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),P=S({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(P),Z=S({},Li,{newState:0,oldState:0}),At=ze(Z),fe=[9,13,27,32],zt=Rn&&"CompositionEvent"in window,se=null;Rn&&"documentMode"in document&&(se=document.documentMode);var In=Rn&&"TextEvent"in window&&!se,Ei=Rn&&(!zt||se&&8<se&&11>=se),Qn=" ",Yn=!1;function Ar(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ya=!1;function DA(e,n){switch(e){case"compositionend":return pa(n);case"keypress":return n.which!==32?null:(Yn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Yn?null:e;default:return null}}function OA(e,n){if(ya)return e==="compositionend"||!zt&&Ar(e,n)?(e=xo(),_r=Vo=pi=null,ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var MA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!MA[e.type]:n==="textarea"}function Rg(e,n,a,o){ps?gi?gi.push(o):gi=[o]:ps=o,n=pc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Uo=null,zo=null;function VA(e){l_(e,0)}function Cu(e){var n=fn(e);if(mr(n))return e}function Ig(e,n){if(e==="change")return n}var Cg=!1;if(Rn){var Uh;if(Rn){var zh="oninput"in document;if(!zh){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),zh=typeof Ng.oninput=="function"}Uh=zh}else Uh=!1;Cg=Uh&&(!document.documentMode||9<document.documentMode)}function Dg(){Uo&&(Uo.detachEvent("onpropertychange",Og),zo=Uo=null)}function Og(e){if(e.propertyName==="value"&&Cu(zo)){var n=[];Rg(n,zo,e,wn(e)),ys(VA,n)}}function xA(e,n,a){e==="focusin"?(Dg(),Uo=n,zo=a,Uo.attachEvent("onpropertychange",Og)):e==="focusout"&&Dg()}function kA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(zo)}function PA(e,n){if(e==="click")return Cu(n)}function LA(e,n){if(e==="input"||e==="change")return Cu(n)}function UA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:UA;function jo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!pe.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,n){var a=Mg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mg(a)}}function xg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=mi(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zA=Rn&&"documentMode"in document&&11>=document.documentMode,_a=null,Bh=null,Bo=null,qh=!1;function Pg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||_a==null||_a!==mi(o)||(o=_a,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&jo(Bo,o)||(Bo=o,o=pc(Bh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=_a)))}function Sr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var va={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Hh={},Lg={};Rn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function br(e){if(Hh[e])return Hh[e];if(!va[e])return e;var n=va[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lg)return Hh[e]=n[a];return e}var Ug=br("animationend"),zg=br("animationiteration"),jg=br("animationstart"),jA=br("transitionrun"),BA=br("transitionstart"),qA=br("transitioncancel"),Bg=br("transitionend"),qg=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Xn(e,n){qg.set(e,n),fi(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Ea=0,Gh=0;function Du(){for(var e=Ea,n=Gh=Ea=0;n<e;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Hg(a,h,f)}}function Ou(e,n,a,o){Cn[Ea++]=e,Cn[Ea++]=n,Cn[Ea++]=a,Cn[Ea++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,a,o){return Ou(e,n,a,o),Mu(e)}function wr(e,n){return Ou(e,null,null,n),Mu(e)}function Hg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Mu(e){if(50<ul)throw ul=0,nd=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ta={};function HA(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,o){return new HA(e,n,a,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Qh(e)&&(p=1);else if(typeof e=="string")p=YS(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=gn(31,a,n,h),e.elementType=I,e.lanes=f,e;case nt:return Rr(a.children,h,f,n);case J:p=8,h|=24;break;case ht:return e=gn(12,a,n,h|2),e.elementType=ht,e.lanes=f,e;case Jt:return e=gn(13,a,n,h),e.elementType=Jt,e.lanes=f,e;case Tt:return e=gn(19,a,n,h),e.elementType=Tt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:p=10;break t;case _t:p=9;break t;case Bt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Rr(e,n,a,o){return e=gn(7,e,o,n),e.lanes=a,e}function Yh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Gg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=Kg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_o(n)},Kg.set(e,n),n)}return{value:e,source:n,stack:_o(n)}}var Aa=[],Sa=0,xu=null,qo=0,Dn=[],On=0,Ts=null,Ti=1,Ai="";function ji(e,n){Aa[Sa++]=qo,Aa[Sa++]=xu,xu=e,qo=n}function Qg(e,n,a){Dn[On++]=Ti,Dn[On++]=Ai,Dn[On++]=Ts,Ts=e;var o=Ti;e=Ai;var h=32-he(o)-1;o&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-he(n)+h|a<<h|o,Ai=f+e}else Ti=1<<f|a<<h|o,Ai=e}function $h(e){e.return!==null&&(ji(e,1),Qg(e,1,0))}function Jh(e){for(;e===xu;)xu=Aa[--Sa],Aa[Sa]=null,qo=Aa[--Sa],Aa[Sa]=null;for(;e===Ts;)Ts=Dn[--On],Dn[On]=null,Ai=Dn[--On],Dn[On]=null,Ti=Dn[--On],Dn[On]=null}function Yg(e,n){Dn[On++]=Ti,Dn[On++]=Ai,Dn[On++]=Ts,Ti=n.id,Ai=n.overflow,Ts=e}var je=null,Wt=null,Vt=!1,As=null,Mn=!1,Zh=Error(r(519));function Ss(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Nn(n,e)),Zh}function Xg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)It(hl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ms(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||f_(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Ss(e,!0)}function $g(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function ba(e){if(e!==je)return!1;if(!Vt)return $g(e),Vt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yd(e.type,e.memoizedProps)),a=!a),a&&Wt&&Ss(e),$g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=T_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=T_(e)}else n===27?(n=Wt,Ls(e.type)?(e=Ad,Ad=null,Wt=e):Wt=n):Wt=je?xn(e.stateNode.nextSibling):null;return!0}function Ir(){Wt=je=null,Vt=!1}function Wh(){var e=As;return e!==null&&(un===null?un=e:un.push.apply(un,e),As=null),e}function Ho(e){As===null?As=[e]:As.push(e)}var tf=O(null),Cr=null,Bi=null;function bs(e,n,a){et(tf,n._currentValue),n._currentValue=a}function qi(e){e._currentValue=tf.current,Q(tf)}function ef(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function nf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),ef(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),ef(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function wa(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;mn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&nf(n,e,a,o),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Cr=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Jg(Cr,e)}function Pu(e,n){return Cr===null&&Nr(e),Jg(e,n)}function Jg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(r(308));Bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Bi=Bi.next=n;return a}var FA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},GA=s.unstable_scheduleCallback,KA=s.unstable_NormalPriority,Te={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new FA,data:new Map,refCount:0}}function Fo(e){e.refCount--,e.refCount===0&&GA(KA,function(){e.controller.abort()})}var Go=null,rf=0,Ra=0,Ia=null;function QA(e,n){if(Go===null){var a=Go=[];rf=0,Ra=ld(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return rf++,n.then(Zg,Zg),n}function Zg(){if(--rf===0&&Go!==null){Ia!==null&&(Ia.status="fulfilled");var e=Go;Go=null,Ra=0,Ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function YA(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Wg=H.S;H.S=function(e,n){Py=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&QA(e,n),Wg!==null&&Wg(e,n)};var Dr=O(null);function af(){var e=Dr.current;return e!==null?e:Zt.pooledCache}function Lu(e,n){n===null?et(Dr,Dr.current):et(Dr,n.pool)}function tp(){var e=af();return e===null?null:{parent:Te._currentValue,pool:e}}var Ca=Error(r(460)),of=Error(r(474)),Uu=Error(r(542)),zu={then:function(){}};function ep(e){return e=e.status,e==="fulfilled"||e==="rejected"}function np(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sp(e),e}throw Mr=n,Ca}}function Or(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mr=a,Ca):a}}var Mr=null;function ip(){if(Mr===null)throw Error(r(459));var e=Mr;return Mr=null,e}function sp(e){if(e===Ca||e===Uu)throw Error(r(483))}var Na=null,Ko=0;function ju(e){var n=Ko;return Ko+=1,Na===null&&(Na=[]),np(Na,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bu(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){function n(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=zi(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function p(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,G){return N===null||N.tag!==6?(N=Yh(L,x.mode,G),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,G){var lt=L.type;return lt===nt?q(x,N,L.props.children,G,L.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Or(lt)===N.type)?(N=h(N,L.props),Qo(N,L),N.return=x,N):(N=Vu(L.type,L.key,L.props,null,x.mode,G),Qo(N,L),N.return=x,N)}function U(x,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Xh(L,x.mode,G),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function q(x,N,L,G,lt){return N===null||N.tag!==7?(N=Rr(L,x.mode,G,lt),N.return=x,N):(N=h(N,L),N.return=x,N)}function K(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=Vu(N.type,N.key,N.props,null,x.mode,L),Qo(L,N),L.return=x,L;case W:return N=Xh(N,x.mode,L),N.return=x,N;case b:return N=Or(N),K(x,N,L)}if(Ie(N)||k(N))return N=Rr(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return K(x,ju(N),L);if(N.$$typeof===dt)return K(x,Pu(x,N),L);Bu(x,N)}return null}function z(x,N,L,G){var lt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return lt!==null?null:E(x,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===lt?R(x,N,L,G):null;case W:return L.key===lt?U(x,N,L,G):null;case b:return L=Or(L),z(x,N,L,G)}if(Ie(L)||k(L))return lt!==null?null:q(x,N,L,G,null);if(typeof L.then=="function")return z(x,N,ju(L),G);if(L.$$typeof===dt)return z(x,N,Pu(x,L),G);Bu(x,L)}return null}function B(x,N,L,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(N,x,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case F:return x=x.get(G.key===null?L:G.key)||null,R(N,x,G,lt);case W:return x=x.get(G.key===null?L:G.key)||null,U(N,x,G,lt);case b:return G=Or(G),B(x,N,L,G,lt)}if(Ie(G)||k(G))return x=x.get(L)||null,q(N,x,G,lt,null);if(typeof G.then=="function")return B(x,N,L,ju(G),lt);if(G.$$typeof===dt)return B(x,N,L,Pu(N,G),lt);Bu(N,G)}return null}function rt(x,N,L,G){for(var lt=null,Lt=null,at=N,wt=N=0,Nt=null;at!==null&&wt<L.length;wt++){at.index>wt?(Nt=at,at=null):Nt=at.sibling;var Ut=z(x,at,L[wt],G);if(Ut===null){at===null&&(at=Nt);break}e&&at&&Ut.alternate===null&&n(x,at),N=f(Ut,N,wt),Lt===null?lt=Ut:Lt.sibling=Ut,Lt=Ut,at=Nt}if(wt===L.length)return a(x,at),Vt&&ji(x,wt),lt;if(at===null){for(;wt<L.length;wt++)at=K(x,L[wt],G),at!==null&&(N=f(at,N,wt),Lt===null?lt=at:Lt.sibling=at,Lt=at);return Vt&&ji(x,wt),lt}for(at=o(at);wt<L.length;wt++)Nt=B(at,x,wt,L[wt],G),Nt!==null&&(e&&Nt.alternate!==null&&at.delete(Nt.key===null?wt:Nt.key),N=f(Nt,N,wt),Lt===null?lt=Nt:Lt.sibling=Nt,Lt=Nt);return e&&at.forEach(function(qs){return n(x,qs)}),Vt&&ji(x,wt),lt}function ft(x,N,L,G){if(L==null)throw Error(r(151));for(var lt=null,Lt=null,at=N,wt=N=0,Nt=null,Ut=L.next();at!==null&&!Ut.done;wt++,Ut=L.next()){at.index>wt?(Nt=at,at=null):Nt=at.sibling;var qs=z(x,at,Ut.value,G);if(qs===null){at===null&&(at=Nt);break}e&&at&&qs.alternate===null&&n(x,at),N=f(qs,N,wt),Lt===null?lt=qs:Lt.sibling=qs,Lt=qs,at=Nt}if(Ut.done)return a(x,at),Vt&&ji(x,wt),lt;if(at===null){for(;!Ut.done;wt++,Ut=L.next())Ut=K(x,Ut.value,G),Ut!==null&&(N=f(Ut,N,wt),Lt===null?lt=Ut:Lt.sibling=Ut,Lt=Ut);return Vt&&ji(x,wt),lt}for(at=o(at);!Ut.done;wt++,Ut=L.next())Ut=B(at,x,wt,Ut.value,G),Ut!==null&&(e&&Ut.alternate!==null&&at.delete(Ut.key===null?wt:Ut.key),N=f(Ut,N,wt),Lt===null?lt=Ut:Lt.sibling=Ut,Lt=Ut);return e&&at.forEach(function(r1){return n(x,r1)}),Vt&&ji(x,wt),lt}function $t(x,N,L,G){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var lt=L.key;N!==null;){if(N.key===lt){if(lt=L.type,lt===nt){if(N.tag===7){a(x,N.sibling),G=h(N,L.props.children),G.return=x,x=G;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Or(lt)===N.type){a(x,N.sibling),G=h(N,L.props),Qo(G,L),G.return=x,x=G;break t}a(x,N);break}else n(x,N);N=N.sibling}L.type===nt?(G=Rr(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Vu(L.type,L.key,L.props,null,x.mode,G),Qo(G,L),G.return=x,x=G)}return p(x);case W:t:{for(lt=L.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),G=h(N,L.children||[]),G.return=x,x=G;break t}else{a(x,N);break}else n(x,N);N=N.sibling}G=Xh(L,x.mode,G),G.return=x,x=G}return p(x);case b:return L=Or(L),$t(x,N,L,G)}if(Ie(L))return rt(x,N,L,G);if(k(L)){if(lt=k(L),typeof lt!="function")throw Error(r(150));return L=lt.call(L),ft(x,N,L,G)}if(typeof L.then=="function")return $t(x,N,ju(L),G);if(L.$$typeof===dt)return $t(x,N,Pu(x,L),G);Bu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),G=h(N,L),G.return=x,x=G):(a(x,N),G=Yh(L,x.mode,G),G.return=x,x=G),p(x)):a(x,N)}return function(x,N,L,G){try{Ko=0;var lt=$t(x,N,L,G);return Na=null,lt}catch(at){if(at===Ca||at===Uu)throw at;var Lt=gn(29,at,null,x.mode);return Lt.lanes=G,Lt.return=x,Lt}finally{}}}var Vr=rp(!0),ap=rp(!1),ws=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),Hg(e,null,a),n}return Ou(e,o,n,a),Mu(e)}function Yo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}function cf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var hf=!1;function Xo(){if(hf){var e=Ia;if(e!==null)throw e}}function $o(e,n,a,o){hf=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,U=R.next;R.next=null,p===null?f=U:p.next=U,p=R;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==p&&(E===null?q.firstBaseUpdate=U:E.next=U,q.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;p=0,q=U=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ct&z)===z:(o&z)===z){z!==0&&z===Ra&&(hf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ft=E;z=n;var $t=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){K=rt.call($t,K,z);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,z=typeof rt=="function"?rt.call($t,K,z):rt,z==null)break t;K=S({},K,z);break t;case 2:ws=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(U=q=B,R=K):q=q.next=B,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(R=K),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Ms|=p,e.lanes=p,e.memoizedState=K}}function op(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function lp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)op(a[e],n)}var Da=O(null),qu=O(0);function up(e,n){e=Ji,et(qu,e),et(Da,n),Ji=e|n.baseLanes}function ff(){et(qu,Ji),et(Da,Da.current)}function df(){Ji=qu.current,Q(Da),Q(qu)}var pn=O(null),Vn=null;function Cs(e){var n=e.alternate;et(de,de.current&1),et(pn,e),Vn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Vn=e)}function mf(e){et(de,de.current),et(pn,e),Vn===null&&(Vn=e)}function cp(e){e.tag===22?(et(de,de.current),et(pn,e),Vn===null&&(Vn=e)):Ns()}function Ns(){et(de,de.current),et(pn,pn.current)}function yn(e){Q(pn),Vn===e&&(Vn=null),Q(de)}var de=O(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ed(a)||Td(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,St=null,Yt=null,Ae=null,Fu=!1,Oa=!1,xr=!1,Gu=0,Jo=0,Ma=null,XA=0;function le(){throw Error(r(321))}function gf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!mn(e[a],n[a]))return!1;return!0}function pf(e,n,a,o,h,f){return Hi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Qp:Of,xr=!1,f=a(o,h),xr=!1,Oa&&(f=fp(n,a,o,h)),hp(e),f}function hp(e){H.H=tl;var n=Yt!==null&&Yt.next!==null;if(Hi=0,Ae=Yt=St=null,Fu=!1,Jo=0,Ma=null,n)throw Error(r(300));e===null||Se||(e=e.dependencies,e!==null&&ku(e)&&(Se=!0))}function fp(e,n,a,o){St=e;var h=0;do{if(Oa&&(Ma=null),Jo=0,Oa=!1,25<=h)throw Error(r(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Yp,f=n(a,o)}while(Oa);return f}function $A(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(St.flags|=1024),n}function yf(){var e=Gu!==0;return Gu=0,e}function _f(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function vf(e){if(Fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fu=!1}Hi=0,Ae=Yt=St=null,Oa=!1,Jo=Gu=0,Ma=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw St.alternate===null?Error(r(467)):Error(r(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=Jo;return Jo+=1,Ma===null&&(Ma=[]),e=np(Ma,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Qp:Of),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===dt)return Be(e)}throw Error(r(438,String(e)))}function Ef(e){var n=null,a=St.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ku(),St.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Fi(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=me();return Tf(n,Yt,e)}function Tf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,U=n,q=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Ct&K)===K:(Hi&K)===K){var z=U.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===Ra&&(q=!0);else if((Hi&z)===z){U=U.next,z===Ra&&(q=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=K,p=f):R=R.next=K,St.lanes|=z,Ms|=z;K=U.action,xr&&a(f,K),f=U.hasEagerState?U.eagerState:a(f,K)}else z={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,St.lanes|=K,Ms|=K;U=U.next}while(U!==null&&U!==n);if(R===null?p=f:R.next=E,!mn(f,e.memoizedState)&&(Se=!0,q&&(a=Ia,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=me(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);mn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function dp(e,n,a){var o=St,h=me(),f=Vt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!mn((Yt||h).memoizedState,a);if(p&&(h.memoizedState=a,Se=!0),h=h.queue,wf(pp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},gp.bind(null,o,h,a,n),null),Zt===null)throw Error(r(349));f||(Hi&127)!==0||mp(o,n,a)}return a}function mp(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=St.updateQueue,n===null?(n=Ku(),St.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function gp(e,n,a,o){n.value=a,n.getSnapshot=o,yp(n)&&_p(e)}function pp(e,n,a){return a(function(){yp(n)&&_p(e)})}function yp(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!mn(e,a)}catch{return!0}}function _p(e){var n=wr(e,2);n!==null&&cn(n,e,2)}function Sf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),xr){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},n}function vp(e,n,a,o){return e.baseState=a,Tf(e,Yt,typeof o=="function"?o:Fi)}function JA(e,n,a,o,h){if(Ju(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ep(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ep(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=a(h,o),R=H.S;R!==null&&R(p,E),Tp(e,n,E)}catch(U){bf(e,n,U)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,o),Tp(e,n,f)}catch(U){bf(e,n,U)}}function Tp(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ap(e,n,o)},function(o){return bf(e,n,o)}):Ap(e,n,a)}function Ap(e,n,a){n.status="fulfilled",n.value=a,Sp(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Ep(e,a)))}function bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Sp(n),n=n.next;while(n!==o)}e.action=null}function Sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bp(e,n){return n}function wp(e,n){if(Vt){var a=Zt.formState;if(a!==null){t:{var o=St;if(Vt){if(Wt){e:{for(var h=Wt,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=xn(h.nextSibling),o=h.data==="F!";break t}}Ss(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},a.queue=o,a=Fp.bind(null,St,o),o.dispatch=a,o=Sf(!1),f=Df.bind(null,St,!1,o.queue),o=en(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=JA.bind(null,St,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Rp(e){var n=me();return Ip(n,Yt,e)}function Ip(e,n,a){if(n=Tf(e,n,bp)[0],e=Yu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(p){throw p===Ca?Uu:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(St.flags|=2048,Va(9,{destroy:void 0},ZA.bind(null,h,a),null)),[o,f,e]}function ZA(e,n){e.action=n}function Cp(e){var n=me(),a=Yt;if(a!==null)return Ip(n,a,e);me(),n=n.memoizedState,a=me();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Va(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Ku(),St.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Np(){return me().memoizedState}function Xu(e,n,a,o){var h=en();St.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},a,o===void 0?null:o)}function $u(e,n,a,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&gf(o,Yt.memoizedState.deps)?h.memoizedState=Va(n,f,a,o):(St.flags|=e,h.memoizedState=Va(1|n,f,a,o))}function Dp(e,n){Xu(8390656,8,e,n)}function wf(e,n){$u(2048,8,e,n)}function WA(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Ku(),St.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Op(e){var n=me().memoizedState;return WA({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Mp(e,n){return $u(4,2,e,n)}function Vp(e,n){return $u(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kp(e,n,a){a=a!=null?a.concat([e]):null,$u(4,4,xp.bind(null,n,e),a)}function Rf(){}function Pp(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&gf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Lp(e,n){var a=me();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&gf(n,o[1]))return o[0];if(o=e(),xr){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o}function If(e,n,a){return a===void 0||(Hi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Uy(),St.lanes|=e,Ms|=e,a)}function Up(e,n,a,o){return mn(a,n)?a:Da.current!==null?(e=If(e,a,o),mn(e,n)||(Se=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=a):(e=Uy(),St.lanes|=e,Ms|=e,n)}function zp(e,n,a,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Df(e,!1,n,a);try{var R=h(),U=H.S;if(U!==null&&U(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=YA(R,o);Wo(e,n,q,En(e))}else Wo(e,n,o,En(e))}catch(K){Wo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{tt.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function tS(){}function Cf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=jp(e).queue;zp(e,h,n,ut,a===null?tS:function(){return Bp(e),a(o)})}function jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bp(e){var n=jp(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},En())}function Nf(){return Be(pl)}function qp(){return me().memoizedState}function Hp(){return me().memoizedState}function eS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();e=Rs(a);var o=Is(n,e,a);o!==null&&(cn(o,n,a),Yo(o,n,a)),n={cache:sf()},e.payload=n;return}n=n.return}}function nS(e,n,a){var o=En();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Gp(n,a):(a=Kh(e,n,a,o),a!==null&&(cn(a,e,o),Kp(a,n,o)))}function Fp(e,n,a){var o=En();Wo(e,n,a,o)}function Wo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Gp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,mn(E,p))return Ou(e,n,h,0),Zt===null&&Du(),!1}catch{}finally{}if(a=Kh(e,n,h,o),a!==null)return cn(a,e,o),Kp(a,n,o),!0}return!1}function Df(e,n,a,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(r(479))}else n=Kh(e,a,o,2),n!==null&&cn(n,e,2)}function Ju(e){var n=e.alternate;return e===St||n!==null&&n===St}function Gp(e,n){Oa=Fu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Kp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}var tl={readContext:Be,use:Qu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};tl.useEffectEvent=le;var Qp={readContext:Be,use:Qu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Dp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Xu(4194308,4,xp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Xu(4194308,4,e,n)},useInsertionEffect:function(e,n){Xu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(xr){Sn(!0);try{e()}finally{Sn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var h=a(n);if(xr){Sn(!0);try{a(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=nS.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=Sf(e);var n=e.queue,a=Fp.bind(null,St,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(e,n){var a=en();return If(a,e,n)},useTransition:function(){var e=Sf(!1);return e=zp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=St,h=en();if(Vt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Zt===null)throw Error(r(349));(Ct&127)!==0||mp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Dp(pp.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},gp.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Zt.identifierPrefix;if(Vt){var a=Ai,o=Ti;a=(o&~(1<<32-he(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Gu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=XA++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nf,useFormState:wp,useActionState:wp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Df.bind(null,St,!0,a),a.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return en().memoizedState=eS.bind(null,St)},useEffectEvent:function(e){var n=en(),a={impl:e};return n.memoizedState=a,function(){if((jt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Of={readContext:Be,use:Qu,useCallback:Pp,useContext:Be,useEffect:wf,useImperativeHandle:kp,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Lp,useReducer:Yu,useRef:Np,useState:function(){return Yu(Fi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=me();return Up(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Yu(Fi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:Nf,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var a=me();return vp(a,Yt,e,n)},useMemoCache:Ef,useCacheRefresh:Hp};Of.useEffectEvent=Op;var Yp={readContext:Be,use:Qu,useCallback:Pp,useContext:Be,useEffect:wf,useImperativeHandle:kp,useInsertionEffect:Mp,useLayoutEffect:Vp,useMemo:Lp,useReducer:Af,useRef:Np,useState:function(){return Af(Fi)},useDebugValue:Rf,useDeferredValue:function(e,n){var a=me();return Yt===null?If(a,e,n):Up(a,Yt.memoizedState,e,n)},useTransition:function(){var e=Af(Fi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:dp,useId:qp,useHostTransitionStatus:Nf,useFormState:Cp,useActionState:Cp,useOptimistic:function(e,n){var a=me();return Yt!==null?vp(a,Yt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Hp};Yp.useEffectEvent=Op;function Mf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Vf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=En(),h=Rs(o);h.payload=n,a!=null&&(h.callback=a),n=Is(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=En(),h=Rs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Is(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=En(),o=Rs(a);o.tag=2,n!=null&&(o.callback=n),n=Is(e,o,a),n!==null&&(cn(n,e,a),Yo(n,e,a))}};function Xp(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!jo(a,o)||!jo(h,f):!0}function $p(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Jp(e){Nu(e)}function Zp(e){console.error(e)}function Wp(e){Nu(e)}function Zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,n)},a}function ey(e){return e=Rs(e),e.tag=3,e}function ny(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ty(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ty(n,a,o),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function iS(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&wa(n,a,h,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?cc():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return a.flags|=65536,o===zu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),rd(e,o,h)),!1}throw Error(r(435,a.tag))}return rd(e,o,h),cc(),!1}if(Vt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(r(422),{cause:o}),Ho(Nn(e,a)))):(o!==Zh&&(n=Error(r(423),{cause:o}),Ho(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=xf(e.stateNode,o,h),cf(e,h),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=Nn(f,a),ll===null?ll=[f]:ll.push(f),ue!==4&&(ue=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=xf(a.stateNode,o,e),cf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ey(h),ny(h,e,a,o),cf(a,h),!1}a=a.return}while(a!==null);return!1}var kf=Error(r(461)),Se=!1;function qe(e,n,a,o){n.child=e===null?ap(n,null,a,o):Vr(n,e.child,a,o)}function iy(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Nr(n),o=pf(e,n,a,p,f,h),E=yf(),e!==null&&!Se?(_f(e,n,h),Gi(e,n,h)):(Vt&&E&&$h(n),n.flags|=1,qe(e,n,o,h),n.child)}function sy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=Vu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(p,o)&&e.ref===n.ref)return Gi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(jo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Gi(e,n,h)}return Pf(e,n,a,o,h)}function ay(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?up(n,f):ff(),cp(n);else return o=n.lanes=536870912,oy(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),up(n,f),Ns(),n.memoizedState=null):(e!==null&&Lu(n,null),ff(),Ns());return qe(e,n,h,a),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(e,n,a,o,h){var f=af();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Lu(n,null),ff(),cp(n),e!==null&&wa(e,n,o,!0),n.childLanes=h,null}function Wu(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ly(e,n,a){return Vr(n,e.child,null,a),e=Wu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function sS(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Wu(n,o),n.lanes=536870912,el(null,e);if(mf(n),(e=Wt)?(e=E_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=n,n.child=a,je=n,Wt=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return Wu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ly(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Se||wa(e,n,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=Zt,o!==null&&(p=Ao(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,wr(e,p),cn(o,e,p),kf;cc(),n=ly(e,n,a)}else e=f.treeContext,Wt=xn(p.nextSibling),je=n,Vt=!0,As=null,Mn=!1,e!==null&&Yg(n,e),n=Wu(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function tc(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Pf(e,n,a,o,h){return Nr(n),a=pf(e,n,a,o,void 0,h),o=yf(),e!==null&&!Se?(_f(e,n,h),Gi(e,n,h)):(Vt&&o&&$h(n),n.flags|=1,qe(e,n,a,h),n.child)}function uy(e,n,a,o,h,f){return Nr(n),n.updateQueue=null,a=fp(n,o,a,h),hp(e),o=yf(),e!==null&&!Se?(_f(e,n,f),Gi(e,n,f)):(Vt&&o&&$h(n),n.flags|=1,qe(e,n,a,f),n.child)}function cy(e,n,a,o,h){if(Nr(n),n.stateNode===null){var f=Ta,p=a.contextType;typeof p=="object"&&p!==null&&(f=Be(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Be(p):Ta,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Vf.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=kr(a,E);f.props=R;var U=f.context,q=a.contextType;p=Ta,typeof q=="object"&&q!==null&&(p=Be(q));var K=a.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==p)&&$p(n,f,o,p),ws=!1;var z=n.memoizedState;f.state=z,$o(n,o,f,h),Xo(),U=n.memoizedState,E||z!==U||ws?(typeof K=="function"&&(Mf(n,a,K,o),U=n.memoizedState),(R=ws||Xp(n,a,R,o,z,U,p))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),p=n.memoizedProps,q=kr(a,p),f.props=q,K=n.pendingProps,z=f.context,U=a.contextType,R=Ta,typeof U=="object"&&U!==null&&(R=Be(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||z!==R)&&$p(n,f,o,R),ws=!1,z=n.memoizedState,f.state=z,$o(n,o,f,h),Xo();var B=n.memoizedState;p!==K||z!==B||ws||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(Mf(n,a,E,o),B=n.memoizedState),(q=ws||Xp(n,a,q,o,z,B,R)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vr(n,e.child,null,h),n.child=Vr(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Gi(e,n,h),e}function hy(e,n,a,o){return Ir(),n.flags|=256,qe(e,n,a,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:tp()}}function zf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=vn),e}function fy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Cs(n):Ns(),(e=Wt)?(e=E_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=n,n.child=a,je=n,Wt=null)):e=null,e===null)throw Ss(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ns(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=Rr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(a),o.childLanes=zf(e,p,a),n.memoizedState=Lf,el(null,o)):(Cs(n),jf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Bf(e,n,a)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=Rr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Vr(n,e.child,null,a),o=n.child,o.memoizedState=Uf(a),o.childLanes=zf(e,p,a),n.memoizedState=Lf,n=el(null,o));else if(Cs(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var U=p.dgst;p=U,o=Error(r(419)),o.stack="",o.digest=p,Ho({value:o,source:null,stack:null}),n=Bf(e,n,a)}else if(Se||wa(e,n,a,!1),p=(a&e.childLanes)!==0,Se||p){if(p=Zt,p!==null&&(o=Ao(p,a),o!==0&&o!==R.retryLane))throw R.retryLane=o,wr(e,o),cn(p,e,o),kf;Ed(E)||cc(),n=Bf(e,n,a)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=xn(E.nextSibling),je=n,Vt=!0,As=null,Mn=!1,e!==null&&Yg(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Ns(),E=o.fallback,h=n.mode,R=e.child,U=R.sibling,o=zi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,U!==null?E=zi(U,E):(E=Rr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(a):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=tp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=zf(e,p,a),n.memoizedState=Lf,el(e.child,o)):(Cs(n),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function jf(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Bf(e,n,a){return Vr(n,e.child,null,a),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,a)}function qf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function my(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,et(de,p),qe(e,n,o,a),o=Vt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,a,n);else if(e.tag===19)dy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(n,!0,a,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(wa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=zi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function rS(e,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),bs(n,Te,e.memoizedState.cache),Ir();break;case 27:case 5:or(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fy(e,n,a):(Cs(n),e=Gi(e,n,a),e!==null?e.sibling:null);Cs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(wa(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return my(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(de,de.current),o)break;return null;case 22:return n.lanes=0,ay(e,n,a,n.pendingProps);case 24:bs(n,Te,e.memoizedState.cache)}return Gi(e,n,a)}function gy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Hf(e,a)&&(n.flags&128)===0)return Se=!1,rS(e,n,a);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&Qg(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=kr(e,o),n.tag=1,n=cy(null,n,e,o,a)):(n.tag=0,n=Pf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Bt){n.tag=11,n=iy(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=sy(null,n,e,o,a);break t}}throw n=ne(e)||e,Error(r(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=kr(o,n.pendingProps),cy(e,n,o,h,a);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),$o(n,o,null,a);var p=n.memoizedState;if(o=p.cache,bs(n,Te,o),o!==f.cache&&nf(n,[Te],a,!0),Xo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(e,n,o,a);break t}else if(o!==h){h=Nn(Error(r(424)),n),Ho(h),n=hy(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=xn(e.firstChild),je=n,Vt=!0,As=null,Mn=!0,a=ap(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ir(),o===h){n=Gi(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return tc(e,n),e===null?(a=R_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,e=n.pendingProps,o=yc(bt.current).createElement(a),o[_e]=n,o[Ve]=e,He(o,a,e),ve(o),n.stateNode=o):n.memoizedState=R_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return or(n),e===null&&Vt&&(o=n.stateNode=S_(n.type,n.pendingProps,bt.current),je=n,Mn=!0,h=Wt,Ls(n.type)?(Ad=h,Wt=xn(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,a),tc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=Wt)&&(o=kS(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,je=n,Wt=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||Ss(n)),or(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,$A,null,null,a),pl._currentValue=h),tc(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Vt&&((e=a=Wt)&&(a=PS(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,je=n,Wt=null,e=!0):e=!1),e||Ss(n)),null;case 13:return fy(e,n,a);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vr(n,null,o,a):qe(e,n,o,a),n.child;case 11:return iy(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Nr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return sy(e,n,n.type,n.pendingProps,a);case 15:return ry(e,n,n.type,n.pendingProps,a);case 19:return my(e,n,a);case 31:return sS(e,n,a);case 22:return ay(e,n,a,n.pendingProps);case 24:return Nr(n),o=Be(Te),e===null?(h=af(),h===null&&(h=Zt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},lf(n),bs(n,Te,h)):((e.lanes&a)!==0&&(uf(e,n),$o(n,null,null,a),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,Te,o)):(o=f.cache,bs(n,Te,o),o!==h.cache&&nf(n,[Te],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ki(e){e.flags|=4}function Ff(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw Mr=zu,of}else e.flags&=-16777217}function py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(n))if(qy())e.flags|=8192;else throw Mr=zu,of}function nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lu():536870912,e.lanes|=n,La|=n)}function nl(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function aS(e,n,a){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qi(Te),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ba(n)?Ki(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Ki(n),f!==null?(te(n),py(n,f)):(te(n),Ff(n,h,null,o,a))):f?f!==e.memoizedState?(Ki(n),te(n),py(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ki(n),te(n),Ff(n,h,e,o,a)),null;case 27:if(na(n),a=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=st.current,ba(n)?Xg(n):(e=S_(h,o,a),n.stateNode=e,Ki(n))}return te(n),null;case 5:if(na(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=st.current,ba(n))Xg(n);else{var p=yc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Ki(n)}}return te(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ki(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,ba(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||f_(e.nodeValue,a)),e||Ss(n,!0)}else e=yc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return te(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=ba(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[_e]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else a=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ba(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[_e]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),nc(n,n.updateQueue),te(n),null);case 4:return ie(),e===null&&fd(n.stateNode.containerInfo),te(n),null;case 10:return qi(n.type),te(n),null;case 19:if(Q(de),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Hu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,nc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Fg(a,e),a=a.sibling;return et(de,de.current&1|2),Vt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&We()>oc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Hu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,nc(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return te(n),null}else 2*We()-o.renderingStartTime>oc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=We(),e.sibling=null,a=de.current,et(de,h?a&1|2:a&1),Vt&&ji(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return yn(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&nc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&Q(Dr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qi(Te),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function oS(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qi(Te),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return na(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(de),null;case 4:return ie(),null;case 10:return qi(n.type),null;case 22:case 23:return yn(n),df(),e!==null&&Q(Dr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qi(Te),null;case 25:return null;default:return null}}function yy(e,n){switch(Jh(n),n.tag){case 3:qi(Te),ie();break;case 26:case 27:case 5:na(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Q(de);break;case 10:qi(n.type);break;case 22:case 23:yn(n),df(),e!==null&&Q(Dr);break;case 24:qi(Te)}}function il(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Kt(n,n.return,E)}}function Ds(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=a,U=E;try{U()}catch(q){Kt(h,R,q)}}}o=o.next}while(o!==f)}}catch(q){Kt(n,n.return,q)}}function _y(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{lp(n,a)}catch(o){Kt(e,e.return,o)}}}function vy(e,n,a){a.props=kr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Kt(e,n,o)}}function sl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Kt(e,n,h)}}function Si(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,n,h)}else a.current=null}function Ey(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function Gf(e,n,a){try{var o=e.stateNode;NS(o,e.type,a,n),o[Ve]=n}catch(h){Kt(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&Ls(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,a),e=e.sibling;e!==null;)Qf(e,n,a),e=e.sibling}function ic(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ls(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,n,a),e=e.sibling;e!==null;)ic(e,n,a),e=e.sibling}function Ay(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,a),n[_e]=e,n[Ve]=a}catch(f){Kt(e,e.return,f)}}var Qi=!1,be=!1,Yf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function lS(e,n){if(e=e.containerInfo,gd=bc,e=kg(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,R=-1,U=0,q=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(R=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++U===h&&(E=p),z===f&&++q===o&&(R=p),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:e,selectionRange:a},bc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var rt=kr(a.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Kt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)vd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}}function by(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(e,a),o&4&&il(5,a);break;case 1:if(Xi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Kt(a,a.return,p)}else{var h=kr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Kt(a,a.return,p)}}o&64&&_y(a),o&512&&sl(a,a.return);break;case 3:if(Xi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{lp(e,n)}catch(p){Kt(a,a.return,p)}}break;case 27:n===null&&o&4&&Ay(a);case 26:case 5:Xi(e,a),n===null&&o&4&&Ey(a),o&512&&sl(a,a.return);break;case 12:Xi(e,a);break;case 31:Xi(e,a),o&4&&Iy(e,a);break;case 13:Xi(e,a),o&4&&Cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yS.bind(null,a),LS(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||be,h=Qi;var f=be;Qi=o,(be=n)&&!f?$i(e,a,(a.subtreeFlags&8772)!==0):Xi(e,a),Qi=h,be=f}break;case 30:break;default:Xi(e,a)}}function wy(e){var n=e.alternate;n!==null&&(e.alternate=null,wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&oa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,an=!1;function Yi(e,n,a){for(a=a.child;a!==null;)Ry(e,n,a),a=a.sibling}function Ry(e,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:be||Si(a,n),Yi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||Si(a,n);var o=re,h=an;Ls(a.type)&&(re=a.stateNode,an=!1),Yi(e,n,a),dl(a.stateNode),re=o,an=h;break;case 5:be||Si(a,n);case 6:if(o=re,h=an,re=null,Yi(e,n,a),re=o,an=h,re!==null)if(an)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:re!==null&&(an?(e=re,__(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ga(e)):__(re,a.stateNode));break;case 4:o=re,h=an,re=a.stateNode.containerInfo,an=!0,Yi(e,n,a),re=o,an=h;break;case 0:case 11:case 14:case 15:Ds(2,a,n),be||Ds(4,a,n),Yi(e,n,a);break;case 1:be||(Si(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&vy(a,n,o)),Yi(e,n,a);break;case 21:Yi(e,n,a);break;case 22:be=(o=be)||a.memoizedState!==null,Yi(e,n,a),be=o;break;default:Yi(e,n,a)}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(a){Kt(n,n.return,a)}}}function Cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(a){Kt(n,n.return,a)}}function uS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(r(435,e.tag))}}function sc(e,n){var a=uS(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=_S.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){re=E.stateNode,an=!1;break t}break;case 5:re=E.stateNode,an=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(re===null)throw Error(r(160));Ry(f,p,h),re=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,e),n=n.sibling}var $n=null;function Ny(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(Ds(3,e,e.return),il(3,e),Ds(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(be||a===null||Si(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(on(n,e),ln(e),o&512&&(be||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,a),f[_e]=e,ve(f),o=f;break t;case"link":var p=N_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,a),h.head.appendChild(f);break;case"meta":if(p=N_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else D_(h,e.type,e.stateNode);else e.stateNode=C_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?D_(h,e.type,e.stateNode):C_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(be||a===null||Si(a,a.return)),a!==null&&o&4&&Gf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(be||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(Ec=null,h=$n,$n=_c(n.containerInfo),on(n,e),$n=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}Yf&&(Yf=!1,Dy(e));break;case 4:o=$n,$n=_c(e.stateNode.containerInfo),on(n,e),ln(e),$n=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,U=Qi,q=be;if(Qi=U||h,be=q||R,on(n,e),be=q,Qi=U,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||Qi||be||Pr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===18){if(a===null){R=n;try{var B=R.stateNode;h?v_(B,!0):v_(R.stateNode,!1)}catch(rt){Kt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,sc(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,sc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ty(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Kf(e);ic(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(rn(p,""),a.flags&=-33);var E=Kf(e);ic(e,E,p);break;case 3:case 4:var R=a.stateNode.containerInfo,U=Kf(e);Qf(e,U,R);break;default:throw Error(r(161))}}catch(q){Kt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Pr(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vy(n,n.return,a),Pr(n);break;case 27:dl(n.stateNode);case 26:case 5:Si(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function $i(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),il(4,f);break;case 1:if($i(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Kt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)op(R[h],E)}catch(U){Kt(o,o.return,U)}}a&&p&64&&_y(f),sl(f,f.return);break;case 27:Ay(f);case 26:case 5:$i(h,f,a),a&&o===null&&p&4&&Ey(f),sl(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&p&4&&Iy(h,f);break;case 13:$i(h,f,a),a&&p&4&&Cy(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),sl(f,f.return);break;case 30:break;default:$i(h,f,a)}n=n.sibling}}function Xf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Fo(a))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e))}function Jn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(e,n,a,o),n=n.sibling}function Oy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,a,o),h&2048&&il(9,n);break;case 1:Jn(e,n,a,o);break;case 3:Jn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fo(e)));break;case 12:if(h&2048){Jn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Jn(e,n,a,o);break;case 31:Jn(e,n,a,o);break;case 13:Jn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,a,o):rl(e,n):f._visibility&2?Jn(e,n,a,o):(f._visibility|=2,xa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:Jn(e,n,a,o),h&2048&&$f(n.alternate,n);break;default:Jn(e,n,a,o)}}function xa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,R=o,U=p.flags;switch(p.tag){case 0:case 11:case 15:xa(f,p,E,R,h),il(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?xa(f,p,E,R,h):rl(f,p):(q._visibility|=2,xa(f,p,E,R,h)),h&&U&2048&&Xf(p.alternate,p);break;case 24:xa(f,p,E,R,h),h&&U&2048&&$f(p.alternate,p);break;default:xa(f,p,E,R,h)}n=n.sibling}}function rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:rl(a,o),h&2048&&Xf(o.alternate,o);break;case 24:rl(a,o),h&2048&&$f(o.alternate,o);break;default:rl(a,o)}n=n.sibling}}var al=8192;function ka(e,n,a){if(e.subtreeFlags&al)for(e=e.child;e!==null;)My(e,n,a),e=e.sibling}function My(e,n,a){switch(e.tag){case 26:ka(e,n,a),e.flags&al&&e.memoizedState!==null&&XS(a,$n,e.memoizedState,e.memoizedProps);break;case 5:ka(e,n,a);break;case 3:case 4:var o=$n;$n=_c(e.stateNode.containerInfo),ka(e,n,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,ka(e,n,a),al=o):ka(e,n,a));break;default:ka(e,n,a)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ke=o,ky(o,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rc(e)):ol(e);break;default:ol(e)}}function rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];ke=o,ky(o,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),rc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,rc(n));break;default:rc(n)}e=e.sibling}}function ky(e,n){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Ds(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,ke=o;else t:for(a=e;ke!==null;){o=ke;var h=o.sibling,f=o.return;if(wy(o),o===a){ke=null;break t}if(h!==null){h.return=f,ke=h;break t}ke=f}}}var cS={getCacheForType:function(e){var n=Be(Te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Be(Te).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,jt=0,Zt=null,Rt=null,Ct=0,Gt=0,_n=null,Os=!1,Pa=!1,Jf=!1,Ji=0,ue=0,Ms=0,Lr=0,Zf=0,vn=0,La=0,ll=null,un=null,Wf=!1,ac=0,Py=0,oc=1/0,lc=null,Vs=null,De=0,xs=null,Ua=null,Zi=0,td=0,ed=null,Ly=null,ul=0,nd=null;function En(){return(jt&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?ld():uu()}function Uy(){if(vn===0)if((Ct&536870912)===0||Vt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function cn(e,n,a){(e===Zt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(za(e,0),ks(e,Ct,vn,!1)),hr(e,a),((jt&2)===0||e!==Zt)&&(e===Zt&&((jt&2)===0&&(Lr|=a),ue===4&&ks(e,Ct,vn,!1)),bi(e))}function zy(e,n,a){if((jt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?mS(e,n):sd(e,n,!0),f=o;do{if(h===0){Pa&&!o&&ks(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!fS(a)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ll;var R=E.current.memoizedState.isDehydrated;if(R&&(za(E,p).flags|=256),p=sd(E,p,!1),p!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){za(e,0),ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,vn,!Os);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ac+300-We(),10<h)){if(ks(o,n,vn,!Os),ai(o,0,!0)!==0)break t;Zi=n,o.timeoutHandle=p_(jy.bind(null,o,a,un,lc,Wf,n,vn,Lr,La,Os,f,"Throttled",-0,0),h);break t}jy(o,a,un,lc,Wf,n,vn,Lr,La,Os,f,null,-0,0)}}break}while(!0);bi(e)}function jy(e,n,a,o,h,f,p,E,R,U,q,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},My(n,f,K);var rt=(f&62914560)===f?ac-We():(f&4194048)===f?Py-We():0;if(rt=$S(K,rt),rt!==null){Zi=f,e.cancelPendingCommit=rt(Yy.bind(null,e,n,f,a,o,h,p,E,R,q,K,null,z,B)),ks(e,f,p,!U);return}}Yy(e,n,f,a,o,h,p,E,R)}function fS(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,a,o){n&=~Zf,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&fr(e,a,n)}function uc(){return(jt&6)===0?(cl(0),!1):!0}function id(){if(Rt!==null){if(Gt===0)var e=Rt.return;else e=Rt,Bi=Cr=null,vf(e),Na=null,Ko=0,e=Rt;for(;e!==null;)yy(e.alternate,e),e=e.return;Rt=null}}function za(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,MS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zi=0,id(),Zt=e,Rt=a=zi(e.current,null),Ct=n,Gt=0,_n=null,Os=!1,Pa=Bn(e,n),Jf=!1,La=vn=Zf=Lr=Ms=ue=0,un=ll=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Ji=n,Du(),a}function By(e,n){St=null,H.H=tl,n===Ca||n===Uu?(n=ip(),Gt=3):n===of?(n=ip(),Gt=4):Gt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Rt===null&&(ue=1,Zu(e,Nn(n,e.current)))}function qy(){var e=pn.current;return e===null?!0:(Ct&4194048)===Ct?Vn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Vn:!1}function Hy(){var e=H.H;return H.H=tl,e===null?tl:e}function Fy(){var e=H.A;return H.A=cS,e}function cc(){ue=4,Os||(Ct&4194048)!==Ct&&pn.current!==null||(Pa=!0),(Ms&134217727)===0&&(Lr&134217727)===0||Zt===null||ks(Zt,Ct,vn,!1)}function sd(e,n,a){var o=jt;jt|=2;var h=Hy(),f=Fy();(Zt!==e||Ct!==n)&&(lc=null,za(e,n)),n=!1;var p=ue;t:do try{if(Gt!==0&&Rt!==null){var E=Rt,R=_n;switch(Gt){case 8:id(),p=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var U=Gt;if(Gt=0,_n=null,ja(e,E,R,U),a&&Pa){p=0;break t}break;default:U=Gt,Gt=0,_n=null,ja(e,E,R,U)}}dS(),p=ue;break}catch(q){By(e,q)}while(!0);return n&&e.shellSuspendCounter++,Bi=Cr=null,jt=o,H.H=h,H.A=f,Rt===null&&(Zt=null,Ct=0,Du()),p}function dS(){for(;Rt!==null;)Gy(Rt)}function mS(e,n){var a=jt;jt|=2;var o=Hy(),h=Fy();Zt!==e||Ct!==n?(lc=null,oc=We()+500,za(e,n)):Pa=Bn(e,n);t:do try{if(Gt!==0&&Rt!==null){n=Rt;var f=_n;e:switch(Gt){case 1:Gt=0,_n=null,ja(e,n,f,1);break;case 2:case 9:if(ep(f)){Gt=0,_n=null,Ky(n);break}n=function(){Gt!==2&&Gt!==9||Zt!==e||(Gt=7),bi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ep(f)?(Gt=0,_n=null,Ky(n)):(Gt=0,_n=null,ja(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?O_(p):E.stateNode.complete){Gt=0,_n=null;var R=E.sibling;if(R!==null)Rt=R;else{var U=E.return;U!==null?(Rt=U,hc(U)):Rt=null}break e}}Gt=0,_n=null,ja(e,n,f,5);break;case 6:Gt=0,_n=null,ja(e,n,f,6);break;case 8:id(),ue=6;break t;default:throw Error(r(462))}}gS();break}catch(q){By(e,q)}while(!0);return Bi=Cr=null,H.H=o,H.A=h,jt=a,Rt!==null?0:(Zt=null,Ct=0,Du(),ue)}function gS(){for(;Rt!==null&&!Vh();)Gy(Rt)}function Gy(e){var n=gy(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?hc(e):Rt=n}function Ky(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=uy(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=uy(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:vf(n);default:yy(a,n),n=Rt=Fg(n,Ji),n=gy(a,n,Ji)}e.memoizedProps=e.pendingProps,n===null?hc(e):Rt=n}function ja(e,n,a,o){Bi=Cr=null,vf(n),Na=null,Ko=0;var h=n.return;try{if(iS(e,h,n,a,Ct)){ue=1,Zu(e,Nn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ue=1,Zu(e,Nn(a,e.current)),Rt=null;return}n.flags&32768?(Vt||o===1?e=!0:Pa||(Ct&536870912)!==0?e=!1:(Os=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,e)):hc(n)}function hc(e){var n=e;do{if((n.flags&32768)!==0){Qy(n,Os);return}e=n.return;var a=aS(n.alternate,n,Ji);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ue===0&&(ue=5)}function Qy(e,n){do{var a=oS(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ue=6,Rt=null}function Yy(e,n,a,o,h,f,p,E,R){e.cancelPendingCommit=null;do fc();while(De!==0);if((jt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Gh,Ph(e,a,f,p,E,R),e===Zt&&(Rt=Zt=null,Ct=0),Ua=n,xs=e,Zi=a,td=f,ed=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vS(hs,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=tt.p,tt.p=2,p=jt,jt|=4;try{lS(e,n,a)}finally{jt=p,tt.p=h,H.T=o}}De=1,Xy(),$y(),Jy()}}function Xy(){if(De===1){De=0;var e=xs,n=Ua,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{Ny(n,e);var f=pd,p=kg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&xg(E.ownerDocument.documentElement,E)){if(R!==null&&jh(E)){var U=R.start,q=R.end;if(q===void 0&&(q=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(q,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),rt=E.textContent.length,ft=Math.min(R.start,rt),$t=R.end===void 0?ft:Math.min(R.end,rt);!B.extend&&ft>$t&&(p=$t,$t=ft,ft=p);var x=Vg(E,ft),N=Vg(E,$t);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=K.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),ft>$t?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}bc=!!gd,pd=gd=null}finally{jt=h,tt.p=o,H.T=a}}e.current=n,De=2}}function $y(){if(De===2){De=0;var e=xs,n=Ua,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=tt.p;tt.p=2;var h=jt;jt|=4;try{by(e,n.alternate,n)}finally{jt=h,tt.p=o,H.T=a}}De=3}}function Jy(){if(De===4||De===3){De=0,nu();var e=xs,n=Ua,a=Zi,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ua=xs=null,Zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),ki(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=tt.p,tt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=h}}(Zi&3)!==0&&fc(),bi(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===nd?ul++:(ul=0,nd=e):ul=0,cl(0)}}function Zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fo(n)))}function fc(){return Xy(),$y(),Jy(),Wy()}function Wy(){if(De!==5)return!1;var e=xs,n=td;td=0;var a=ki(Zi),o=H.T,h=tt.p;try{tt.p=32>a?32:a,H.T=null,a=ed,ed=null;var f=xs,p=Zi;if(De=0,Ua=xs=null,Zi=0,(jt&6)!==0)throw Error(r(331));var E=jt;if(jt|=4,xy(f.current),Oy(f,f.current,p,a),jt=E,cl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{tt.p=h,H.T=o,Zy(e,n)}}function t_(e,n,a){n=Nn(a,n),n=xf(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(hr(e,2),bi(e))}function Kt(e,n,a){if(e.tag===3)t_(e,e,a);else for(;n!==null;){if(n.tag===3){t_(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vs===null||!Vs.has(o))){e=Nn(a,e),a=ey(2),o=Is(n,a,2),o!==null&&(ny(a,o,n,e),hr(o,2),bi(o));break}}n=n.return}}function rd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new hS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Jf=!0,h.add(a),e=pS.bind(null,e,n,a),n.then(e,e))}function pS(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Zt===e&&(Ct&a)===a&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>We()-ac?(jt&2)===0&&za(e,0):Zf|=a,La===Ct&&(La=0)),bi(e)}function e_(e,n){n===0&&(n=lu()),e=wr(e,n),e!==null&&(hr(e,n),bi(e))}function yS(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),e_(e,a)}function _S(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),e_(e,a)}function vS(e,n){return Ne(e,n)}var dc=null,Ba=null,ad=!1,mc=!1,od=!1,Ps=0;function bi(e){e!==Ba&&e.next===null&&(Ba===null?dc=Ba=e:Ba=Ba.next=e),mc=!0,ad||(ad=!0,TS())}function cl(e,n){if(!od&&mc){od=!0;do for(var a=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,r_(o,f))}else f=Ct,f=ai(o,o===Zt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,r_(o,f));o=o.next}while(a);od=!1}}function ES(){n_()}function n_(){mc=ad=!1;var e=0;Ps!==0&&OS()&&(e=Ps);for(var n=We(),a=null,o=dc;o!==null;){var h=o.next,f=i_(o,n);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(Ba=a)):(a=o,(e!==0||(f&3)!==0)&&(mc=!0)),o=h}De!==0&&De!==5||cl(e),Ps!==0&&(Ps=0)}function i_(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&a)===0||(E&o)!==0)&&(h[p]=kh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Zt,a=Ct,a=ai(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&cs(o),ki(a)){case 2:case 8:a=Eo;break;case 32:a=hs;break;case 268435456:a=iu;break;default:a=hs}return o=s_.bind(null,e),a=Ne(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&cs(o),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fc()&&e.callbackNode!==a)return null;var o=Ct;return o=ai(e,e===Zt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,n),i_(e,We()),e.callbackNode!=null&&e.callbackNode===a?s_.bind(null,e):null)}function r_(e,n){if(fc())return null;zy(e,n,!0)}function TS(){VS(function(){(jt&6)!==0?Ne(vo,ES):n_()})}function ld(){if(Ps===0){var e=Ra;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Ps=e}return Ps}function a_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ha(""+e)}function o_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function AS(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=a_((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?a_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ps!==0){var R=p?o_(h,p):new FormData(h);Cf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?o_(h,p):new FormData(h),Cf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],SS=cd.toLowerCase(),bS=cd[0].toUpperCase()+cd.slice(1);Xn(SS,"on"+bS)}Xn(Ug,"onAnimationEnd"),Xn(zg,"onAnimationIteration"),Xn(jg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(jA,"onTransitionRun"),Xn(BA,"onTransitionStart"),Xn(qA,"onTransitionCancel"),Xn(Bg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function l_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,U=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(q){Nu(q)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,U=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(q){Nu(q)}h.currentTarget=null,f=R}}}}function It(e,n){var a=n[aa];a===void 0&&(a=n[aa]=new Set);var o=e+"__bubble";a.has(o)||(u_(n,e,2,!1),a.add(o))}function hd(e,n,a){var o=0;n&&(o|=4),u_(a,e,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[gc]){e[gc]=!0,So.forEach(function(a){a!=="selectionchange"&&(wS.has(a)||hd(a,!1,e),hd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gc]||(n[gc]=!0,hd("selectionchange",!1,n))}}function u_(e,n,a,o){switch(U_(n)){case 2:var h=WS;break;case 8:h=t1;break;default:h=Id}a=h.bind(null,n,a,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function dd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ys(function(){var U=f,q=wn(a),K=[];t:{var z=qg.get(e);if(z!==void 0){var B=yi,rt=e;switch(e){case"keypress":if(vr(a)===0)break t;case"keydown":case"keyup":B=Ru;break;case"focusin":rt="focus",B=Tr;break;case"focusout":rt="blur",B=Tr;break;case"beforeblur":case"afterblur":B=Tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case Ug:case zg:case jg:B=vu;break;case Bg:B=T;break;case"scroll":case"scrollend":B=ko;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ui;break;case"toggle":case"beforetoggle":B=At}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var N=U,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=Gn(N,x),G!=null&&ft.push(fl(N,G,L))),$t)break;N=N.return}0<ft.length&&(z=new B(z,rt,null,a,q),K.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Mo&&(rt=a.relatedTarget||a.fromElement)&&(ci(rt)||rt[li]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(rt=a.relatedTarget||a.toElement,B=U,rt=rt?ci(rt):null,rt!==null&&($t=u(rt),ft=rt.tag,rt!==$t||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(B=null,rt=U),B!==rt)){if(ft=Po,G="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ui,G="onPointerLeave",x="onPointerEnter",N="pointer"),$t=B==null?z:fn(B),L=rt==null?z:fn(rt),z=new ft(G,N+"leave",B,a,q),z.target=$t,z.relatedTarget=L,G=null,ci(q)===U&&(ft=new ft(x,N+"enter",rt,a,q),ft.target=L,ft.relatedTarget=$t,G=ft),$t=G,B&&rt)e:{for(ft=RS,x=B,N=rt,L=0,G=x;G;G=ft(G))L++;G=0;for(var lt=N;lt;lt=ft(lt))G++;for(;0<L-G;)x=ft(x),L--;for(;0<G-L;)N=ft(N),G--;for(;L--;){if(x===N||N!==null&&x===N.alternate){ft=x;break e}x=ft(x),N=ft(N)}ft=null}else ft=null;B!==null&&c_(K,z,B,ft,!1),rt!==null&&$t!==null&&c_(K,$t,rt,ft,!0)}}t:{if(z=U?fn(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Lt=Ig;else if(wg(z))if(Cg)Lt=LA;else{Lt=kA;var at=xA}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ca(U.elementType)&&(Lt=Ig):Lt=PA;if(Lt&&(Lt=Lt(e,U))){Rg(K,Lt,a,q);break t}at&&at(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&No(z,"number",z.value)}switch(at=U?fn(U):window,e){case"focusin":(wg(at)||at.contentEditable==="true")&&(_a=at,Bh=U,Bo=null);break;case"focusout":Bo=Bh=_a=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Pg(K,a,q);break;case"selectionchange":if(zA)break;case"keydown":case"keyup":Pg(K,a,q)}var wt;if(zt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ya?Ar(e,a)&&(Nt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(Ei&&a.locale!=="ko"&&(ya||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ya&&(wt=xo()):(pi=q,Vo="value"in pi?pi.value:pi.textContent,ya=!0)),at=pc(U,Nt),0<at.length&&(Nt=new vi(Nt,e,null,a,q),K.push({event:Nt,listeners:at}),wt?Nt.data=wt:(wt=pa(a),wt!==null&&(Nt.data=wt)))),(wt=In?DA(e,a):OA(e,a))&&(Nt=pc(U,"onBeforeInput"),0<Nt.length&&(at=new vi("onBeforeInput","beforeinput",null,a,q),K.push({event:at,listeners:Nt}),at.data=wt)),AS(K,e,U,a,q)}l_(K,n)})}function fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function pc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(fl(e,h,f)),h=Gn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function RS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,R=E.alternate,U=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||U===null||(R=U,h?(U=Gn(a,f),U!=null&&p.unshift(fl(a,U,R))):h||(U=Gn(a,f),U!=null&&p.push(fl(a,U,R)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var IS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(IS,`
`).replace(CS,"")}function f_(e,n){return n=h_(n),h_(e)===n}function Xt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=ha(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=ha(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),la(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":la(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,la(e,a,o))}}function md(e,n,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[Ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):la(e,a,o)}}}function He(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,p,a,null)}}h&&Xt(e,n,"srcSet",a.srcSet,a,null),o&&Xt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=p=h=null,R=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var q=a[o];if(q!=null)switch(o){case"name":h=q;break;case"type":p=q;break;case"checked":R=q;break;case"defaultChecked":U=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Xt(e,n,o,q,a,null)}}du(e,f,E,R,U,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Xt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?ds(e,!!o,n,!1):a!=null&&ds(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,p,E,a,null)}ms(e,o,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(o=a[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)It(hl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,U,o,a,null)}return;default:if(ca(n)){for(q in a)a.hasOwnProperty(q)&&(o=a[q],o!==void 0&&md(e,n,q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Xt(e,n,E,o,a,null))}function NS(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,U=null,q=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(B)||Xt(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":q=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==K&&Xt(e,n,z,B,o,K)}}ua(e,p,E,R,U,q,f,h);return;case"select":B=p=E=z=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=a[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,a=p,o=B,z!=null?ds(e,!!a,z,!1):!!o!=!!a&&(n!=null?ds(e,!!a,n,!0):ds(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Xt(e,n,p,h,o,f)}mu(e,z,B);return;case"option":for(var rt in a)if(z=a[rt],a.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Xt(e,n,rt,null,o,z)}for(R in o)if(z=o[R],B=a[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Xt(e,n,ft,null,o,z);for(U in o)if(z=o[U],B=a[U],o.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Xt(e,n,U,z,o,B)}return;default:if(ca(n)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&md(e,n,$t,void 0,o,z);for(q in o)z=o[q],B=a[q],!o.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||md(e,n,q,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Xt(e,n,x,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Xt(e,n,K,z,o,B)}function d_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&d_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var R=a[o],U=R.startTime;if(U>E)break;var q=R.transferSize,K=R.initiatorType;q&&d_(K)&&(R=R.responseEnd,p+=q*(R<E?1:(E-U)/(R-U)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gd=null,pd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function OS(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(xS)}:p_;function xS(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function __(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ga(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&dl(e.ownerDocument.body);a=h}while(a);Ga(n)}function v_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function kS(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function PS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function E_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function LS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function T_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return xn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function A_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function S_(e,n,a){switch(n=yc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);oa(e)}var kn=new Map,b_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=tt.d;tt.d={f:US,r:zS,D:jS,C:BS,L:qS,m:HS,X:GS,S:FS,M:KS};function US(){var e=Wi.f(),n=uc();return e||n}function zS(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Bp(n):Wi.r(e)}var qa=typeof document>"u"?null:document;function w_(e,n,a){var o=qa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),b_.has(h)||(b_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function jS(e){Wi.D(e),w_("dns-prefetch",e,null)}function BS(e,n){Wi.C(e,n),w_("preconnect",e,n)}function qS(e,n,a){Wi.L(e,n,a);var o=qa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ha(e);break;case"script":f=Fa(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),He(n,"link",e),ve(n),o.head.appendChild(n)))}}function HS(e,n){Wi.m(e,n);var a=qa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),He(o,"link",e),ve(o),a.head.appendChild(o)}}}function FS(e,n,a){Wi.S(e,n,a);var o=qa;if(o&&e){var h=hi(o).hoistableStyles,f=Ha(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ml(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Sd(e,a);var R=p=o.createElement("link");ve(R),He(R,"link",e),R._p=new Promise(function(U,q){R.onload=U,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function GS(e,n){Wi.X(e,n);var a=qa;if(a&&e){var o=hi(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&bd(e,n),f=a.createElement("script"),ve(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function KS(e,n){Wi.M(e,n);var a=qa;if(a&&e){var o=hi(a).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&bd(e,n),f=a.createElement("script"),ve(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function R_(e,n,a,o){var h=(h=bt.current)?_c(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ha(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ha(a.href);var f=hi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ml(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||QS(h,e,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ha(e){return'href="'+sn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function QS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",a),ve(n),e.head.appendChild(n))}function Fa(e){return'[src="'+sn(e)+'"]'}function gl(e){return"script[async]"+e}function C_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),He(o,"style",h),vc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ha(a.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=I_(a),(h=kn.get(h))&&Sd(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),n.state.loading|=4,vc(f,a.precedence,e),n.instance=f;case"script":return f=Fa(a.src),(h=e.querySelector(gl(f)))?(n.instance=h,ve(h),h):(o=a,(h=kn.get(f))&&(o=S({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,a.precedence,e));return n.instance}function vc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ec=null;function N_(e,n,a){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(a,o)}else h=Ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function D_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function YS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function XS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ha(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Tc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,o=I_(o),(h=kn.get(h))&&Sd(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Tc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wd=0;function $S(e,n){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*DS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function Sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(JS,e),Ac=null,Tc.call(e))}function JS(e,n){if(!(n.state.loading&4)){var a=Ac.get(e);if(a)var o=a.get(null);else{a=new Map,Ac.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function ZS(e,n,a,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function M_(e,n,a,o,h,f,p,E,R,U,q,K){return e=new ZS(e,n,a,p,R,U,q,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},lf(f),e}function V_(e){return e?(e=Ta,e):Ta}function x_(e,n,a,o,h,f){h=V_(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Is(e,o,n),a!==null&&(cn(a,e,n),Yo(a,e,n))}function k_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Rd(e,n){k_(e,n),(e=e.alternate)&&k_(e,n)}function P_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&cn(n,e,67108864),Rd(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var n=En();n=dr(n);var a=wr(e,n);a!==null&&cn(a,e,n),Rd(e,n)}}var bc=!0;function WS(e,n,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=2,Id(e,n,a,o)}finally{tt.p=f,H.T=h}}function t1(e,n,a,o){var h=H.T;H.T=null;var f=tt.p;try{tt.p=8,Id(e,n,a,o)}finally{tt.p=f,H.T=h}}function Id(e,n,a,o){if(bc){var h=Cd(o);if(h===null)dd(e,n,o,wc,a),z_(e,o);else if(n1(h,e,n,a,o))o.stopPropagation();else if(z_(e,o),n&4&&-1<e1.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}bi(f),(jt&6)===0&&(oc=We()+500,cl(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&cn(E,f,2),uc(),Rd(f,2)}if(f=Cd(o),f===null&&dd(e,n,o,wc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,a)}}function Cd(e){return e=wn(e),Nd(e)}var wc=null;function Nd(e){if(wc=null,e=ci(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function U_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case vo:return 2;case Eo:return 8;case hs:case xh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Dd=!1,Us=null,zs=null,js=null,yl=new Map,_l=new Map,Bs=[],e1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&P_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function n1(e,n,a,o,h){switch(n){case"focusin":return Us=vl(Us,e,n,a,o,h),!0;case"dragenter":return zs=vl(zs,e,n,a,o,h),!0;case"mouseover":return js=vl(js,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,a,o,h)),!0}return!1}function j_(e){var n=ci(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,qn(e.priority,function(){L_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,qn(e.priority,function(){L_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=bn(a),n!==null&&P_(n),e.blockedOn=a,!1;n.shift()}return!0}function B_(e,n,a){Rc(e)&&a.delete(n)}function i1(){Dd=!1,Us!==null&&Rc(Us)&&(Us=null),zs!==null&&Rc(zs)&&(zs=null),js!==null&&Rc(js)&&(js=null),yl.forEach(B_),_l.forEach(B_)}function Ic(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,i1)))}var Cc=null;function q_(e){Cc!==e&&(Cc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Nd(o||a)===null)continue;break}var f=bn(a);f!==null&&(e.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ga(e){function n(R){return Ic(R,e)}Us!==null&&Ic(Us,e),zs!==null&&Ic(zs,e),js!==null&&Ic(js,e),yl.forEach(n),_l.forEach(n);for(var a=0;a<Bs.length;a++){var o=Bs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Bs.length&&(a=Bs[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&Bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Ve]||null;if(typeof f=="function")p||q_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(Nd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),q_(a)}}}function H_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(e){this._internalRoot=e}Nc.prototype.render=Od.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=En();x_(a,o,e,n,null,null)},Nc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),uc(),n[li]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=uu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Bs.length&&n!==0&&n<Bs[a].priority;a++);Bs.splice(a,0,e),a===0&&j_(e)}};var F_=t.version;if(F_!=="19.2.0")throw Error(r(527,F_,"19.2.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var s1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{jn=Dc.inject(s1),Ue=Dc}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Jp,f=Zp,p=Wp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=M_(e,1,!1,null,null,a,o,null,h,f,p,H_),e[li]=n.current,fd(e),new Od(n)},Tl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Jp,p=Zp,E=Wp,R=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=M_(e,1,!0,n,a??null,o,h,R,f,p,E,H_),n.context=V_(null),a=n.current,o=En(),o=dr(o),h=Rs(o),h.callback=null,Is(a,h,o),a=o,n.current.lanes=a,hr(n,a),bi(n),e[li]=n.current,fd(e),new Nc(n)},Tl.version="19.2.0",Tl}var tv;function p1(){if(tv)return xd.exports;tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),xd.exports=g1(),xd.exports}var y1=p1();const _1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),ev=s=>{const t=v1(s);return t.charAt(0).toUpperCase()+t.slice(1)},PE=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),E1=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var T1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const A1=ce.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>ce.createElement("svg",{ref:y,...T1,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:PE("lucide",l),...!u&&!E1(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>ce.createElement(_,A)),...Array.isArray(u)?u:[u]]));const xi=(s,t)=>{const i=ce.forwardRef(({className:r,...l},u)=>ce.createElement(A1,{ref:u,iconNode:t,className:PE(`lucide-${_1(ev(s))}`,`lucide-${s}`,r),...l}));return i.displayName=ev(s),i};const S1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LE=xi("arrow-right",S1);const b1=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],w1=xi("eye-off",b1);const R1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I1=xi("eye",R1);const C1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],N1=xi("lock",C1);const D1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],O1=xi("log-out",D1);const M1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],V1=xi("mail",M1);const x1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],k1=xi("menu",x1);const P1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],L1=xi("play",P1);const U1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Wd=xi("user",U1);const z1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UE=xi("x",z1),j1="/lumina-saas/assets/Logo-BL_BRLpe.png",B1=()=>{};var nv={};const zE=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},q1=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=u>>2,S=(u&3)<<4|g>>4;let M=(g&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),r.push(i[A],i[S],i[M],i[F])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(zE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):q1(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||_==null||S==null)throw new H1;const M=u<<2|g>>4;if(r.push(M),_!==64){const F=g<<4&240|_>>2;if(r.push(F),S!==64){const W=_<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F1=function(s){const t=zE(s);return jE.encodeByteArray(t,!0)},Qc=function(s){return F1(s).replace(/\./g,"")},BE=function(s){try{return jE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const K1=()=>G1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof nv>"u")return;const s=nv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Y1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&BE(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return B1()||K1()||Q1()||Y1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qE=s=>mh()?.emulatorHosts?.[s],X1=s=>{const t=qE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},HE=()=>mh()?.config,FE=s=>mh()?.[`_${s}`];class $1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function lo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GE(s){return(await fetch(s,{credentials:"include"})).ok}function J1(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const Cl={};function Z1(){const s={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?s.emulator.push(t):s.prod.push(t);return s}function W1(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let iv=!1;function KE(s,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Cl[s]===t||Cl[s]||iv)return;Cl[s]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",u=Z1().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{iv=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=W1(r),F=i("text"),W=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ht=i("preprendIcon"),_t=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;g(dt),A(J,nt);const Bt=_();y(_t,ht),dt.append(_t,W,J,Bt),document.body.appendChild(dt)}u?(W.innerText="Preview backend disconnected.",_t.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_t.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function eb(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function ib(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function rb(){return!eb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}function ab(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ob="FirebaseError";class ni extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=ob,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?lb(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ni(l,g,r)}}function lb(s,t){return s.replace(ub,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const ub=/\{\$([^}]+)}/g;function cb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Zs(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=t[l];if(sv(u)&&sv(d)){if(!Zs(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function sv(s){return s!==null&&typeof s=="object"}function Kl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Al(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Sl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function hb(s,t){const i=new fb(s,t);return i.subscribe.bind(i)}class fb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");db(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function db(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ud(){}const mb=1e3,gb=2,pb=14400*1e3,yb=.5;function rv(s,t=mb,i=gb){const r=t*Math.pow(i,s),l=Math.round(yb*r*(Math.random()-.5)*2);return Math.min(pb,r+l)}function Ke(s){return s&&s._delegate?s._delegate:s}class ei{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class _b{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new $1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Eb(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vb(s){return s===zr?void 0:s}function Eb(s){return s.instantiationMode==="EAGER"}class Tb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _b(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const Ab={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},Sb=Dt.INFO,bb={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},wb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=bb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gh{constructor(t){this.name=t,this._logLevel=Sb,this._logHandler=wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ab[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const Rb=(s,t)=>t.some(i=>s instanceof i);let av,ov;function Ib(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cb(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,tm=new WeakMap,JE=new WeakMap,zd=new WeakMap,Im=new WeakMap;function Nb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Ys(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&$E.set(i,s)}).catch(()=>{}),Im.set(t,s),t}function Db(s){if(tm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||JE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Ob(s){em=s(em)}function Mb(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(jd(this),t,...i);return JE.set(r,t.sort?t.sort():[t]),Ys(r)}:Cb().includes(s)?function(...t){return s.apply(jd(this),t),Ys($E.get(this))}:function(...t){return Ys(s.apply(jd(this),t))}}function Vb(s){return typeof s=="function"?Mb(s):(s instanceof IDBTransaction&&Db(s),Rb(s,Ib())?new Proxy(s,em):s)}function Ys(s){if(s instanceof IDBRequest)return Nb(s);if(zd.has(s))return zd.get(s);const t=Vb(s);return t!==s&&(zd.set(s,t),Im.set(t,s)),t}const jd=s=>Im.get(s);function ZE(s,t,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,t),g=Ys(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ys(d.result),y.oldVersion,y.newVersion,Ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const xb=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],Bd=new Map;function lv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=kb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||xb.includes(i)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Bd.set(t,u),u}Ob(s=>({...s,get:(t,i,r)=>lv(t,i)||s.get(t,i,r),has:(t,i)=>!!lv(t,i)||s.has(t,i)}));class Pb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Lb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Lb(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",uv="0.14.6";const rs=new gh("@firebase/app"),Ub="@firebase/app-compat",zb="@firebase/analytics-compat",jb="@firebase/analytics",Bb="@firebase/app-check-compat",qb="@firebase/app-check",Hb="@firebase/auth",Fb="@firebase/auth-compat",Gb="@firebase/database",Kb="@firebase/data-connect",Qb="@firebase/database-compat",Yb="@firebase/functions",Xb="@firebase/functions-compat",$b="@firebase/installations",Jb="@firebase/installations-compat",Zb="@firebase/messaging",Wb="@firebase/messaging-compat",tw="@firebase/performance",ew="@firebase/performance-compat",nw="@firebase/remote-config",iw="@firebase/remote-config-compat",sw="@firebase/storage",rw="@firebase/storage-compat",aw="@firebase/firestore",ow="@firebase/ai",lw="@firebase/firestore-compat",uw="firebase",cw="12.6.0";const im="[DEFAULT]",hw={[nm]:"fire-core",[Ub]:"fire-core-compat",[jb]:"fire-analytics",[zb]:"fire-analytics-compat",[qb]:"fire-app-check",[Bb]:"fire-app-check-compat",[Hb]:"fire-auth",[Fb]:"fire-auth-compat",[Gb]:"fire-rtdb",[Kb]:"fire-data-connect",[Qb]:"fire-rtdb-compat",[Yb]:"fire-fn",[Xb]:"fire-fn-compat",[$b]:"fire-iid",[Jb]:"fire-iid-compat",[Zb]:"fire-fcm",[Wb]:"fire-fcm-compat",[tw]:"fire-perf",[ew]:"fire-perf-compat",[nw]:"fire-rc",[iw]:"fire-rc-compat",[sw]:"fire-gcs",[rw]:"fire-gcs-compat",[aw]:"fire-fst",[lw]:"fire-fst-compat",[ow]:"fire-vertex","fire-js":"fire-js",[uw]:"fire-js-all"};const Yc=new Map,fw=new Map,sm=new Map;function cv(s,t){try{s.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Oi(s){const t=s.name;if(sm.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Yc.values())cv(i,s);for(const i of fw.values())cv(i,s);return!0}function Jr(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Tn(s){return s==null?!1:s.settings!==void 0}const dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new $r("app","Firebase",dw);class mw{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const uo=cw;function WE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:im,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(i||(i=HE()),!i)throw Xs.create("no-options");const u=Yc.get(l);if(u){if(Zs(i,u.options)&&Zs(r,u.config))return u;throw Xs.create("duplicate-app",{appName:l})}const d=new Tb(l);for(const y of sm.values())d.addComponent(y);const g=new mw(i,r,d);return Yc.set(l,g),g}function Cm(s=im){const t=Yc.get(s);if(!t&&s===im&&HE())return WE();if(!t)throw Xs.create("no-app",{appName:s});return t}function Un(s,t,i){let r=hw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}Oi(new ei(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const gw="firebase-heartbeat-database",pw=1,kl="firebase-heartbeat-store";let qd=null;function tT(){return qd||(qd=ZE(gw,pw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xs.create("idb-open",{originalErrorMessage:s.message})})),qd}async function yw(s){try{const i=(await tT()).transaction(kl),r=await i.objectStore(kl).get(eT(s));return await i.done,r}catch(t){if(t instanceof ni)rs.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function hv(s,t){try{const r=(await tT()).transaction(kl,"readwrite");await r.objectStore(kl).put(t,eT(s)),await r.done}catch(i){if(i instanceof ni)rs.warn(i.message);else{const r=Xs.create("idb-set",{originalErrorMessage:i?.message});rs.warn(r.message)}}}function eT(s){return`${s.name}!${s.options.appId}`}const _w=1024,vw=30;class Ew{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Aw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>vw){const l=Sw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fv(),{heartbeatsToSend:i,unsentEntries:r}=Tw(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rs.warn(t),""}}}function fv(){return new Date().toISOString().substring(0,10)}function Tw(s,t=_w){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),dv(i)>t){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),dv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Aw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await yw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return hv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function dv(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function Sw(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function bw(s){Oi(new ei("platform-logger",t=>new Pb(t),"PRIVATE")),Oi(new ei("heartbeat",t=>new Ew(t),"PRIVATE")),Un(nm,uv,s),Un(nm,uv,"esm2020"),Un("fire-js","")}bw("");function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ww=nT,iT=new $r("auth","Firebase",nT());const Xc=new gh("@firebase/auth");function Rw(s,...t){Xc.logLevel<=Dt.WARN&&Xc.warn(`Auth (${uo}): ${s}`,...t)}function Lc(s,...t){Xc.logLevel<=Dt.ERROR&&Xc.error(`Auth (${uo}): ${s}`,...t)}function zn(s,...t){throw Dm(s,...t)}function ti(s,...t){return Dm(s,...t)}function Nm(s,t,i){const r={...ww(),[t]:i};return new $r("auth","Firebase",r).create(t,{appName:s.name})}function is(s){return Nm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iw(s,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&zn(s,"argument-error"),Nm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return iT.create(s,...t)}function mt(s,t,...i){if(!s)throw Dm(t,...i)}function es(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function as(s,t){s||es(t)}function rm(){return typeof self<"u"&&self.location?.href||""}function Cw(){return mv()==="http:"||mv()==="https:"}function mv(){return typeof self<"u"&&self.location?.protocol||null}function Nw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cw()||QE()||"connection"in navigator)?navigator.onLine:!0}function Dw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=tb()||ib()}get(){return Nw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,t){as(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class sT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Mw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vw=new Ql(3e4,6e4);function rr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function us(s,t,i,r,l={}){return rT(s,l,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const g=Kl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...u};return nb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&lo(s.emulatorConfig.host)&&(_.credentials="include"),sT.fetch()(await aT(s,s.config.apiHost,i,g),_)})}async function rT(s,t,i){s._canInitEmulator=!1;const r={...Ow,...t};try{const l=new kw(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Nm(s,A,_);zn(s,A)}}catch(l){if(l instanceof ni)throw l;zn(s,"network-request-failed",{message:String(l)})}}async function Yl(s,t,i,r,l={}){const u=await us(s,t,i,r,l);return"mfaPendingCredential"in u&&zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function aT(s,t,i,r){const l=`${t}${i}?${r}`,u=s,d=u.config.emulator?Om(s.config,l):`${s.config.apiScheme}://${l}`;return Mw.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function xw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),Vw.get())})}}function Oc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=ti(s,t,r);return l.customData._tokenResponse=i,l}function gv(s){return s!==void 0&&s.enterprise!==void 0}class Pw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return xw(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Lw(s,t){return us(s,"GET","/v2/recaptchaConfig",rr(s,t))}async function Uw(s,t){return us(s,"POST","/v1/accounts:delete",t)}async function $c(s,t){return us(s,"POST","/v1/accounts:lookup",t)}function Nl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zw(s,t=!1){const i=Ke(s),r=await i.getIdToken(t),l=Mm(r);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Nl(Hd(l.auth_time)),issuedAtTime:Nl(Hd(l.iat)),expirationTime:Nl(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function Mm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=BE(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function pv(s){const t=Mm(s);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function eo(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ni&&jw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function jw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Bw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(s){const t=s.auth,i=await s.getIdToken(),r=await eo(s,$c(t,{idToken:i}));mt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?oT(l.providerUserInfo):[],d=Hw(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function qw(s){const t=Ke(s);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Hw(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function oT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Fw(s,t){const i=await rT(s,{},async()=>{const r=Kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await aT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&lo(s.emulatorConfig.host)&&(y.credentials="include"),sT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Gw(s,t){return us(s,"POST","/v2/accounts:revokeToken",rr(s,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=pv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await Fw(t,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new $a;return r&&(mt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(mt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return es("not implemented")}}function Hs(s,t){mt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new Bw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await eo(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zw(this,t)}reload(){return qw(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(is(this.auth));const t=await this.getIdToken();return await eo(this,Uw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:nt}=i;mt(S&&nt,t,"internal-error");const J=$a.fromJSON(this.name,nt);mt(typeof S=="string",t,"internal-error"),Hs(r,t.name),Hs(l,t.name),mt(typeof M=="boolean",t,"internal-error"),mt(typeof F=="boolean",t,"internal-error"),Hs(u,t.name),Hs(d,t.name),Hs(g,t.name),Hs(y,t.name),Hs(_,t.name),Hs(A,t.name);const ht=new Zn({uid:S,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(ht.providerData=W.map(_t=>({..._t}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,r=!1){const l=new $a;l.updateFromServerResponse(i);const u=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Jc(u),u}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?oT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new $a;g.updateFromIdToken(r);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,_),y}}const yv=new Map;function ns(s){as(s instanceof Function,"Expected a class definition");let t=yv.get(s);return t?(as(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,yv.set(s,t),t)}class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}lT.type="NONE";const _v=lT;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ja{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Uc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ja(ns(_v),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||ns(_v);const d=Uc(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await $c(t,{idToken:A}).catch(()=>{});if(!M)break;S=await Zn._fromGetAccountInfoResponse(t,M,A)}else S=Zn._fromJSON(t,A);_!==u&&(g=S),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ja(u,t,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Ja(u,t,r))}}function vv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mT(t))return"Blackberry";if(gT(t))return"Webos";if(cT(t))return"Safari";if((t.includes("chrome/")||hT(t))&&!t.includes("edge/"))return"Chrome";if(dT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function uT(s=Ze()){return/firefox\//i.test(s)}function cT(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hT(s=Ze()){return/crios\//i.test(s)}function fT(s=Ze()){return/iemobile/i.test(s)}function dT(s=Ze()){return/android/i.test(s)}function mT(s=Ze()){return/blackberry/i.test(s)}function gT(s=Ze()){return/webos/i.test(s)}function Vm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Kw(s=Ze()){return Vm(s)&&!!window.navigator?.standalone}function Qw(){return sb()&&document.documentMode===10}function pT(s=Ze()){return Vm(s)||dT(s)||gT(s)||mT(s)||/windows phone/i.test(s)||fT(s)}function yT(s,t=[]){let i;switch(s){case"Browser":i=vv(Ze());break;case"Worker":i=`${vv(Ze())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${r}`}class Yw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((d,g)=>{try{const y=t(u);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Xw(s,t={}){return us(s,"GET","/v2/passwordPolicy",rr(s,t))}const $w=6;class Jw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??$w,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class Zw{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new Yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Tn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Dw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Tn(this.app))return Promise.reject(is(this));const i=t?Ke(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Tn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Xw(this),i=new Jw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $r("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await Gw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ns(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Rw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ar(s){return Ke(s)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=hb(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ww(s){ph=s}function _T(s){return ph.loadJS(s)}function tR(){return ph.recaptchaEnterpriseScript}function eR(){return ph.gapiScript}function nR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class iR{constructor(){this.enterprise=new sR}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class sR{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const rR="recaptcha-enterprise",vT="NO_RECAPTCHA";class aR{constructor(t){this.type=rR,this.auth=ar(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{Lw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new Pw(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;gv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:t}).then(_=>{d(_)}).catch(()=>{d(vT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iR().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!i&&gv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=tR();y.length!==0&&(y+=g),_T(y).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Tv(s,t,i,r=!1,l=!1){const u=new aR(s);let d;if(l)d=vT;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function om(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Tv(s,t,i,i==="getOobCode");return r(s,u)}else return r(s,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Tv(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function oR(s,t){const i=Jr(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Zs(u,t??{}))return l;zn(l,"already-initialized")}return i.initialize({options:t})}function lR(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ns);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function uR(s,t,i){const r=ar(s);mt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,u=ET(t),{host:d,port:g}=cR(t),y=g===null?"":`:${g}`,_={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){mt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mt(Zs(_,r.config.emulator)&&Zs(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,lo(d)?(GE(`${u}//${d}${y}`),KE("Auth",!0)):hR()}function ET(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function cR(s){const t=ET(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Av(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Av(d)}}}function Av(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function hR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,i){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function fR(s,t){return us(s,"POST","/v1/accounts:signUp",t)}async function dR(s,t){return Yl(s,"POST","/v1/accounts:signInWithPassword",rr(s,t))}async function mR(s,t){return Yl(s,"POST","/v1/accounts:signInWithEmailLink",rr(s,t))}async function gR(s,t){return Yl(s,"POST","/v1/accounts:signInWithEmailLink",rr(s,t))}class Pl extends xm{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Pl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(t,i,"signInWithPassword",dR);case"emailLink":return mR(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(t,r,"signUpPassword",fR);case"emailLink":return gR(t,{idToken:i,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Za(s,t){return Yl(s,"POST","/v1/accounts:signInWithIdp",rr(s,t))}const pR="http://localhost";class Fr extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new Fr(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Kl(i)}return t}}function yR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _R(s){const t=Al(Sl(s)).link,i=t?Al(Sl(t)).deep_link_id:null,r=Al(Sl(s)).deep_link_id;return(r?Al(Sl(r)).link:null)||r||i||t||s}class km{constructor(t){const i=Al(Sl(t)),r=i.apiKey??null,l=i.oobCode??null,u=yR(i.mode??null);mt(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=_R(t);try{return new km(i)}catch{return null}}}class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=km.parseLink(i);return mt(r,"argument-error"),Pl._fromEmailAndCode(t,r.code,r.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends Xl{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class ts extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return ts.credential(i,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class Gs extends Xl{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Ks extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ks.credential(i,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function vR(s,t){return Yl(s,"POST","/v1/accounts:signUp",rr(s,t))}class Gr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const u=await Zn._fromIdTokenResponse(t,r,l),d=Sv(r);return new Gr({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=Sv(r);return new Gr({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function Sv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Zc extends ni{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new Zc(t,i,r,l)}}function TT(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(s,u,t,r):u})}async function ER(s,t,i=!1){const r=await eo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Gr._forOperation(s,"link",r)}async function TR(s,t,i=!1){const{auth:r}=s;if(Tn(r.app))return Promise.reject(is(r));const l="reauthenticate";try{const u=await eo(s,TT(r,l,t,s),i);mt(u.idToken,r,"internal-error");const d=Mm(u.idToken);mt(d,r,"internal-error");const{sub:g}=d;return mt(s.uid===g,r,"user-mismatch"),Gr._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&zn(r,"user-mismatch"),u}}async function AT(s,t,i=!1){if(Tn(s.app))return Promise.reject(is(s));const r="signIn",l=await TT(s,r,t),u=await Gr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function AR(s,t){return AT(ar(s),t)}async function ST(s){const t=ar(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function SR(s,t,i){if(Tn(s.app))return Promise.reject(is(s));const r=ar(s),d=await om(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vR).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&ST(s),y}),g=await Gr._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function bR(s,t,i){return Tn(s.app)?Promise.reject(is(s)):AR(Ke(s),co.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ST(s),r})}async function wR(s,t){return us(s,"POST","/v1/accounts:update",t)}async function RR(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const r=Ke(s),u={idToken:await r.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await eo(r,wR(r.auth,u));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const g=r.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function IR(s,t,i,r){return Ke(s).onIdTokenChanged(t,i,r)}function CR(s,t,i){return Ke(s).beforeAuthStateChanged(t,i)}function NR(s,t,i,r){return Ke(s).onAuthStateChanged(t,i,r)}function DR(s){return Ke(s).signOut()}const Wc="__sak";class bT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const OR=1e3,MR=10;class wT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);Qw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,MR):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}wT.type="LOCAL";const VR=wT;class RT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}RT.type="SESSION";const IT=RT;function xR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new yh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,u)),y=await xR(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Lm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class kR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const _=Lm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(M.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function PR(s){Ri().location.href=s}function CT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function LR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UR(){return navigator?.serviceWorker?.controller||null}function zR(){return CT()?self:null}const NT="firebaseLocalStorageDb",jR=1,th="firebaseLocalStorage",DT="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,t){return s.transaction([th],t?"readwrite":"readonly").objectStore(th)}function BR(){const s=indexedDB.deleteDatabase(NT);return new $l(s).toPromise()}function lm(){const s=indexedDB.open(NT,jR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(th,{keyPath:DT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(th)?t(r):(r.close(),await BR(),t(await lm()))})})}async function bv(s,t,i){const r=_h(s,!0).put({[DT]:t,value:i});return new $l(r).toPromise()}async function qR(s,t){const i=_h(s,!1).get(t),r=await new $l(i).toPromise();return r===void 0?null:r.value}function wv(s,t){const i=_h(s,!0).delete(t);return new $l(i).toPromise()}const HR=800,FR=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>FR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(zR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new kR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await bv(t,Wc,"1"),await wv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>bv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>qR(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=_h(l,!1).getAll();return new $l(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const GR=OT;new Ql(3e4,6e4);function MT(s,t){return t?ns(t):(mt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Um extends xm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function KR(s){return AT(s.auth,new Um(s),s.bypassAuthState)}function QR(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),TR(i,new Um(s),s.bypassAuthState)}async function YR(s){const{auth:t,user:i}=s;return mt(i,t,"internal-error"),ER(i,new Um(s),s.bypassAuthState)}class VT{constructor(t,i,r,l,u=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KR;case"linkViaPopup":case"linkViaRedirect":return YR;case"reauthViaPopup":case"reauthViaRedirect":return QR;default:zn(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XR=new Ql(2e3,1e4);async function $R(s,t,i){if(Tn(s.app))return Promise.reject(ti(s,"operation-not-supported-in-this-environment"));const r=ar(s);Iw(s,t,Pm);const l=MT(r,i);return new jr(r,"signInViaPopup",t,l).executeNotNull()}class jr extends VT{constructor(t,i,r,l,u){super(t,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XR.get())};t()}}jr.currentPopupAction=null;const JR="pendingRedirect",zc=new Map;class ZR extends VT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const r=await WR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WR(s,t){const i=nI(t),r=eI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function tI(s,t){zc.set(s._key(),t)}function eI(s){return ns(s._redirectPersistence)}function nI(s){return Uc(JR,s.config.apiKey,s.name)}async function iI(s,t,i=!1){if(Tn(s.app))return Promise.reject(is(s));const r=ar(s),l=MT(r,t),d=await new ZR(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const sI=600*1e3;class rI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!xT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ti(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(t))}saveEventToCache(t){this.cachedEventUids.add(Rv(t)),this.lastProcessedEventTime=Date.now()}}function Rv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function xT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function aI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(s);default:return!1}}async function oI(s,t={}){return us(s,"GET","/v1/projects",t)}const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function cI(s){if(s.config.emulator)return;const{authorizedDomains:t}=await oI(s);for(const i of t)try{if(hI(i))return}catch{}zn(s,"unauthorized-domain")}function hI(s){const t=rm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!uI.test(i))return!1;if(lI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const fI=new Ql(3e4,6e4);function Iv(){const s=Ri().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function dI(s){return new Promise((t,i)=>{function r(){Iv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Iv(),i(ti(s,"network-request-failed"))},timeout:fI.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)r();else{const l=nR("iframefcb");return Ri()[l]=()=>{gapi.load?r():i(ti(s,"network-request-failed"))},_T(`${eR()}?onload=${l}`).catch(u=>i(u))}}).catch(t=>{throw jc=null,t})}let jc=null;function mI(s){return jc=jc||dI(s),jc}const gI=new Ql(5e3,15e3),pI="__/auth/iframe",yI="emulator/auth/iframe",_I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EI(s){const t=s.config;mt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Om(t,yI):`https://${s.config.authDomain}/${pI}`,r={apiKey:t.apiKey,appName:s.name,v:uo},l=vI.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Kl(r).slice(1)}`}async function TI(s){const t=await mI(s),i=Ri().gapi;return mt(i,s,"internal-error"),t.open({where:document.body,url:EI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_I,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=ti(s,"network-request-failed"),g=Ri().setTimeout(()=>{u(d)},gI.get());function y(){Ri().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const AI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SI=500,bI=600,wI="_blank",RI="http://localhost";class Cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function II(s,t,i,r=SI,l=bI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...AI,width:r.toString(),height:l.toString(),top:u,left:d},_=Ze().toLowerCase();i&&(g=hT(_)?wI:i),uT(_)&&(t=t||RI,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(Kw(_)&&g!=="_self")return CI(t||"",g),new Cv(null);const S=window.open(t||"",g,A);mt(S,s,"popup-blocked");try{S.focus()}catch{}return new Cv(S)}function CI(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const NI="__/auth/handler",DI="emulator/auth/handler",OI=encodeURIComponent("fac");async function Nv(s,t,i,r,l,u){mt(s.config.authDomain,s,"auth-domain-config-required"),mt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:uo,eventId:l};if(t instanceof Pm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",cb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Xl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${OI}=${encodeURIComponent(y)}`:"";return`${MI(s)}?${Kl(g).slice(1)}${_}`}function MI({config:s}){return s.emulator?Om(s,DI):`https://${s.authDomain}/${NI}`}const Fd="webStorageSupport";class VI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=iI,this._overrideRedirectResult=tI}async _openPopup(t,i,r,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Nv(t,i,r,rm(),l);return II(t,u,Lm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const u=await Nv(t,i,r,rm(),l);return PR(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(as(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await TI(t),r=new rI(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Fd,{type:Fd},l=>{const u=l?.[0]?.[Fd];u!==void 0&&i(!!u),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=cI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return pT()||cT()||Vm()}}const xI=VI;var Dv="@firebase/auth",Ov="1.11.1";class kI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LI(s){Oi(new ei("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(s)},_=new Zw(r,l,u,y);return lR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Oi(new ei("auth-internal",t=>{const i=ar(t.getProvider("auth").getImmediate());return(r=>new kI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(Dv,Ov,PI(s)),Un(Dv,Ov,"esm2020")}const UI=300,zI=FE("authIdTokenMaxAge")||UI;let Mv=null;const jI=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>zI)return;const l=i?.token;Mv!==l&&(Mv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BI(s=Cm()){const t=Jr(s,"auth");if(t.isInitialized())return t.getImmediate();const i=oR(s,{popupRedirectResolver:xI,persistence:[GR,VR,IT]}),r=FE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=jI(u.toString());CR(i,d,()=>d(i.currentUser)),IR(i,g=>d(g))}}const l=qE("auth");return l&&uR(i,`http://${l}`),i}function qI(){return document.getElementsByTagName("head")?.[0]??document}Ww({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const u=ti("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",qI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LI("Browser");var Vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,kT;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,k){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return b.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],D=C.g[2];let k=C.g[3],w;w=b+(k^I&(D^k))+V[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+V[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+V[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+V[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(k^I&(D^k))+V[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+V[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+V[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+V[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(k^I&(D^k))+V[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+V[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+V[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+V[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(k^I&(D^k))+V[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=k+(D^b&(I^D))+V[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(I^k&(b^I))+V[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=I+(b^D&(k^b))+V[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(I^D))+V[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+V[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+V[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+V[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(I^D))+V[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+V[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+V[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+V[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(I^D))+V[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+V[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+V[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+V[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(I^D))+V[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=k+(I^D&(b^I))+V[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^I&(k^b))+V[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=I+(k^b&(D^k))+V[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=b+(I^D^k)+V[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+V[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+V[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+V[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^k)+V[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+V[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+V[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+V[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^k)+V[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+V[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+V[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+V[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(I^D^k)+V[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=k+(b^I^D)+V[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^I)+V[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=I+(D^k^b)+V[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=b+(D^(I|~k))+V[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+V[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+V[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+V[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~k))+V[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+V[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+V[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+V[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~k))+V[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+V[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+V[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+V[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=b+(D^(I|~k))+V[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=k+(I^(b|~D))+V[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~I))+V[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=I+(k^(D|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<b;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<b;)if(V[D++]=C[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[b++]=this.g[I]>>>V&255;return C};function u(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==b||(I[D]=k,V=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?u(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(_(-C));const b=[];let I=1;for(let V=0;C>=I;V++)b[V]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let V=S;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const w=parseInt(C.substring(k,k+D),b);D<8?(D=_(Math.pow(b,D)),V=V.j(D).add(_(w))):(V=V.j(I),V=V.add(_(w)))}return V}var S=y(0),M=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(nt(this))return"-"+J(this).toString(C);const b=_(Math.pow(C,6));var I=this;let V="";for(;;){const D=Bt(I,b).g;I=ht(I,D.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,W(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function nt(C){return C.h==-1}s.l=function(C){return C=ht(this,C),nt(C)?-1:W(C)?0:1};function J(C){const b=C.g.length,I=[];for(let V=0;V<b;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return nt(this)?J(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=b;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=w>>>16,k&=65535,w&=65535,I[D]=w<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,b){return C.add(J(b))}s.j=function(C){if(W(this)||W(C))return S;if(nt(this))return nt(C)?J(this).j(J(C)):J(J(this).j(C));if(nt(C))return J(this.j(J(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,w=this.i(V)&65535,ne=C.i(D)>>>16,Ie=C.i(D)&65535;I[2*V+2*D]+=w*Ie,_t(I,2*V+2*D),I[2*V+2*D+1]+=k*Ie,_t(I,2*V+2*D+1),I[2*V+2*D+1]+=w*ne,_t(I,2*V+2*D+1),I[2*V+2*D+2]+=k*ne,_t(I,2*V+2*D+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function _t(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function dt(C,b){this.g=C,this.h=b}function Bt(C,b){if(W(b))throw Error("division by zero");if(W(C))return new dt(S,S);if(nt(C))return b=Bt(J(C),b),new dt(J(b.g),J(b.h));if(nt(b))return b=Bt(C,J(b)),new dt(J(b.g),b.h);if(C.g.length>30){if(nt(C)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=b;V.l(C)<=0;)I=Jt(I),V=Jt(V);var D=Tt(I,1),k=Tt(V,1);for(V=Tt(V,2),I=Tt(I,2);!W(V);){var w=k.add(V);w.l(C)<=0&&(D=D.add(I),k=w),V=Tt(V,1),I=Tt(I,1)}return b=ht(C,D.j(b)),new dt(D,b)}for(D=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),w=k.j(b);nt(w)||w.l(C)>0;)I-=V,k=_(I),w=k.j(b);W(k)&&(k=M),D=D.add(k),C=ht(C,w)}return new dt(D,C)}s.B=function(C){return Bt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function Jt(C){const b=C.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Tt(C,b){const I=b>>5;b%=32;const V=C.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=b>0?C.i(k+I)>>>b|C.i(k+I+1)<<32-b:C.i(k+I);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,$s=d}).apply(typeof Vv<"u"?Vv:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PT,bl,LT,Bc,um,UT,zT,jT;(function(){var s,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)t:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var P=c[T];if(!(P in v))break t;v=v[P]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=y,_.apply(null,arguments)}function A(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(T,P,j){for(var Z=Array(arguments.length-2),At=2;At<arguments.length;At++)Z[At-2]=arguments[At];return m.prototype[P].apply(T,Z)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function W(c,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const j=P.length||0;c.length=v+j;for(let Z=0;Z<j;Z++)c[v+Z]=P[Z]}else c.push(P)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(c){d.setTimeout(()=>{throw c},0)}function ht(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){const T=dt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new nt(()=>new Bt,c=>c.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,Tt=!1,C=new _t,b=()=>{const c=Promise.resolve(void 0);Jt=()=>{c.then(I)}};function I(){for(var c;c=ht();){try{c.h.call(c.g)}catch(v){J(v)}var m=dt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function ne(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ne,D),ne.prototype.init=function(c,m){const v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(c,m,v,T,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pt(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function Ht(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(c,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)c[v]=T[v];for(let j=0;j<Q.length;j++)v=Q[j],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,T,P){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const Z=bt(c,m,T,P);return Z>-1?(m=c[Z],v||(m.fa=!1)):(m=new tt(m,this.src,j,!!T,P),m.fa=v,c.push(m)),m};function pt(c,m){const v=m.type;if(v in c.g){var T=c.g[v],P=Array.prototype.indexOf.call(T,m,void 0),j;(j=P>=0)&&Array.prototype.splice.call(T,P,1),j&&(ut(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,m,v,T){for(let P=0;P<c.length;++P){const j=c[P];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return P}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function ie(c,m,v,T,P){if(Array.isArray(m)){for(let j=0;j<m.length;j++)ie(c,m[j],v,T,P);return null}return v=_o(v),c&&c[Ie]?c.J(m,v,g(T)?!!T.capture:!1,P):or(c,m,v,!1,T,P)}function or(c,m,v,T,P,j){if(!m)throw Error("Invalid event type");const Z=g(P)?!!P.capture:!!P;let At=lr(c);if(At||(c[xt]=At=new st(c)),v=At.add(m,v,T,Z,j),v.proxy)return v;if(T=na(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)k||(P=Z),P===void 0&&(P=!1),c.addEventListener(m.toString(),T,P);else if(c.attachEvent)c.attachEvent(ii(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function c(v){return m.call(c.src,c.listener,v)}const m=po;return c}function ia(c,m,v,T,P){if(Array.isArray(m))for(var j=0;j<m.length;j++)ia(c,m[j],v,T,P);else T=g(T)?!!T.capture:!!T,v=_o(v),c&&c[Ie]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=bt(m,v,T,P),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=lr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=bt(m,v,T,P)),(v=c>-1?m[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])pt(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(ii(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=lr(m))?(pt(v,c),v.h==0&&(v.src=null,m[xt]=null)):ut(c)}}}function ii(c){return c in Ce?Ce[c]:Ce[c]="on"+c}function po(c,m){if(c.da)c=!0;else{m=new ne(m,this);const v=c.listener,T=c.ha||c.src;c.fa&&sa(c),c=v.call(T,m)}return c}function lr(c){return c=c[xt],c instanceof st?c:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(c){return typeof c=="function"?c:(c[yo]||(c[yo]=function(m){return c.handleEvent(m)}),c[yo])}function pe(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(pe,V),pe.prototype[Ie]=!0,pe.prototype.removeEventListener=function(c,m,v,T){ia(this,c,m,v,T)};function Ne(c,m){var v,T=c.G;if(T)for(v=[];T;T=T.G)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var P=m;m=new D(T,c),et(m,P)}P=!0;let j,Z;if(v)for(Z=v.length-1;Z>=0;Z--)j=m.g=v[Z],P=cs(j,T,!0,m)&&P;if(j=m.g=c,P=cs(j,T,!0,m)&&P,P=cs(j,T,!1,m)&&P,v)for(Z=0;Z<v.length;Z++)j=m.g=v[Z],P=cs(j,T,!1,m)&&P}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete c.g[m],c.h--}}this.G=null},pe.prototype.J=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},pe.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function cs(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let j=0;j<m.length;++j){const Z=m[j];if(Z&&!Z.da&&Z.capture==v){const At=Z.listener,fe=Z.ha||Z.src;Z.fa&&pt(c.i,Z),P=At.call(fe,T)!==!1&&P}}return P&&!T.defaultPrevented}function Vh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function nu(c){c.g=Vh(()=>{c.g=null,c.i&&(c.i=!1,nu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(c){V.call(this),this.h=c,this.g={}}S(ur,V);var vo=[];function Eo(c){Pt(c.g,function(m,v){this.g.hasOwnProperty(v)&&sa(m)},c),c.g={}}ur.prototype.N=function(){ur.Z.N.call(this),Eo(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=d.JSON.stringify,xh=d.JSON.parse,iu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function su(){}function ru(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){D.call(this,"d")}S(Ue,D);function Sn(){D.call(this,"c")}S(Sn,D);var he={},au=null;function ra(){return au=au||new pe}he.Ia="serverreachability";function ou(c){D.call(this,he.Ia,c)}S(ou,D);function si(c){const m=ra();Ne(m,new ou(m))}he.STAT_EVENT="statevent";function cr(c,m){D.call(this,he.STAT_EVENT,c),this.stat=m}S(cr,D);function ye(c){const m=ra();Ne(m,new cr(m,c))}he.Ja="timingevent";function ri(c,m){D.call(this,he.Ja,c),this.size=m}S(ri,D);function ai(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function kh(c,m,v,T,P,j){c.info(function(){if(c.g)if(j){var Z="",At=j.split("&");for(let zt=0;zt<At.length;zt++){var fe=At[zt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const In=se.split("_");Z=In.length>=2&&In[1]=="type"?Z+(se+"="+fe+"&"):Z+(se+"=redacted&")}}}else Z=null;else Z=j;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+Z})}function lu(c,m,v,T,P,j,Z){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+j+" "+Z})}function oi(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(c,v)+(T?" "+T:"")})}function hr(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Ph(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return hs(j)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function dr(){}S(dr,su),dr.prototype.g=function(){return new XMLHttpRequest},Ao=new dr;function ki(c){return encodeURIComponent(String(c))}function uu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function qn(c,m,v,T){this.j=c,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function li(c,m,v){c.M=1,c.A=mr(Ee(m)),c.u=v,c.R=!0,aa(c,null)}function aa(c,m){c.F=Date.now(),ui(c),c.B=Ee(c.A);var v=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),ca(v.i,"t",T),c.C=0,v=c.j.L,c.h=new Hn,c.g=bu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,T=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(vo[0]=P.toString()),P=vo);for(let j=0;j<P.length;j++){const Z=ie(v,P[j],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),si(),kh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Kn(c)==3?m.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Kn(this.g),fe=this.g.ya(),zt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||fe==7||(fe==8||zt<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(c=j)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,ye(12),fn(this),bn(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<v.length;)if(se=hu(this,v),se==Ve){At==4&&(this.m=4,ye(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,se,null),hi(this,se);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,ye(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(Z),Z.P=!0,ye(11))}}else oi(this.i,this.l,v,null),hi(this,v);At==4&&fn(this),this.o&&!this.K&&(At==4?Eu(this.j,this):(this.o=!1,ui(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),fn(this),bn(this)}}}catch{}finally{}};function Lh(c){if(!cu(c))return c.g.la();const m=ze(c.g);if(m==="")return"";let v="";const T=m.length,P=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),bn(c),"";c.h.i=new d.TextDecoder}for(let j=0;j<T;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(P&&j==T-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),c.C=T+v,m)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function ui(c){c.T=Date.now()+c.H,oa(c,c.H)}function oa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(_(c.aa,c),m)}function ci(c){c.D&&(d.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hr(this.i,this.B),this.M!=2&&(si(),ye(17)),fn(this),this.m=2,bn(this)):oa(this,this.T-c)};function bn(c){c.j.I==0||c.K||Eu(c.j,c)}function fn(c){ci(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Eo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function hi(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),vs(v);else break t;Tr(v),ye(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(_(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&ga(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let zt=P[m];const se=zt[0];if(!(se<=v.K))if(v.K=se,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const In=zt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=zt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Qn=zt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Yn=c.g;if(Yn){const Ar=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var j=T.h;j.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(wo(j,j.h),j.h=null))}if(T.G){const pa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;pa&&(T.wa=pa,Ft(T.J,T.G,pa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var Z=c;if(T.na=Su(T,T.L?T.ba:null,T.W),Z.L){Ro(T.h,Z);var At=Z,fe=T.O;fe&&(At.H=fe),At.D&&(ci(At),ui(At)),T.g=Z}else _u(T);v.i.length>0&&_i(v)}else zt[0]!="stop"&&zt[0]!="close"||vi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?vi(v,7):ko(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}si(4)}catch{}}var ve=class{constructor(c,m){this.g=c,this.map=m}};function So(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function wo(c,m){c.g?c.g.add(m):c.h=m}function Ro(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}So.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const T=c[v].indexOf("=");let P,j=null;T>=0?(P=c[v].substring(0,T),j=c[v].substring(T+1)):P=c[v],m(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof dn?(this.l=c.l,xe(this,c.j),this.o=c.o,this.g=c.g,fs(this,c.u),this.h=c.h,Co(this,pu(c.i)),this.m=c.m):c&&(m=String(c).match(fu))?(this.l=!1,xe(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),fs(this,m[4]),this.h=mi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}dn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(gr(m,ua,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(gr(m,ua,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gr(v,v.charAt(0)=="/"?No:du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gr(v,mu)),c.join("")},dn.prototype.resolve=function(c){const m=Ee(this);let v=!!c.j;v?xe(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var T=c.h;if(v)fs(m,c.u);else if(v=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let Z=0;Z<P.length;){const At=P[Z++];At=="."?T&&Z==P.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&Z==P.length&&j.push("")):(j.push(At),T=!0)}T=j.join("/")}else T=P}return v?m.h=T:v=c.i.toString()!=="",v?Co(m,pu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Ee(c){return new dn(c)}function xe(c,m,v){c.j=v?mi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function fs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Co(c,m,v){m instanceof ms?(c.i=m,ha(c.i,c.l)):(v||(m=gr(m,ds)),c.i=new ms(m,c.l))}function Ft(c,m,v){c.i.set(m,v)}function mr(c){return Ft(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ua=/[#\/\?@]/g,du=/[#\?:]/g,No=/[#\?]/g,ds=/[#\?@]/g,mu=/#/g;function ms(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ms.prototype,s.add=function(c,m){rn(this),this.i=null,c=gs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function gu(c,m){rn(c),m=gs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Do(c,m){return rn(c),m=gs(c,m),c.g.has(m)}s.forEach=function(c,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(P){c.call(m,P,T,this)},this)},this)};function Oo(c,m){rn(c);let v=[];if(typeof m=="string")Do(c,m)&&(v=v.concat(c.g.get(gs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return rn(this),this.i=null,c=gs(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Oo(this,c),c.length>0?String(c[0]):m):m};function ca(c,m,v){gu(c,m),v.length>0&&(c.i=null,c.g.set(gs(c,m),F(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=ki(v);v=Oo(this,v);for(let j=0;j<v.length;j++){let Z=P;v[j]!==""&&(Z+="="+ki(v[j])),c.push(Z)}}return this.i=c.join("&")};function pu(c){const m=new ms;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function gs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ha(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(gu(this,T),ca(this,P,v))},c)),c.j=m}function Fn(c,m){const v=new Bn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function Mo(c,m){const v=new Bn,T=new AbortController,P=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(j=>{clearTimeout(P),j.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),wn(v,"TestPingServer: error",!1,m)})}function wn(c,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ps(){this.g=new iu}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(gi,su),gi.prototype.g=function(){return new pr(this.i,this.h)};function pr(c,m){pe.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,pe),s=pr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Gn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function fa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ys(this):Gn(this),this.readyState==3&&fa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ys(this))},s.Na=function(c){this.g&&(this.response=c,ys(this))},s.ga=function(){this.g&&ys(this)};function ys(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let m="";return Pt(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(c,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof c=="string"?v!=null&&ki(v):Ft(c,m,v))}function Qt(c){pe.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Qt,pe);var pi=/^https?$/i,Vo=["POST","PUT"];s=Qt.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){_r(this,j);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Z]of v)this.g.setRequestHeader(j,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){_r(this,j)}};function _r(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,xo(c),Pi(c)}function xo(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ne(this,"complete"),Ne(this,"abort"),Pi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),Qt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},s.Xa=function(){vr(this)};function vr(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ne(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let Z=String(c.D).match(fu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!pi.test(Z?Z.toLowerCase():"")}v=T}if(v)Ne(c,"complete"),Ne(c,"success");else{c.o=6;try{var P=Kn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",xo(c)}}finally{Pi(c)}}}}function Pi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ne(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),xh(m)}};function ze(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const m={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(w(c[T]))continue;var v=uu(c[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[P]||[];m[P]=j,j.push(v)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function _s(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new So(c&&c.concurrentRequestLimit),this.Ba=new ps,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=_s.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,T){ye(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),_i(this)};function ko(c){if(da(c),c.I==3){var m=c.V++,v=Ee(c.J);if(Ft(v,"SID",c.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Er(c,v),m=new qn(c,c.j,m),m.M=2,m.A=mr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Au(c)}function vs(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function da(c){vs(c),c.v&&(d.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function _i(c){if(!bo(c.h)&&!c.m){c.m=!0;var m=c.Ea;Jt||b(),Tt||(Jt(),Tt=!0),C.add(m,c),c.D=0}}function ma(c,m){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(_(c.Ea,c,m),Tu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new qn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=O(j),et(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,P,m),v=Ee(this.J),Ft(v,"RID",c),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),Er(this,v),j&&(this.R?m="headers="+ki(Rn(j))+"&"+m:this.u&&yr(v,this.u,j)),wo(this.h,P),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),P.U=!0,li(P,v,null)):li(P,v,m),this.I=2}}else this.I==3&&(c?Po(this,c):this.i.length==0||bo(this.h)||Po(this))};function Po(c,m){var v;m?v=m.l:v=c.V++;const T=Ee(c.J);Ft(T,"SID",c.M),Ft(T,"RID",v),Ft(T,"AID",c.K),Er(c,T),c.u&&c.o&&yr(T,c.u,c.o),v=new qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=yu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),wo(c.h,v),li(v,T,m)}function Er(c,m){c.H&&Pt(c.H,function(v,T){Ft(m,T,v)}),c.l&&Pt({},function(v,T){Ft(m,T,v)})}function yu(c,m,v){v=Math.min(c.i.length,v);const T=c.l?_(c.l.Ka,c.l,c):null;t:{var P=c.i;let At=-1;for(;;){const fe=["count="+v];At==-1?v>0?(At=P[0].g,fe.push("ofs="+At)):At=0:fe.push("ofs="+At);let zt=!0;for(let se=0;se<v;se++){var j=P[se].g;const In=P[se].map;if(j-=At,j<0)At=Math.max(0,P[se].g-100),zt=!1;else try{j="req"+j+"_"||"";try{var Z=In instanceof Map?In:Object.entries(In);for(const[Ei,Qn]of Z){let Yn=Qn;g(Qn)&&(Yn=hs(Qn)),fe.push(j+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw fe.push(j+"type="+encodeURIComponent("_badmap")),Ei}}catch{T&&T(In)}}if(zt){Z=fe.join("&");break t}}Z=void 0}return c=c.i.splice(0,v),m.G=c,Z}function _u(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;Jt||b(),Tt||(Jt(),Tt=!0),C.add(m,c),c.A=0}}function Tr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(_(c.Da,c),Tu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),vs(this),vu(this))};function Lo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function vu(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Ee(c.na);Ft(m,"RID","rpc"),Ft(m,"SID",c.M),Ft(m,"AID",c.K),Ft(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ft(m,"TO",c.ia),Ft(m,"TYPE","xmlhttp"),Er(c,m),c.u&&c.o&&yr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=mr(Ee(m)),v.u=null,v.R=!0,aa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,vs(this),Tr(this),ye(19))};function ga(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Eu(c,m){var v=null;if(c.g==m){ga(c),Lo(c),c.g=null;var T=2}else if(di(c.h,m))v=m.G,Ro(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;T=ra(),Ne(T,new ri(T,v)),_i(c)}else _u(c);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ma(c,m)||T==2&&Tr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function Tu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function vi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),T=c.Ua;const P=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(T,"https"),mr(T),P?Fn(T.toString(),v):Mo(T.toString(),v)}else ye(2);c.I=0,c.l&&c.l.pa(m),Au(c),da(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Au(c){if(c.I=0,c.ja=[],c.l){const m=Io(c.h);(m.length!=0||c.i.length!=0)&&(W(c.ja,m),W(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Su(c,m,v){var T=v instanceof dn?Ee(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),fs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const j=new dn(null);T&&xe(j,T),m&&(j.g=m),P&&fs(j,P),v&&(j.h=v),T=j}return v=c.G,m=c.wa,v&&m&&Ft(T,v,m),Ft(T,"VER",c.ka),Er(c,T),T}function bu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Qt(new gi({ab:v})):new Qt(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Es(){}Es.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){pe.call(this),this.g=new _s(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!w(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ui(this)}S(tn,pe),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ko(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=hs(c),c=v);m.i.push(new ve(m.Ya++,c)),m.I==3&&_i(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,tn.Z.N.call(this)};function Ru(c){Ue.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Ru,Ue);function Iu(){Sn.call(this),this.status=1}S(Iu,Sn);function Ui(c){this.g=c}S(Ui,wu),Ui.prototype.ra=function(){Ne(this.g,"a")},Ui.prototype.qa=function(c){Ne(this.g,new Ru(c))},Ui.prototype.pa=function(c){Ne(this.g,new Iu)},Ui.prototype.oa=function(){Ne(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,jT=function(){return new Es},zT=function(){return ra()},UT=he,um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Bc=fr,To.COMPLETE="complete",LT=To,ru.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,bl=ru,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,PT=Qt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",kv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let ho="12.3.0";const Kr=new gh("@firebase/firestore");function Ka(){return Kr.logLevel}function it(s,...t){if(Kr.logLevel<=Dt.DEBUG){const i=t.map(zm);Kr.debug(`Firestore (${ho}): ${s}`,...i)}}function os(s,...t){if(Kr.logLevel<=Dt.ERROR){const i=t.map(zm);Kr.error(`Firestore (${ho}): ${s}`,...i)}}function no(s,...t){if(Kr.logLevel<=Dt.WARN){const i=t.map(zm);Kr.warn(`Firestore (${ho}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,BT(s,r,i)}function BT(s,t,i){let r=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw os(r),new Error(r)}function qt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||BT(t,l,r)}function Et(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ni{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class qT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class FI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class GI{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Js,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new qT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class KI{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QI{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YI{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const r=u=>{u.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XI(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class jm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=XI(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=t.charAt(l[u]%62))}return r}}function Ot(s,t){return s<t?-1:s>t?1:0}function cm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=t.charAt(r);if(l!==u)return Gd(l)===Gd(u)?Ot(l,u):Gd(l)?1:-1}return Ot(s.length,t.length)}const $I=55296,JI=57343;function Gd(s){const t=s.charCodeAt(0);return t>=$I&&t<=JI}function io(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const Lv="__name__";class wi{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const u=wi.compareSegments(t.get(l),i.get(l));if(u!==0)return u}return Ot(t.length,i.length)}static compareSegments(t,i){const r=wi.isNumericId(t),l=wi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $s.fromString(t.substring(4,t.length-2))}}class ae extends wi{construct(t,i,r){return new ae(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends wi{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return ZI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new Ge([Lv])}static fromServerFormat(t){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ae.fromString(t))}static fromName(t){return new ct(ae.fromString(t).popFirst(5))}static empty(){return new ct(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ae(t.slice()))}}function WI(s,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function tC(s,t,i,r){if(t===!0&&r===!0)throw new ot($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Uv(s){if(!ct.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function HT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Bm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Ll(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(s);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Jl(s,t){if(!HT(s))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}const zv=-62135596800,jv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*jv);return new ee(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<zv)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-zv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ee(0,0))}static max(){return new yt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function eC(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(r===1e9?new ee(i+1,0):new ee(i,r));return new Ws(l,ct.empty(),t)}function nC(s){return new Ws(s.readTime,s.key,Ul)}class Ws{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Ws(yt.min(),ct.empty(),Ul)}static max(){return new Ws(yt.max(),ct.empty(),Ul)}}function iC(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}const sC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==sC)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,u=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const u=t.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++g,g===u&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const u=()=>{t()===!0?i().next((()=>{u()}),l):r()};u()}))}}function aC(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const qm=-1;function Eh(s){return s==null}function eh(s){return s===0&&1/s==-1/0}function oC(s){return typeof s=="number"&&Number.isInteger(s)&&!eh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const FT="";function lC(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Bv(t)),t=uC(s.get(i),t);return Bv(t)}function uC(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case FT:i+="";break;default:i+=u}}return i}function Bv(s){return s+FT+""}function qv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Zr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function GT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vc(this.root,t,this.comparator,!0)}}class Vc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,r,l,u){this.key=t,this.value=i,this.color=r??Fe.RED,this.left=l??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,u){return new Fe(t??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,u){return this}insert(t,i,r){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Hv(this.data.getIterator())}getIteratorFrom(t){return new Hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class Hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Wn([])}unionWith(t){let i=new Me(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class KT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KT("Invalid base64 string: "+u):u}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const cC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=cC.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function er(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const QT="server_timestamp",YT="__type__",XT="__previous_value__",$T="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[YT]?.stringValue===QT}function Th(s){const t=s.mapValue.fields[XT];return Hm(t)?Th(t):t}function zl(s){const t=tr(s.mapValue.fields[$T].timestampValue);return new ee(t.seconds,t.nanos)}class hC{constructor(t,i,r,l,u,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const nh="(default)";class jl{constructor(t,i){this.projectId=t,this.database=i||nh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}const JT="__type__",fC="__max__",xc={mapValue:{}},ZT="__vector__",ih="value";function nr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:mC(s)?9007199254740991:dC(s)?10:11:gt(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const i=nr(s);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return zl(s).isEqual(zl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=tr(l.timestampValue),g=tr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,u){return er(l.bytesValue).isEqual(er(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,u){return ge(l.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(s,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ge(l.integerValue)===ge(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ge(l.doubleValue),g=ge(u.doubleValue);return d===g?eh(d)===eh(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return io(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(qv(d)!==qv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Mi(d[y],g[y])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Bl(s,t){return(s.values||[]).find((i=>Mi(i,t)))!==void 0}function so(s,t){if(s===t)return 0;const i=nr(s),r=nr(t);if(i!==r)return Ot(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const g=ge(u.integerValue||u.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return Fv(s.timestampValue,t.timestampValue);case 4:return Fv(zl(s),zl(t));case 5:return cm(s.stringValue,t.stringValue);case 6:return(function(u,d){const g=er(u),y=er(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Ot(g[_],y[_]);if(A!==0)return A}return Ot(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const g=Ot(ge(u.latitude),ge(d.latitude));return g!==0?g:Ot(ge(u.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Gv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},_=g[ih]?.arrayValue,A=y[ih]?.arrayValue,S=Ot(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Gv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===xc.mapValue&&d===xc.mapValue)return 0;if(u===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const M=cm(y[S],A[S]);if(M!==0)return M;const F=so(g[y[S]],_[A[S]]);if(F!==0)return F}return Ot(y.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function Fv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=tr(s),r=tr(t),l=Ot(i.seconds,r.seconds);return l!==0?l:Ot(i.nanos,r.nanos)}function Gv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=so(i[l],r[l]);if(u)return u}return Ot(i.length,r.length)}function ro(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=tr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return er(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=hm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${hm(i.fields[d])}`;return l+"}"})(s.mapValue):gt(61005,{value:s})}function qc(s){switch(nr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+qc(t):16;case 5:return 2*s.stringValue.length;case 6:return er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+qc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Zr(r.fields,((u,d)=>{l+=u.length+qc(d)})),l})(s.mapValue);default:throw gt(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function Kv(s){return!!s&&"nullValue"in s}function Qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hc(s){return!!s&&"mapValue"in s}function dC(s){return(s?.mapValue?.fields||{})[JT]?.stringValue===ZT}function Dl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Zr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Dl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(s.arrayValue.values[i]);return t}return{...s}}function mC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===fC}class Pn{constructor(t){this.value=t}static empty(){return new Pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=Ge.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Dl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Zr(i,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new Pn(Dl(this.value))}}function WT(s){const t=[];return Zr(s.fields,((i,r)=>{const l=new Ge([i]);if(Hc(r)){const u=WT(r.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new Wn(t)}class Je{constructor(t,i,r,l,u,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,yt.min(),yt.min(),yt.min(),Pn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,yt.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,yt.min(),yt.min(),Pn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,yt.min(),yt.min(),Pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function Yv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const u=t[l],d=s.position[l];if(u.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=so(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Xv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mi(s.position[i],t.position[i]))return!1;return!0}class rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function gC(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class t0{}class Oe extends t0{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new yC(t,i,r):i==="array-contains"?new EC(t,r):i==="in"?new TC(t,r):i==="not-in"?new AC(t,r):i==="array-contains-any"?new SC(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new _C(t,r):new vC(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(so(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(so(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends t0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Vi(t,i)}matches(t){return e0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e0(s){return s.op==="and"}function n0(s){return pC(s)&&e0(s)}function pC(s){for(const t of s.filters)if(t instanceof Vi)return!1;return!0}function dm(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+ro(s.value);if(n0(s))return s.filters.map((t=>dm(t))).join(",");{const t=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${t})`}}function i0(s,t){return s instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof Vi?(function(r,l){return l instanceof Vi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&i0(d,l.filters[g])),!0):!1})(s,t):void gt(19439)}function s0(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(s):s instanceof Vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(s0).join(" ,")+"}"})(s):"Filter"}class yC extends Oe{constructor(t,i,r){super(t,i,r),this.key=ct.fromName(r.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class _C extends Oe{constructor(t,i){super(t,"in",i),this.keys=r0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class vC extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=r0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function r0(s,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class EC extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Bl(i.arrayValue,this.value)}}class TC extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class AC extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class SC extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Bl(this.value.arrayValue,r)))}}class bC{constructor(t,i=null,r=[],l=[],u=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function $v(s,t=null,i=[],r=[],l=null,u=null,d=null){return new bC(s,t,i,r,l,u,d)}function Gm(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>ro(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>ro(r))).join(",")),t.Te=i}return t.Te}function Km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!gC(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!i0(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Xv(s.startAt,t.startAt)&&Xv(s.endAt,t.endAt)}function mm(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(t,i=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wC(s,t,i,r,l,u,d,g){return new Ah(s,t,i,r,l,u,d,g)}function Qm(s){return new Ah(s)}function Jv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function RC(s){return s.collectionGroup!==null}function Ol(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new rh(u,r))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new rh(Ge.keyField(),r))}return t.Ie}function Ii(s){const t=Et(s);return t.Ee||(t.Ee=IC(t,Ol(s))),t.Ee}function IC(s,t){if(s.limitType==="F")return $v(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new rh(l.field,u)}));const i=s.endAt?new sh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new sh(s.startAt.position,s.startAt.inclusive):null;return $v(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function gm(s,t,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Sh(s,t){return Km(Ii(s),Ii(t))&&s.limitType===t.limitType}function a0(s){return`${Gm(Ii(s))}|lt:${s.limitType}`}function Qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>s0(l))).join(", ")}]`),Eh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function bh(s,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ct.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,l){for(const u of Ol(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=Yv(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,Ol(r),l)||r.endAt&&!(function(d,g,y){const _=Yv(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,Ol(r),l))})(s,t)}function CC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function o0(s){return(t,i)=>{let r=!1;for(const l of Ol(s)){const u=NC(l,t,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function NC(s,t,i){const r=s.field.isKeyField()?ct.comparator(t.key,i.key):(function(u,d,g){const y=d.data.field(u),_=g.data.field(u);return y!==null&&_!==null?so(y,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,((i,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return GT(this.inner)}size(){return this.innerSize}}const DC=new oe(ct.comparator);function ls(){return DC}const l0=new oe(ct.comparator);function wl(...s){let t=l0;for(const i of s)t=t.insert(i.key,i);return t}function u0(s){let t=l0;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Br(){return Ml()}function c0(){return Ml()}function Ml(){return new Wr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const OC=new oe(ct.comparator),MC=new Me(ct.comparator);function Mt(...s){let t=MC;for(const i of s)t=t.add(i);return t}const VC=new Me(Ot);function xC(){return VC}function Ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function h0(s){return{integerValue:""+s}}function kC(s,t){return oC(t)?h0(t):Ym(s,t)}class wh{constructor(){this._=void 0}}function PC(s,t,i){return s instanceof ql?(function(l,u){const d={fields:{[YT]:{stringValue:QT},[$T]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Hm(u)&&(u=Th(u)),u&&(d.fields[XT]=u),{mapValue:d}})(i,t):s instanceof Hl?d0(s,t):s instanceof Fl?m0(s,t):(function(l,u){const d=f0(l,u),g=Zv(d)+Zv(l.Ae);return fm(d)&&fm(l.Ae)?h0(g):Ym(l.serializer,g)})(s,t)}function LC(s,t,i){return s instanceof Hl?d0(s,t):s instanceof Fl?m0(s,t):i}function f0(s,t){return s instanceof ah?(function(r){return fm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ql extends wh{}class Hl extends wh{constructor(t){super(),this.elements=t}}function d0(s,t){const i=g0(t);for(const r of s.elements)i.some((l=>Mi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Fl extends wh{constructor(t){super(),this.elements=t}}function m0(s,t){let i=g0(t);for(const r of s.elements)i=i.filter((l=>!Mi(l,r)));return{arrayValue:{values:i}}}class ah extends wh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Zv(s){return ge(s.integerValue||s.doubleValue)}function g0(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class UC{constructor(t,i){this.field=t,this.transform=i}}function zC(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Hl&&l instanceof Hl||r instanceof Fl&&l instanceof Fl?io(r.elements,l.elements,Mi):r instanceof ah&&l instanceof ah?Mi(r.Ae,l.Ae):r instanceof ql&&l instanceof ql})(s.transform,t.transform)}class jC{constructor(t,i){this.version=t,this.transformResults=i}}class ss{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ss}static exists(t){return new ss(void 0,t)}static updateTime(t){return new ss(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Rh{}function p0(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new _0(s.key,ss.none()):new Zl(s.key,s.data,ss.none());{const i=s.data,r=Pn.empty();let l=new Me(Ge.comparator);for(let u of t.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new ta(s.key,r,new Wn(l.toArray()),ss.none())}}function BC(s,t,i){s instanceof Zl?(function(l,u,d){const g=l.value.clone(),y=tE(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ta?(function(l,u,d){if(!Fc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=tE(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(y0(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Vl(s,t,i,r){return s instanceof Zl?(function(u,d,g,y){if(!Fc(u.precondition,d))return g;const _=u.value.clone(),A=eE(u.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof ta?(function(u,d,g,y){if(!Fc(u.precondition,d))return g;const _=eE(u.fieldTransforms,y,d),A=d.data;return A.setAll(y0(u)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(s,t,i,r):(function(u,d,g){return Fc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function qC(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),u=f0(r.transform,l||null);u!=null&&(i===null&&(i=Pn.empty()),i.set(r.field,u))}return i||null}function Wv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&io(r,l,((u,d)=>zC(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends Rh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ta extends Rh{constructor(t,i,r,l,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function y0(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function tE(s,t,i){const r=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,g=t.data.field(u.field);r.set(u.field,LC(d,g,i[l]))}return r}function eE(s,t,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,PC(u,d,t))}return r}class _0 extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HC extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class FC{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&BC(u,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Vl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Vl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=c0();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const y=p0(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((i,r)=>Wv(i,r)))&&io(this.baseMutations,t.baseMutations,((i,r)=>Wv(i,r)))}}class Xm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return OC})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new Xm(t,i,r,l)}}class GC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class KC{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,kt;function QC(s){switch(s){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function v0(s){if(s===void 0)return os("GRPC error has no .code"),$.UNKNOWN;switch(s){case we.OK:return $.OK;case we.CANCELLED:return $.CANCELLED;case we.UNKNOWN:return $.UNKNOWN;case we.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case we.INTERNAL:return $.INTERNAL;case we.UNAVAILABLE:return $.UNAVAILABLE;case we.UNAUTHENTICATED:return $.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case we.NOT_FOUND:return $.NOT_FOUND;case we.ALREADY_EXISTS:return $.ALREADY_EXISTS;case we.PERMISSION_DENIED:return $.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case we.ABORTED:return $.ABORTED;case we.OUT_OF_RANGE:return $.OUT_OF_RANGE;case we.UNIMPLEMENTED:return $.UNIMPLEMENTED;case we.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:s})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function YC(){return new TextEncoder}const XC=new $s([4294967295,4294967295],0);function nE(s){const t=YC().encode(s),i=new kT;return i.update(t),new Uint8Array(i.digest())}function iE(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $s([i,r],0),new $s([l,u],0)]}class $m{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$s.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply($s.fromNumber(r)));return l.compare(XC)===1&&(l=new $s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=nE(t),[r,l]=iE(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new $m(u,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=nE(t),[r,l]=iE(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ih{constructor(t,i,r,l,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ih(yt.min(),l,new oe(Ot),ls(),Mt())}}class Wl{constructor(t,i,r,l,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Wl(r,i,Mt(),Mt(),Mt())}}class Gc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class E0{constructor(t,i){this.targetId=t,this.Ce=i}}class T0{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class sE{constructor(){this.ve=0,this.Fe=rE(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:u})}})),new Wl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=rE()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $C{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.Je=kc(),this.He=kc(),this.Ye=new oe(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const u=l.target;if(mm(u))if(r===0){const d=new ct(u.path);this.et(i,d,Je.newNoDocument(d,yt.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=er(r).toUint8Array()}catch(y){if(y instanceof KT)return no("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new $m(d,l,u)}catch(y){return no(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&mm(g.target)){const y=new ct(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=Mt();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new Ih(t,i,this.Ye,this.je,r);return this.je=ls(),this.Je=kc(),this.He=kc(),this.Ye=new oe(Ot),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new sE,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sE),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new oe(ct.comparator)}function rE(){return new oe(ct.comparator)}const JC={asc:"ASCENDING",desc:"DESCENDING"},ZC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WC={and:"AND",or:"OR"};class t2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(s,t){return s.useProto3Json||Eh(t)?t:{value:t}}function oh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function A0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function e2(s,t){return oh(s,t.toTimestamp())}function Ci(s){return qt(!!s,49232),yt.fromTimestamp((function(i){const r=tr(i);return new ee(r.seconds,r.nanos)})(s))}function Jm(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function S0(s){const t=ae.fromString(s);return qt(C0(t),10190,{key:t.toString()}),t}function _m(s,t){return Jm(s.databaseId,t.path)}function Kd(s,t){const i=S0(t);if(i.get(1)!==s.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(w0(i))}function b0(s,t){return Jm(s.databaseId,t)}function n2(s){const t=S0(s);return t.length===4?ae.emptyPath():w0(t)}function vm(s){return new ae(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function w0(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function aE(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function i2(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:v0(_.code);return new ot(A,_.message||"")})(d);i=new T0(r,l,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Kd(s,r.document.name),u=Ci(r.document.updateTime),d=r.document.createTime?Ci(r.document.createTime):yt.min(),g=new Pn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,u,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Gc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Kd(s,r.document),u=r.readTime?Ci(r.readTime):yt.min(),d=Je.newNoDocument(l,u),g=r.removedTargetIds||[];i=new Gc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Kd(s,r.document),u=r.removedTargetIds||[];i=new Gc([],u,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new KC(l,u),g=r.targetId;i=new E0(g,d)}}return i}function s2(s,t){let i;if(t instanceof Zl)i={update:aE(s,t.key,t.value)};else if(t instanceof _0)i={delete:_m(s,t.key)};else if(t instanceof ta)i={update:aE(s,t.key,t.data),updateMask:d2(t.fieldMask)};else{if(!(t instanceof HC))return gt(16599,{Vt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:e2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(s,t.precondition)),i}function r2(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?Ci(l.updateTime):Ci(u);return d.isEqual(yt.min())&&(d=Ci(u)),new jC(d,l.transformResults||[])})(i,t)))):[]}function a2(s,t){return{documents:[b0(s,t.path)]}}function o2(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=b0(s,l);const u=(function(_){if(_.length!==0)return I0(Vi.create(_,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Ya(M.field),direction:c2(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function l2(s){let t=n2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){qt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let u=[];i.where&&(u=(function(S){const M=R0(S);return M instanceof Vi&&n0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new rh(Xa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,Eh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,F=S.values||[];return new sh(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,F=S.values||[];return new sh(F,M)})(i.endAt)),wC(t,l,d,u,g,"F",y,_)}function u2(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function R0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Xa(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Xa(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(i.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Vi.create(i.compositeFilter.filters.map((r=>R0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function c2(s){return JC[s]}function h2(s){return ZC[s]}function f2(s){return WC[s]}function Ya(s){return{fieldPath:s.canonicalString()}}function Xa(s){return Ge.fromServerFormat(s.fieldPath)}function I0(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(Qv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NAN"}};if(Kv(i.value))return{unaryFilter:{field:Ya(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(i.field),op:h2(i.op),value:i.value}}})(s):s instanceof Vi?(function(i){const r=i.getFilters().map((l=>I0(l)));return r.length===1?r[0]:{compositeFilter:{op:f2(i.op),filters:r}}})(s):gt(54877,{filter:s})}function d2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function C0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Qs{constructor(t,i,r,l,u=yt.min(),d=yt.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class m2{constructor(t){this.yt=t}}function g2(s){const t=l2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?gm(t,t.limit,"L"):t}class p2{constructor(){this.Cn=new y2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ws.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class y2{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Me(ae.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Me(ae.comparator)).toArray()}}const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N0=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(N0,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}const lE="LruGarbageCollector",_2=1048576;function uE([s,t],[i,r]){const l=Ot(s,i);return l===0?Ot(t,r):l}class v2{constructor(t){this.Ir=t,this.buffer=new Me(uE),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();uE(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(lE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?it(lE,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class T2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(vh.ce);const r=new v2(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(oE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,u,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(t,r,i)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(_=Date.now(),Ka()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function A2(s,t){return new T2(s,t)}class S2{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class b2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class w2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Vl(r.mutation,l,Wn.empty(),ee.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Mt()){const l=Br();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((u=>{let d=wl();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Br();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Mt())))}populateOverlays(t,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let u=ls();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ta)?u=u.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Vl(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,Wn.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new b2(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Ml();let l=new oe(((d,g)=>d-g)),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||Wn.empty();A=g.applyToLocalView(_,A),r.set(y,A);const S=(l.get(g.batchId)||Mt()).add(y);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,S=c0();A.forEach((M=>{if(!u.has(M)){const F=p0(i.get(M),r.get(M));F!==null&&S.set(M,F),u=u.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):RC(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-u.size):X.resolve(Br());let g=Ul,y=u;return d.next((_=>X.forEach(_,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{y=y.insert(A,M)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,y,_,Mt()))).next((A=>({batchId:g,changes:u0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((r=>{let l=wl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const u=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,u).next((g=>X.forEach(g,(y=>{const _=(function(S,M){return new Ah(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,l)))).next((d=>{u.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let g=wl();return d.forEach(((y,_)=>{const A=u.get(y);A!==void 0&&Vl(A.mutation,_,Wn.empty(),ee.now()),bh(i,_)&&(g=g.insert(y,_))})),g}))}}class R2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:g2(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),X.resolve()}}class I2{constructor(){this.overlays=new oe(ct.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Br();return X.forEach(i,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,u)=>{this.St(t,i,u)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Br(),u=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let u=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=u.get(_.largestBatchId);A===null&&(A=Br(),u=u.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Br(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return X.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new GC(i,r));let u=this.qr.get(i);u===void 0&&(u=Mt(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class C2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Me(Pe.$r),this.Ur=new Me(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ct(new ae([])),r=new Pe(i,t),l=new Pe(i,t+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ct(new ae([])),r=new Pe(i,t),l=new Pe(i,t+1);let u=Mt();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ct.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ct.comparator(t.key,i.key)}}class N2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Pe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FC(u,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Me(Ot);return i.forEach((l=>{const u=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let u=r;ct.isDocumentKey(u)||(u=u.child(""));const d=new Pe(new ct(u),0);let g=new Me(Ot);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const u=new Pe(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class D2{constructor(t){this.ri=t,this.docs=(function(){return new oe(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=ls();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let u=ls();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||iC(nC(A),r)<=0||(l.has(A.key)||bh(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return X.resolve(u)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new O2(this)}getSize(t){return X.resolve(this.size)}}class O2 extends S2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class M2{constructor(t){this.persistence=t,this.si=new Wr((i=>Gm(i)),Km),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=ao.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(u).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class D0{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new C2,this.referenceDelegate=t(this),this.Pi=new M2(this),this.indexManager=new p2,this.remoteDocumentCache=(function(l){return new D2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new m2(i),this.Ii=new R2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new I2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new N2(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new V2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class V2 extends rC{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Wm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=ct.fromPath(r);return this.gi(t,l).next((u=>{u||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.pi=new Wr((r=>lC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=A2(this,i)}static mi(t,i){return new lh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((u=>u?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,u.removeEntry(d,yt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tg{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Mt(),l=Mt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new tg(t,i.fromCache,r,l)}}class x2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class k2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rb()?8:aC(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const u={result:null};return this.ys(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(t,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new x2;return this.Ss(t,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>u.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ka()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ka()<=Dt.DEBUG&&it("QueryEngine","Query:",Qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ka()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):X.resolve())}ys(t,i){if(Jv(i))return X.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=Mt(...u);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return Jv(i)||l.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(t,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?X.resolve(null):(Ka()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(t,d,i,eC(l,Ul)).next((g=>g)))}))}Ds(t,i){let r=new Me(o0(t));return i.forEach(((l,u)=>{bh(t,u)&&(r=r.add(u))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,i,r){return Ka()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,Ws.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const eg="LocalStore",P2=3e8;class L2{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Ot),this.xs=new Wr((u=>Gm(u)),Km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function U2(s,t,i,r){return new L2(s,t,i,r)}async function O0(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=Mt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of u){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function z2(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const S=_.batch,M=S.keys();let F=X.resolve();return M.forEach((W=>{F=F.next((()=>A.getEntry(y,W))).next((nt=>{const J=_.docVersions.get(W);qt(J!==null,48541),nt.version.compareTo(J)<0&&(S.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function M0(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function j2(s,t){const i=Et(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(u,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(u,A.addedDocuments,S))));let F=M.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,r)),l=l.insert(S,F),(function(nt,J,ht){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=P2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,F,A)&&g.push(i.Pi.updateTargetData(u,F))}));let y=ls(),_=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(B2(u,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(u).next((S=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(A)}return X.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(i.Ms=l,u)))}function B2(s,t,i){let r=Mt(),l=Mt();return i.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=ls();return i.forEach(((g,y)=>{const _=u.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):it(eg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function q2(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function H2(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((u=>u?(l=u,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Em(s,t,i){const r=Et(s),l=r.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;it(eg,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function cE(s,t,i){const r=Et(s);let l=yt.min(),u=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Et(y),M=S.xs.get(A);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(r,d,Ii(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?u:Mt()))).next((g=>(F2(r,CC(t),g),{documents:g,Qs:u})))))}function F2(s,t,i){let r=s.Os.get(t)||yt.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class hE{constructor(){this.activeTargetIds=xC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G2{constructor(){this.Mo=new hE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hE,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class K2{Oo(t){}shutdown(){}}const fE="ConnectivityMonitor";class dE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(fE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(fE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Tm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Qd="RestConnection",Q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,u){const d=Tm(),g=this.zo(t,i.toUriEncodedString());it(Qd,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(g),A=lo(_);return this.Jo(t,g,y,r,A).then((S=>(it(Qd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw no(Qd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(t,i,r,l,u,d){return this.Go(t,i,r,l,u)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}zo(t,i){const r=Q2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class X2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class $2 extends Y2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,u){const d=Tm();return new Promise(((g,y)=>{const _=new PT;_.setWithCredentials(!0),_.listenOnce(LT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const S=_.getResponseJson();it(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Bc.TIMEOUT:it(Xe,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=_.getStatus();if(it(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const nt=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_t)>=0?_t:$.UNKNOWN})(W.status);y(new ot(nt,W.message))}else y(new ot($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Tm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=jT(),g=zT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=u.join("");it(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let M=!1,F=!1;const W=new X2({Yo:J=>{F?it(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(M||(it(Xe,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),it(Xe,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),nt=(J,ht,_t)=>{J.listen(ht,(dt=>{try{_t(dt)}catch(Bt){setTimeout((()=>{throw Bt}),0)}}))};return nt(S,bl.EventType.OPEN,(()=>{F||(it(Xe,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),nt(S,bl.EventType.CLOSE,(()=>{F||(F=!0,it(Xe,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),nt(S,bl.EventType.ERROR,(J=>{F||(F=!0,no(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))})),nt(S,bl.EventType.MESSAGE,(J=>{if(!F){const ht=J.data[0];qt(!!ht,16349);const _t=ht,dt=_t?.error||_t[0]?.error;if(dt){it(Xe,`RPC '${t}' stream ${l} received error:`,dt);const Bt=dt.status;let Jt=(function(b){const I=we[b];if(I!==void 0)return v0(I)})(Bt),Tt=dt.message;Jt===void 0&&(Jt=$.INTERNAL,Tt="Unknown error status: "+Bt+" with message "+dt.message),F=!0,W.a_(new ot(Jt,Tt)),S.close()}else it(Xe,`RPC '${t}' stream ${l} received:`,ht),W.u_(ht)}})),nt(g,UT.STAT_EVENT,(J=>{J.stat===um.PROXY?it(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===um.NOPROXY&&it(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Yd(){return typeof document<"u"?document:null}function Ch(s){return new t2(s,!0)}class V0{constructor(t,i,r=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mE="PersistentStream";class x0{constructor(t,i,r,l,u,d,g,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new V0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ot($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(mE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J2 extends x0{constructor(t,i,r,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=i2(this.serializer,t),r=(function(u){if(!("targetChange"in u))return yt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ci(d.readTime):yt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(u,d){let g;const y=d.target;if(g=mm(y)?{documents:a2(u,y)}:{query:o2(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=A0(u,d.resumeToken);const _=pm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=oh(u,d.snapshotVersion.toTimestamp());const _=pm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=u2(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.q_(i)}}class Z2 extends x0{constructor(t,i,r,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=r2(t.writeResults,t.commitTime),r=Ci(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=vm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>s2(this.serializer,r)))};this.q_(i)}}class W2{}class tN extends W2{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(t,ym(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot($.UNKNOWN,u.toString())}))}Ho(t,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,ym(i,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class eN{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qr="RemoteStore";class nN{constructor(t,i,r,l,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ea(this)&&(it(Qr,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new eN(r,l)}}async function Nh(s){if(ea(s))for(const t of s.da)await t(!0)}async function tu(s){for(const t of s.da)await t(!1)}function k0(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rg(i)?sg(i):go(i).O_()&&ig(i,t))}function ng(s,t){const i=Et(s),r=go(i);i.Ia.delete(t),r.O_()&&P0(i,t),i.Ia.size===0&&(r.O_()?r.L_():ea(i)&&i.Ra.set("Unknown"))}function ig(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(s).Y_(t)}function P0(s,t){s.Va.Ue(t),go(s).Z_(t)}function sg(s){s.Va=new $C({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),go(s).start(),s.Ra.ua()}function rg(s){return ea(s)&&!go(s).x_()&&s.Ia.size>0}function ea(s){return Et(s).Ea.size===0}function L0(s){s.Va=void 0}async function iN(s){s.Ra.set("Online")}async function sN(s){s.Ia.forEach(((t,i)=>{ig(s,t)}))}async function rN(s,t){L0(s),rg(s)?(s.Ra.ha(t),sg(s)):s.Ra.set("Unknown")}async function aN(s,t,i){if(s.Ra.set("Online"),t instanceof T0&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){it(Qr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await uh(s,r)}else if(t instanceof Gc?s.Va.Ze(t):t instanceof E0?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const r=await M0(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(_);A&&u.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),P0(u,y);const S=new Qs(A.target,y,_,A.sequenceNumber);ig(u,S)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){it(Qr,"Failed to raise snapshot:",r),await uh(s,r)}}async function uh(s,t,i){if(!mo(t))throw t;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>M0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Qr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function U0(s,t){return t().catch((i=>uh(s,i,t)))}async function Dh(s){const t=Et(s),i=ir(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;oN(t);)try{const l=await q2(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,lN(t,l)}catch(l){await uh(t,l)}z0(t)&&j0(t)}function oN(s){return ea(s)&&s.Ta.length<10}function lN(s,t){s.Ta.push(t);const i=ir(s);i.O_()&&i.X_&&i.ea(t.mutations)}function z0(s){return ea(s)&&!ir(s).x_()&&s.Ta.length>0}function j0(s){ir(s).start()}async function uN(s){ir(s).ra()}async function cN(s){const t=ir(s);for(const i of s.Ta)t.ea(i.mutations)}async function hN(s,t,i){const r=s.Ta.shift(),l=Xm.from(r,t,i);await U0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Dh(s)}async function fN(s,t){t&&ir(s).X_&&await(async function(r,l){if((function(d){return QC(d)&&d!==$.ABORTED})(l.code)){const u=r.Ta.shift();ir(r).B_(),await U0(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Dh(r)}})(s,t),z0(s)&&j0(s)}async function gE(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(Qr,"RemoteStore received new credentials");const r=ea(i);i.Ea.add(3),await tu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nh(i)}async function dN(s,t){const i=Et(s);t?(i.Ea.delete(2),await Nh(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function go(s){return s.ma||(s.ma=(function(i,r,l){const u=Et(i);return u.sa(),new J2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:iN.bind(null,s),t_:sN.bind(null,s),r_:rN.bind(null,s),H_:aN.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),rg(s)?sg(s):s.Ra.set("Unknown")):(await s.ma.stop(),L0(s))}))),s.ma}function ir(s){return s.fa||(s.fa=(function(i,r,l){const u=Et(i);return u.sa(),new Z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:uN.bind(null,s),r_:fN.bind(null,s),ta:cN.bind(null,s),na:hN.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Qr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ag{constructor(t,i,r,l,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,u){const d=Date.now()+r,g=new ag(t,i,d,l,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,t){if(os("AsyncQueue",`${t}: ${s}`),mo(s))return new ot($.UNAVAILABLE,`${t}: ${s}`);throw s}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=wl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class pE{constructor(){this.ga=new oe(ct.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class oo{constructor(t,i,r,l,u,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new oo(t,i,Wa.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class mN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class gN{constructor(){this.queries=yE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),u=l.queries;l.queries=yE(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new ot($.ABORTED,"Firestore shutting down"))}}function yE(){return new Wr((s=>a0(s)),Sh)}async function pN(s,t){const i=Et(s);let r=3;const l=t.query;let u=i.queries.get(l);u?!u.ba()&&t.Da()&&(r=2):(u=new mN,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=og(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&lg(i)}async function yN(s,t){const i=Et(s),r=t.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(t);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _N(s,t){const i=Et(s);let r=!1;for(const l of t){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&lg(i)}function vN(s,t,i){const r=Et(s),l=r.queries.get(t);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(t)}function lg(s){s.Ca.forEach((t=>{t.next()}))}var Am,_E;(_E=Am||(Am={})).Ma="default",_E.Cache="cache";class EN{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new oo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Am.Cache}}class B0{constructor(t){this.key=t}}class q0{constructor(t){this.key=t}}class TN{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=o0(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new pE,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const M=l.get(A),F=bh(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?W!==nt&&(r.track({type:3,doc:F}),J=!0):this.su(M,F)||(r.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(g=!0)):!M&&F?(r.track({type:0,doc:F}),J=!0):M&&!F&&(r.track({type:1,doc:M}),J=!0,(y||_)&&(g=!0)),J&&(F?(d=d.add(F),u=nt?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,W){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return nt(F)-nt(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new oo(this.query,t.tu,u,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new q0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new B0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class AN{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class SN{constructor(t){this.key=t,this.hu=!1}}class bN{constructor(t,i,r,l,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((g=>a0(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ct.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wN(s,t,i=!0){const r=Y0(s);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await H0(r,t,i,!0),l}async function RN(s,t){const i=Y0(s);await H0(i,t,!0,!1)}async function H0(s,t,i,r){const l=await H2(s.localStore,Ii(t)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await IN(s,t,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&k0(s.remoteStore,l),g}async function IN(s,t,i,r,l){s.pu=(S,M,F)=>(async function(nt,J,ht,_t){let dt=J.view.ru(ht);dt.Cs&&(dt=await cE(nt.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,dt))));const Bt=_t&&_t.targetChanges.get(J.targetId),Jt=_t&&_t.targetMismatches.get(J.targetId)!=null,Tt=J.view.applyChanges(dt,nt.isPrimaryClient,Bt,Jt);return EE(nt,J.targetId,Tt.au),Tt.snapshot})(s,S,M,F);const u=await cE(s.localStore,t,!0),d=new TN(t,u.Qs),g=d.ru(u.documents),y=Wl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);EE(s,i,_.au);const A=new AN(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function CN(s,t,i){const r=Et(s),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Sh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Em(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ng(r.remoteStore,l.targetId),Sm(r,l.targetId)})).catch(fo)):(Sm(r,l.targetId),await Em(r.localStore,l.targetId,!0))}async function NN(s,t){const i=Et(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ng(i.remoteStore,r.targetId))}async function DN(s,t,i){const r=LN(s);try{const l=await(function(d,g){const y=Et(d),_=ee.now(),A=g.reduce(((F,W)=>F.add(W.key)),Mt());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=ls(),nt=Mt();return y.Ns.getEntries(F,A).next((J=>{W=J,W.forEach(((ht,_t)=>{_t.isValidDocument()||(nt=nt.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,W))).next((J=>{S=J;const ht=[];for(const _t of g){const dt=qC(_t,S.get(_t.key).overlayedDocument);dt!=null&&ht.push(new ta(_t.key,dt,WT(dt.value.mapValue),ss.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,ht,g)})).next((J=>{M=J;const ht=J.applyToLocalDocumentSet(S,nt);return y.documentOverlayCache.saveOverlays(F,J.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:u0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Ot)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await eu(r,l.changes),await Dh(r.remoteStore)}catch(l){const u=og(l,"Failed to persist write");i.reject(u)}}async function F0(s,t){const i=Et(s);try{const r=await j2(i.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await eu(i,r,t)}catch(r){await fo(r)}}function vE(s,t,i){const r=Et(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(g)&&(_=!0)})),_&&lg(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ON(s,t,i){const r=Et(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),u=l&&l.key;if(u){let d=new oe(ct.comparator);d=d.insert(u,Je.newNoDocument(u,yt.min()));const g=Mt().add(u),y=new Ih(yt.min(),new Map,new oe(Ot),d,g);await F0(r,y),r.du=r.du.remove(u),r.Au.delete(t),cg(r)}else await Em(r.localStore,t,!1).then((()=>Sm(r,t,i))).catch(fo)}async function MN(s,t){const i=Et(s),r=t.batch.batchId;try{const l=await z2(i.localStore,t);K0(i,r,null),G0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await eu(i,l)}catch(l){await fo(l)}}async function VN(s,t,i){const r=Et(s);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);K0(r,t,i),G0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await eu(r,l)}catch(l){await fo(l)}}function G0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function K0(s,t,i){const r=Et(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(i?u.reject(i):u.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function Sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||Q0(s,r)}))}function Q0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(ng(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),cg(s))}function EE(s,t,i){for(const r of i)r instanceof B0?(s.Ru.addReference(r.key,t),xN(s,r)):r instanceof q0?(it(ug,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||Q0(s,r.key)):gt(19791,{wu:r})}function xN(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(it(ug,"New document in limbo: "+i),s.Eu.add(r),cg(s))}function cg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ct(ae.fromString(t)),r=s.fu.next();s.Au.set(r,new SN(i)),s.du=s.du.insert(i,r),k0(s.remoteStore,new Qs(Ii(Qm(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function eu(s,t,i){const r=Et(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=tg.As(y.targetId,_);u.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=Et(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(M=>X.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!mo(S))throw S;it(eg,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const F=A.Ms.get(M),W=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,nt)}}})(r.localStore,u))}async function kN(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){it(ug,"User change. New user:",t.toKey());const r=await O0(i.localStore,t);i.currentUser=t,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new ot($.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await eu(i,r.Ls)}}function PN(s,t){const i=Et(s),r=i.Au.get(t);if(r&&r.hu)return Mt().add(r.key);{let l=Mt();const u=i.Iu.get(t);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function Y0(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ON.bind(null,t),t.Pu.H_=_N.bind(null,t.eventManager),t.Pu.yu=vN.bind(null,t.eventManager),t}function LN(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VN.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ch(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return U2(this.persistence,new k2,t.initialUser,this.serializer)}Cu(t){return new D0(Wm.mi,this.serializer)}Du(t){return new G2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class UN extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E2(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new D0((r=>lh.mi(r,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,this.syncEngine),await dN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gN})()}createDatastore(t){const i=Ch(t.databaseInfo.databaseId),r=(function(u){return new $2(u)})(t.databaseInfo);return(function(u,d,g,y){return new tN(u,d,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,u,d,g){return new nN(r,l,u,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>vE(this.syncEngine,i,0)),(function(){return dE.v()?new dE:new K2})())}createSyncEngine(t,i){return(function(l,u,d,g,y,_,A){const S=new bN(l,u,d,g,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);it(Qr,"RemoteStore shutting down."),r.Ea.add(5),await tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class zN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const sr="FirestoreClient";class jN{constructor(t,i,r,l,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{it(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=og(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Xd(s,t){s.asyncQueue.verifyOperationInProgress(),it(sr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await O0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function TE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await BN(s);it(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>gE(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>gE(t.remoteStore,l))),s._onlineComponents=t}async function BN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(sr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;no("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new ch)}}else it(sr,"Using default OfflineComponentProvider"),await Xd(s,new UN(void 0));return s._offlineComponents}async function X0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(sr,"Using user provided OnlineComponentProvider"),await TE(s,s._uninitializedComponentsProvider._online)):(it(sr,"Using default OnlineComponentProvider"),await TE(s,new bm))),s._onlineComponents}function qN(s){return X0(s).then((t=>t.syncEngine))}async function HN(s){const t=await X0(s),i=t.eventManager;return i.onListen=wN.bind(null,t.syncEngine),i.onUnlisten=CN.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=RN.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=NN.bind(null,t.syncEngine),i}function FN(s,t,i={}){const r=new Js;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,_){const A=new zN({next:M=>{A.Nu(),d.enqueueAndForget((()=>yN(u,S)));const F=M.docs.has(g);!F&&M.fromCache?_.reject(new ot($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new ot($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new EN(Qm(g.path),A,{includeMetadataChanges:!0,qa:!0});return pN(u,S)})(await HN(s),s.asyncQueue,t,i,r))),r.promise}function $0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const AE=new Map;const J0="firestore.googleapis.com",SE=!0;class bE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J0,this.ssl=SE}else this.host=t.host,this.ssl=t.ssl??SE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=N0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_2)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hg{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HI;switch(r.type){case"firstParty":return new QI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=AE.get(i);r&&(it("ComponentProvider","Removing Datastore"),AE.delete(i),r.terminate())})(this),Promise.resolve()}}function GN(s,t,i,r={}){s=Ll(s,hg);const l=lo(t),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(GE(`https://${g}`),KE("Firestore",!0)),u.host!==J0&&u.host!==g&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!Zs(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=$e.MOCK_USER;else{_=J1(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(S)}s._authCredentials=new FI(new qT(_,A))}}class fg{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new fg(this.firestore,t,this._query)}}class Le{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Jl(i,Le._jsonSchema))return new Le(t,r||null,new ct(ae.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Re("string",Le._jsonSchemaVersion),referencePath:Re("string")};class Gl extends fg{constructor(t,i,r){super(t,i,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ct(t))}withConverter(t){return new Gl(this.firestore,t,this._path)}}function KN(s,t,...i){if(s=Ke(s),arguments.length===1&&(t=jm.newId()),WI("doc","path",t),s instanceof hg){const r=ae.fromString(t,...i);return Uv(r),new Le(s,null,new ct(r))}{if(!(s instanceof Le||s instanceof Gl))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ae.fromString(t,...i));return Uv(r),new Le(s.firestore,s instanceof Gl?s.converter:null,new ct(r))}}const wE="AsyncQueue";class RE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new V0(this,"async_queue_retry"),this._c=()=>{const r=Yd();r&&it(wE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;it(wE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",IE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ag.createAndSchedule(this,t,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function IE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class dg extends hg{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new RE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RE(t),this._firestoreClient=void 0,await t}}}function QN(s,t){const i=typeof s=="object"?s:Cm(),r=typeof s=="string"?s:nh,l=Jr(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=X1("firestore");u&&GN(l,...u)}return l}function Z0(s){if(s._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||YN(s),s._firestoreClient}function YN(s){const t=s._freezeSettings(),i=(function(l,u,d,g){return new hC(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,$0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new jN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Re("string",Ln._jsonSchemaVersion),bytes:Re("string")};class mg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class gg{constructor(t){this._methodName=t}}class Ni{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(t){if(Jl(t,Ni._jsonSchema))return new Ni(t.latitude,t.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Re("string",Ni._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jl(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Re("string",Di._jsonSchemaVersion),vectorValues:Re("object")};const XN=/^__.*__$/;class $N{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ta(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}function W0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:s})}}class pg{constructor(t,i,r,l,u,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new pg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(W0(this.Ac)&&XN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class JN{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ch(t)}Cc(t,i,r,l=!1){return new pg({Ac:t,methodName:i,Dc:r,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ZN(s){const t=s._freezeSettings(),i=Ch(s._databaseId);return new JN(s._databaseId,!!t.ignoreUndefinedProperties,i)}function WN(s,t,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,t,i,l);iA("Data must be an object, but it was:",d,r);const g=eA(r,d);let y,_;if(u.merge)y=new Wn(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const M=tD(t,S,i);if(!d.contains(M))throw new ot($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);nD(A,M)||A.push(M)}y=new Wn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new $N(new Pn(g),y,_)}class yg extends gg{_toFieldTransform(t){return new UC(t.path,new ql)}isEqual(t){return t instanceof yg}}function tA(s,t){if(nA(s=Ke(s)))return iA("Unsupported field value:",t,s),eA(s,t);if(s instanceof gg)return(function(r,l){if(!W0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=tA(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,l){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kC(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ee.fromDate(r);return{timestampValue:oh(l.serializer,u)}}if(r instanceof ee){const u=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(l.serializer,u)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:A0(l.serializer,r._byteString)};if(r instanceof Le){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Di)return(function(d,g){return{mapValue:{fields:{[JT]:{stringValue:ZT},[ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ym(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Bm(r)}`)})(s,t)}function eA(s,t){const i={};return GT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(s,((r,l)=>{const u=tA(l,t.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function nA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof Ni||s instanceof Ln||s instanceof Le||s instanceof gg||s instanceof Di)}function iA(s,t,i){if(!nA(i)||!HT(i)){const r=Bm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function tD(s,t,i){if((t=Ke(t))instanceof mg)return t._internalPath;if(typeof t=="string")return sA(s,t);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const eD=new RegExp("[~\\*/\\[\\]]");function sA(s,t,i){if(t.search(eD)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mg(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,t,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ot($.INVALID_ARGUMENT,g+s+y)}function nD(s,t){return s.some((i=>i.isEqual(t)))}class rA{constructor(t,i,r,l,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(aA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iD extends rA{data(){return super.data()}}function aA(s,t){return typeof t=="string"?sA(s,t):t instanceof mg?t._internalPath:t._delegate._internalPath}class sD{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Zr(t,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(t){const i=t.fields?.[ih].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ni(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const i=tr(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ae.fromString(t);qt(C0(r),9688,{name:t});const l=new jl(r.get(1),r.get(3)),u=new ct(r.popFirst(5));return l.isEqual(i)||os(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function rD(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hr extends rA{constructor(t,i,r,l,u,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(aA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:Re("string",Hr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Kc extends Hr{data(t={}){return super.data(t)}}class xl{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Kc(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:aD(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=xl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}function oD(s){s=Ll(s,Le);const t=Ll(s.firestore,dg);return FN(Z0(t),s._key).then((i=>hD(t,s,i)))}xl._jsonSchemaVersion="firestore/querySnapshot/1.0",xl._jsonSchema={type:Re("string",xl._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class lD extends sD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function uD(s,t,i){s=Ll(s,Le);const r=Ll(s.firestore,dg),l=rD(s.converter,t);return cD(r,[WN(ZN(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ss.none())])}function cD(s,t){return(function(r,l){const u=new Js;return r.asyncQueue.enqueueAndForget((async()=>DN(await qN(r),l,u))),u.promise})(Z0(s),t)}function hD(s,t,i){const r=i.docs.get(t._key),l=new lD(s);return new Hr(s,l,t._key,r,new Il(i.hasPendingWrites,i.fromCache),t.converter)}function fD(){return new yg("serverTimestamp")}(function(t,i=!0){(function(l){ho=l})(uo),Oi(new ei("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new dg(new GI(r.getProvider("auth-internal")),new YI(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(_.options.projectId,A)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Un(xv,kv,t),Un(xv,kv,"esm2020")})();var dD="firebase",mD="12.6.0";Un(dD,mD,"app");const oA="@firebase/installations",_g="0.6.19";const lA=1e4,uA=`w:${_g}`,cA="FIS_v2",gD="https://firebaseinstallations.googleapis.com/v1",pD=3600*1e3,yD="installations",_D="Installations";const vD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yr=new $r(yD,_D,vD);function hA(s){return s instanceof ni&&s.code.includes("request-failed")}function fA({projectId:s}){return`${gD}/projects/${s}/installations`}function dA(s){return{token:s.token,requestStatus:2,expiresIn:TD(s.expiresIn),creationTime:Date.now()}}async function mA(s,t){const r=(await t.json()).error;return Yr.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gA({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function ED(s,{refreshToken:t}){const i=gA(s);return i.append("Authorization",AD(t)),i}async function pA(s){const t=await s();return t.status>=500&&t.status<600?s():t}function TD(s){return Number(s.replace("s","000"))}function AD(s){return`${cA} ${s}`}async function SD({appConfig:s,heartbeatServiceProvider:t},{fid:i}){const r=fA(s),l=gA(s),u=t.getImmediate({optional:!0});if(u){const _=await u.getHeartbeatsHeader();_&&l.append("x-firebase-client",_)}const d={fid:i,authVersion:cA,appId:s.appId,sdkVersion:uA},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await pA(()=>fetch(r,g));if(y.ok){const _=await y.json();return{fid:_.fid||i,registrationStatus:2,refreshToken:_.refreshToken,authToken:dA(_.authToken)}}else throw await mA("Create Installation",y)}function yA(s){return new Promise(t=>{setTimeout(t,s)})}function bD(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const wD=/^[cdef][\w-]{21}$/,wm="";function RD(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const i=ID(s);return wD.test(i)?i:wm}catch{return wm}}function ID(s){return bD(s).substr(0,22)}function Oh(s){return`${s.appName}!${s.appId}`}const _A=new Map;function vA(s,t){const i=Oh(s);EA(i,t),CD(i,t)}function EA(s,t){const i=_A.get(s);if(i)for(const r of i)r(t)}function CD(s,t){const i=ND();i&&i.postMessage({key:s,fid:t}),DD()}let qr=null;function ND(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=s=>{EA(s.data.key,s.data.fid)}),qr}function DD(){_A.size===0&&qr&&(qr.close(),qr=null)}const OD="firebase-installations-database",MD=1,Xr="firebase-installations-store";let $d=null;function vg(){return $d||($d=ZE(OD,MD,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(Xr)}}})),$d}async function fh(s,t){const i=Oh(s),l=(await vg()).transaction(Xr,"readwrite"),u=l.objectStore(Xr),d=await u.get(i);return await u.put(t,i),await l.done,(!d||d.fid!==t.fid)&&vA(s,t.fid),t}async function TA(s){const t=Oh(s),r=(await vg()).transaction(Xr,"readwrite");await r.objectStore(Xr).delete(t),await r.done}async function Mh(s,t){const i=Oh(s),l=(await vg()).transaction(Xr,"readwrite"),u=l.objectStore(Xr),d=await u.get(i),g=t(d);return g===void 0?await u.delete(i):await u.put(g,i),await l.done,g&&(!d||d.fid!==g.fid)&&vA(s,g.fid),g}async function Eg(s){let t;const i=await Mh(s.appConfig,r=>{const l=VD(r),u=xD(s,l);return t=u.registrationPromise,u.installationEntry});return i.fid===wm?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function VD(s){const t=s||{fid:RD(),registrationStatus:0};return AA(t)}function xD(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Yr.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=kD(s,i);return{installationEntry:i,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:PD(s)}:{installationEntry:t}}async function kD(s,t){try{const i=await SD(s,t);return fh(s.appConfig,i)}catch(i){throw hA(i)&&i.customData.serverCode===409?await TA(s.appConfig):await fh(s.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function PD(s){let t=await CE(s.appConfig);for(;t.registrationStatus===1;)await yA(100),t=await CE(s.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:r}=await Eg(s);return r||i}return t}function CE(s){return Mh(s,t=>{if(!t)throw Yr.create("installation-not-found");return AA(t)})}function AA(s){return LD(s)?{fid:s.fid,registrationStatus:0}:s}function LD(s){return s.registrationStatus===1&&s.registrationTime+lA<Date.now()}async function UD({appConfig:s,heartbeatServiceProvider:t},i){const r=zD(s,i),l=ED(s,i),u=t.getImmediate({optional:!0});if(u){const _=await u.getHeartbeatsHeader();_&&l.append("x-firebase-client",_)}const d={installation:{sdkVersion:uA,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await pA(()=>fetch(r,g));if(y.ok){const _=await y.json();return dA(_)}else throw await mA("Generate Auth Token",y)}function zD(s,{fid:t}){return`${fA(s)}/${t}/authTokens:generate`}async function Tg(s,t=!1){let i;const r=await Mh(s.appConfig,u=>{if(!SA(u))throw Yr.create("not-registered");const d=u.authToken;if(!t&&qD(d))return u;if(d.requestStatus===1)return i=jD(s,t),u;{if(!navigator.onLine)throw Yr.create("app-offline");const g=FD(u);return i=BD(s,g),g}});return i?await i:r.authToken}async function jD(s,t){let i=await NE(s.appConfig);for(;i.authToken.requestStatus===1;)await yA(100),i=await NE(s.appConfig);const r=i.authToken;return r.requestStatus===0?Tg(s,t):r}function NE(s){return Mh(s,t=>{if(!SA(t))throw Yr.create("not-registered");const i=t.authToken;return GD(i)?{...t,authToken:{requestStatus:0}}:t})}async function BD(s,t){try{const i=await UD(s,t),r={...t,authToken:i};return await fh(s.appConfig,r),i}catch(i){if(hA(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await TA(s.appConfig);else{const r={...t,authToken:{requestStatus:0}};await fh(s.appConfig,r)}throw i}}function SA(s){return s!==void 0&&s.registrationStatus===2}function qD(s){return s.requestStatus===2&&!HD(s)}function HD(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+pD}function FD(s){const t={requestStatus:1,requestTime:Date.now()};return{...s,authToken:t}}function GD(s){return s.requestStatus===1&&s.requestTime+lA<Date.now()}async function KD(s){const t=s,{installationEntry:i,registrationPromise:r}=await Eg(t);return r?r.catch(console.error):Tg(t).catch(console.error),i.fid}async function QD(s,t=!1){const i=s;return await YD(i),(await Tg(i,t)).token}async function YD(s){const{registrationPromise:t}=await Eg(s);t&&await t}function XD(s){if(!s||!s.options)throw Jd("App Configuration");if(!s.name)throw Jd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!s.options[i])throw Jd(i);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Jd(s){return Yr.create("missing-app-config-values",{valueName:s})}const bA="installations",$D="installations-internal",JD=s=>{const t=s.getProvider("app").getImmediate(),i=XD(t),r=Jr(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},ZD=s=>{const t=s.getProvider("app").getImmediate(),i=Jr(t,bA).getImmediate();return{getId:()=>KD(i),getToken:l=>QD(i,l)}};function WD(){Oi(new ei(bA,JD,"PUBLIC")),Oi(new ei($D,ZD,"PRIVATE"))}WD();Un(oA,_g);Un(oA,_g,"esm2020");const dh="analytics",tO="firebase_id",eO="origin",nO=60*1e3,iO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ag="https://www.googletagmanager.com/gtag/js";const nn=new gh("@firebase/analytics");const sO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new $r("analytics","Analytics",sO);function rO(s){if(!s.startsWith(Ag)){const t=An.create("invalid-gtag-resource",{gtagURL:s});return nn.warn(t.message),""}return s}function wA(s){return Promise.all(s.map(t=>t.catch(i=>i)))}function aO(s,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(s,t)),i}function oO(s,t){const i=aO("firebase-js-sdk-policy",{createScriptURL:rO}),r=document.createElement("script"),l=`${Ag}?l=${s}&id=${t}`;r.src=i?i?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function lO(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function uO(s,t,i,r,l,u){const d=r[l];try{if(d)await t[d];else{const y=(await wA(i)).find(_=>_.measurementId===l);y&&await t[y.appId]}}catch(g){nn.error(g)}s("config",l,u)}async function cO(s,t,i,r,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await wA(i);for(const y of d){const _=g.find(S=>S.measurementId===y),A=_&&t[_.appId];if(A)u.push(A);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),s("event",r,l||{})}catch(u){nn.error(u)}}function hO(s,t,i,r){async function l(u,...d){try{if(u==="event"){const[g,y]=d;await cO(s,t,i,g,y)}else if(u==="config"){const[g,y]=d;await uO(s,t,i,r,g,y)}else if(u==="consent"){const[g,y]=d;s("consent",g,y)}else if(u==="get"){const[g,y,_]=d;s("get",g,y,_)}else if(u==="set"){const[g]=d;s("set",g)}else s(u,...d)}catch(g){nn.error(g)}}return l}function fO(s,t,i,r,l){let u=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=hO(u,s,t,i),{gtagCore:u,wrappedGtag:window[l]}}function dO(s){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Ag)&&i.src.includes(s))return i;return null}const mO=30,gO=1e3;class pO{constructor(t={},i=gO){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const RA=new pO;function yO(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function _O(s){const{appId:t,apiKey:i}=s,r={method:"GET",headers:yO(i)},l=iO.replace("{app-id}",t),u=await fetch(l,r);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function vO(s,t=RA,i){const{appId:r,apiKey:l,measurementId:u}=s.options;if(!r)throw An.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:r};throw An.create("no-api-key")}const d=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new AO;return setTimeout(async()=>{g.abort()},nO),IA({appId:r,apiKey:l,measurementId:u},d,g,t)}async function IA(s,{throttleEndTimeMillis:t,backoffCount:i},r,l=RA){const{appId:u,measurementId:d}=s;try{await EO(r,t)}catch(g){if(d)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await _O(s);return l.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!TO(y)){if(l.deleteThrottleMetadata(u),d)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:d};throw g}const _=Number(y?.customData?.httpStatus)===503?rv(i,l.intervalMillis,mO):rv(i,l.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:i+1};return l.setThrottleMetadata(u,A),nn.debug(`Calling attemptFetch again in ${_} millis`),IA(s,A,r,l)}}function EO(s,t){return new Promise((i,r)=>{const l=Math.max(t-Date.now(),0),u=setTimeout(i,l);s.addEventListener(()=>{clearTimeout(u),r(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function TO(s){if(!(s instanceof ni)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class AO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function SO(s,t,i,r,l){if(l&&l.global){s("event",i,r);return}else{const u=await t,d={...r,send_to:u};s("event",i,d)}}async function bO(s,t,i,r){if(r&&r.global){const l={};for(const u of Object.keys(i))l[`user_properties.${u}`]=i[u];return s("set",l),Promise.resolve()}else{const l=await t;s("config",l,{update:!0,user_properties:i})}}async function wO(){if(YE())try{await XE()}catch(s){return nn.warn(An.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return nn.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RO(s,t,i,r,l,u,d){const g=vO(s);g.then(M=>{i[M.measurementId]=M.appId,s.options.measurementId&&M.measurementId!==s.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${M.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(M=>nn.error(M)),t.push(g);const y=wO().then(M=>{if(M)return r.getId()}),[_,A]=await Promise.all([g,y]);dO(u)||oO(u,_.measurementId),l("js",new Date);const S=d?.config??{};return S[eO]="firebase",S.update=!0,A!=null&&(S[tO]=A),l("config",_.measurementId,S),_.measurementId}class IO{constructor(t){this.app=t}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},DE=[];const OE={};let Zd="dataLayer",CO="gtag",ME,Sg,VE=!1;function NO(){const s=[];if(QE()&&s.push("This is a browser extension environment."),ab()||s.push("Cookies are not available."),s.length>0){const t=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),i=An.create("invalid-analytics-context",{errorInfo:t});nn.warn(i.message)}}function DO(s,t,i){NO();const r=s.options.appId;if(!r)throw An.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(to[r]!=null)throw An.create("already-exists",{id:r});if(!VE){lO(Zd);const{wrappedGtag:u,gtagCore:d}=fO(to,DE,OE,Zd,CO);Sg=u,ME=d,VE=!0}return to[r]=RO(s,DE,OE,t,ME,Zd,i),new IO(s)}function OO(s=Cm()){s=Ke(s);const t=Jr(s,dh);return t.isInitialized()?t.getImmediate():MO(s)}function MO(s,t={}){const i=Jr(s,dh);if(i.isInitialized()){const l=i.getImmediate();if(Zs(t,i.getOptions()))return l;throw An.create("already-initialized")}return i.initialize({options:t})}function VO(s,t,i){s=Ke(s),bO(Sg,to[s.app.options.appId],t,i).catch(r=>nn.error(r))}function xO(s,t,i,r){s=Ke(s),SO(Sg,to[s.app.options.appId],t,i,r).catch(l=>nn.error(l))}const xE="@firebase/analytics",kE="0.10.19";function kO(){Oi(new ei(dh,(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return DO(r,l,i)},"PUBLIC")),Oi(new ei("analytics-internal",s,"PRIVATE")),Un(xE,kE),Un(xE,kE,"esm2020");function s(t){try{const i=t.getProvider(dh).getImmediate();return{logEvent:(r,l,u)=>xO(i,r,l,u),setUserProperties:(r,l)=>VO(i,r,l)}}catch(i){throw An.create("interop-component-reg-failed",{reason:i})}}}kO();const PO={apiKey:"AIzaSyDJHnhOqWUffsj7On_LWfVvb25W-9R6vlw",authDomain:"lumina-saas.firebaseapp.com",projectId:"lumina-saas",storageBucket:"lumina-saas.firebasestorage.app",messagingSenderId:"1093743151712",appId:"1:1093743151712:web:260a4fbdf6d3b98e8d1105",measurementId:"G-LVYDSEFSZ5"},bg=WE(PO),Ur=BI(bg),LO=QN(bg);OO(bg);const CA=ce.createContext(null);function UO({children:s}){const[t,i]=ce.useState(null),[r,l]=ce.useState(!0);ce.useEffect(()=>{const A=NR(Ur,S=>{i(S),l(!1)});return()=>A()},[]);const u=async(A,S)=>{if(A)try{const M=KN(LO,"users",A.uid);(await oD(M)).exists()||await uD(M,{uid:A.uid,email:A.email,displayName:S||A.displayName,photoURL:A.photoURL,createdAt:fD()})}catch(M){console.error("Error creating user profile",M)}},d=async()=>{const A=new ts;try{const S=await $R(Ur,A);await u(S.user)}catch(S){throw console.error("Error signing in with Google",S),S}},g=async(A,S,M)=>{try{const F=await SR(Ur,A,S);Ur.currentUser&&await RR(Ur.currentUser,{displayName:M}),await u(F.user,M)}catch(F){throw console.error("Error signing up with email",F),F}},y=async(A,S)=>{try{await bR(Ur,A,S)}catch(M){throw console.error("Error signing in with email",M),M}},_=async()=>{try{await DR(Ur)}catch(A){throw console.error("Error signing out",A),A}};return Y.jsx(CA.Provider,{value:{user:t,loading:r,signInWithGoogle:d,signUpWithEmail:g,signInWithEmail:y,logout:_},children:!r&&s})}function NA(){const s=ce.useContext(CA);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s}function zO({isOpen:s,onClose:t,defaultTab:i="signin"}){const[r,l]=ce.useState(i),[u,d]=ce.useState(""),[g,y]=ce.useState(""),[_,A]=ce.useState(""),[S,M]=ce.useState(!1),[F,W]=ce.useState(""),[nt,J]=ce.useState(!1),{signInWithGoogle:ht,signInWithEmail:_t,signUpWithEmail:dt}=NA();if(c1.useEffect(()=>{s&&(l(i),W(""),d(""),y(""),A(""),M(!1))},[s,i]),!s)return null;const Bt=async Tt=>{Tt.preventDefault(),W(""),J(!0);try{r==="signup"?await dt(g,_,u):await _t(g,_),t()}catch(C){C.code==="auth/email-already-in-use"?W("Email already in use."):C.code==="auth/invalid-credential"?W("Invalid email or password."):C.code==="auth/weak-password"?W("Password should be at least 6 characters."):W("Failed to authenticate. Please try again.")}finally{J(!1)}},Jt=async()=>{try{await ht(),t()}catch(Tt){console.error(Tt),W("Failed to sign in with Google.")}};return Y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[Y.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm transition-opacity",onClick:t}),Y.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-2xl shadow-2xl overflow-hidden transform transition-all scale-100",children:[Y.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:Y.jsx(UE,{size:20})}),Y.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[Y.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r==="signin"?"Welcome back":"Create an account"}),Y.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r==="signin"?"Enter your details to access your account":"Start your 14-day free trial today"})]}),Y.jsxs("div",{className:"flex border-b border-gray-100",children:[Y.jsxs("button",{className:`flex-1 py-3 text-sm font-medium transition-colors relative ${r==="signin"?"text-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("signin"),children:["Sign In",r==="signin"&&Y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]}),Y.jsxs("button",{className:`flex-1 py-3 text-sm font-medium transition-colors relative ${r==="signup"?"text-indigo-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>l("signup"),children:["Sign Up",r==="signup"&&Y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-indigo-600"})]})]}),Y.jsxs("div",{className:"p-8",children:[Y.jsxs("button",{onClick:Jt,className:"w-full flex items-center justify-center gap-3 bg-white border border-gray-200 text-gray-700 font-medium py-2.5 rounded-xl hover:bg-gray-50 transition-colors mb-6",children:[Y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]}),Y.jsxs("div",{className:"relative mb-6",children:[Y.jsx("div",{className:"absolute inset-0 flex items-center",children:Y.jsx("div",{className:"w-full border-t border-gray-100"})}),Y.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:Y.jsx("span",{className:"bg-white px-2 text-gray-400",children:"Or continue with email"})})]}),Y.jsxs("form",{onSubmit:Bt,className:"space-y-4",children:[r==="signup"&&Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),Y.jsxs("div",{className:"relative",children:[Y.jsx(Wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),Y.jsx("input",{type:"text",required:!0,value:u,onChange:Tt=>d(Tt.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none",placeholder:"Clint Lax"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email address"}),Y.jsxs("div",{className:"relative",children:[Y.jsx(V1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),Y.jsx("input",{type:"email",required:!0,value:g,onChange:Tt=>y(Tt.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none",placeholder:"you@example.com"})]})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),Y.jsxs("div",{className:"relative",children:[Y.jsx(N1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),Y.jsx("input",{type:S?"text":"password",required:!0,value:_,onChange:Tt=>A(Tt.target.value),className:"w-full pl-10 pr-10 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none",placeholder:"",minLength:6}),Y.jsx("button",{type:"button",onClick:()=>M(!S),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:S?Y.jsx(w1,{size:18}):Y.jsx(I1,{size:18})})]})]}),F&&Y.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:F}),Y.jsx("button",{type:"submit",disabled:nt,className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-xl hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-200 flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed",children:nt?"Processing...":Y.jsxs(Y.Fragment,{children:[r==="signin"?"Sign In":"Create Account",Y.jsx(LE,{size:18,className:"ml-2"})]})})]})]})]})]})}function jO({}){const[s,t]=ce.useState(!1),[i,r]=ce.useState(!1),[l,u]=ce.useState("signin"),{user:d,logout:g}=NA(),y=A=>{u(A),r(!0),t(!1)},_=async()=>{try{await g(),t(!1)}catch(A){console.error("Failed to log out",A)}};return Y.jsxs(Y.Fragment,{children:[Y.jsxs("nav",{className:"border-b border-gray-100 bg-white/80 backdrop-blur-md sticky top-0 z-50",children:[Y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[Y.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",children:[Y.jsx("img",{src:j1,alt:"Lumina Logo",className:"w-10 h-10 object-contain"}),Y.jsx("span",{className:"text-xl font-bold tracking-tight text-gray-900",children:"Luminar"})]}),Y.jsxs("div",{className:"hidden md:flex space-x-8 text-sm font-medium text-gray-500",children:[Y.jsx("a",{href:"#features",className:"hover:text-indigo-600 transition-colors",children:"Features"}),Y.jsx("a",{href:"#pricing",className:"hover:text-indigo-600 transition-colors",children:"Pricing"}),Y.jsx("a",{href:"#testimonials",className:"hover:text-indigo-600 transition-colors",children:"Customers"})]}),Y.jsx("div",{className:"hidden md:flex items-center space-x-4",children:d?Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[d.photoURL?Y.jsx("img",{src:d.photoURL,alt:d.displayName||"User",className:"w-8 h-8 rounded-full border border-gray-200"}):Y.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:Y.jsx(Wd,{size:16})}),Y.jsx("span",{children:d.displayName||d.email?.split("@")[0]})]}),Y.jsx("button",{onClick:_,className:"text-gray-500 hover:text-red-600 transition-colors",title:"Sign Out",children:Y.jsx(O1,{size:20})})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>y("signin"),className:"text-sm font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),Y.jsx("button",{onClick:()=>y("signup"),className:"bg-indigo-600 text-white px-5 py-2 rounded-full text-sm font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200",children:"Get Started"})]})}),Y.jsx("div",{className:"md:hidden",children:Y.jsx("button",{onClick:()=>t(!s),children:s?Y.jsx(UE,{className:"text-gray-600"}):Y.jsx(k1,{className:"text-gray-600"})})})]}),s&&Y.jsxs("div",{className:"md:hidden bg-white border-t border-gray-100 p-4 space-y-4 shadow-lg absolute w-full left-0",children:[Y.jsx("a",{href:"#features",className:"block text-gray-600 font-medium",children:"Features"}),Y.jsx("a",{href:"#pricing",className:"block text-gray-600 font-medium",children:"Pricing"}),d?Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"flex items-center gap-3 py-2 border-t border-gray-100 mt-2 pt-4",children:[d.photoURL?Y.jsx("img",{src:d.photoURL,alt:d.displayName||"User",className:"w-8 h-8 rounded-full"}):Y.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:Y.jsx(Wd,{size:16})}),Y.jsx("span",{className:"font-medium text-gray-900",children:d.displayName||d.email})]}),Y.jsx("button",{onClick:_,className:"block text-red-600 font-medium w-full text-left",children:"Sign Out"})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>y("signin"),className:"block text-gray-600 font-medium w-full text-left",children:"Sign in"}),Y.jsx("button",{onClick:()=>y("signup"),className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-bold",children:"Get Started"})]})]})]}),Y.jsx(zO,{isOpen:i,onClose:()=>r(!1),defaultTab:l})]})}function BO({onGetStarted:s}){return Y.jsxs("div",{className:"relative overflow-hidden bg-white pt-16 pb-32",children:[Y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[Y.jsxs("div",{className:"inline-flex items-center rounded-full border border-indigo-100 bg-indigo-50 px-3 py-1 text-sm font-medium text-indigo-600 mb-8 animate-fade-in-up",children:[Y.jsx("span",{className:"flex h-2 w-2 rounded-full bg-indigo-600 mr-2"}),"New: AI Content Generator 2.0"]}),Y.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 tracking-tight mb-6 leading-tight animate-fade-in-up animate-delay-100",children:["Turn social chaos ",Y.jsx("br",{}),"into"," ",Y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"predictable growth"}),"."]}),Y.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-xl text-gray-500 mb-10 animate-fade-in-up animate-delay-200",children:"Lumina helps brands publish, analyze, and grow across all channels using predictive AI. Stop guessing, start scaling."}),Y.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4 animate-fade-in-up animate-delay-300",children:[Y.jsxs("button",{onClick:s,className:"bg-gray-900 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-gray-800 transition-all shadow-xl hover:-translate-y-1 flex items-center justify-center",children:["Start Free Trial",Y.jsx(LE,{size:20,className:"ml-2"})]}),Y.jsxs("button",{className:"bg-white text-gray-700 border border-gray-200 px-8 py-4 rounded-full text-lg font-bold hover:bg-gray-50 transition-all flex items-center justify-center",children:[Y.jsx(L1,{size:20,className:"mr-2"}),"Watch Demo"]})]})]}),Y.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-indigo-100/50 rounded-full blur-3xl -z-10"}),Y.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-purple-100/50 rounded-full blur-3xl -z-10"})]})}function qO(){const s=()=>{console.log("Sign in clicked"),alert("Sign In coming soon!")},t=()=>{console.log("Get Started clicked"),alert("Wizard flow starting soon!")};return Y.jsx(UO,{children:Y.jsxs("div",{className:"min-h-screen bg-white font-sans text-gray-900 selection:bg-indigo-100 selection:text-indigo-800",children:[Y.jsx(jO,{onSignin:s,onGetStarted:t}),Y.jsx(BO,{onGetStarted:t}),Y.jsx("div",{className:"py-20 text-center text-gray-400",children:"(Features & Pricing sections will go here)"})]})})}y1.createRoot(document.getElementById("root")).render(Y.jsx(ce.StrictMode,{children:Y.jsx(qO,{})}));
