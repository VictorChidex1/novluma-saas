function uU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ej(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mb={exports:{}},tf={};var gI;function dU(){if(gI)return tf;gI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:a}}return tf.Fragment=e,tf.jsx=n,tf.jsxs=n,tf}var yI;function hU(){return yI||(yI=1,mb.exports=dU()),mb.exports}var h=hU(),pb={exports:{}},qe={};var vI;function fU(){if(vI)return qe;vI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,I={};function R(F,ae,se){this.props=F,this.context=ae,this.refs=I,this.updater=se||T}R.prototype.isReactComponent={},R.prototype.setState=function(F,ae){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ae,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=R.prototype;function j(F,ae,se){this.props=F,this.context=ae,this.refs=I,this.updater=se||T}var z=j.prototype=new D;z.constructor=j,S(z,R.prototype),z.isPureReactComponent=!0;var $=Array.isArray;function Y(){}var k={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(F,ae,se){var ue=se.ref;return{$$typeof:t,type:F,key:ae,ref:ue!==void 0?ue:null,props:se}}function U(F,ae){return O(F.type,ae,F.props)}function L(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function H(F){var ae={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(se){return ae[se]})}var V=/\/+/g;function Ee(F,ae){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):ae.toString(36)}function ke(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Y,Y):(F.status="pending",F.then(function(ae){F.status==="pending"&&(F.status="fulfilled",F.value=ae)},function(ae){F.status==="pending"&&(F.status="rejected",F.reason=ae)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function G(F,ae,se,ue,ge){var Se=typeof F;(Se==="undefined"||Se==="boolean")&&(F=null);var he=!1;if(F===null)he=!0;else switch(Se){case"bigint":case"string":case"number":he=!0;break;case"object":switch(F.$$typeof){case t:case e:he=!0;break;case p:return he=F._init,G(he(F._payload),ae,se,ue,ge)}}if(he)return ge=ge(F),he=ue===""?"."+Ee(F,0):ue,$(ge)?(se="",he!=null&&(se=he.replace(V,"$&/")+"/"),G(ge,ae,se,"",function(He){return He})):ge!=null&&(L(ge)&&(ge=U(ge,se+(ge.key==null||F&&F.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+he)),ae.push(ge)),1;he=0;var we=ue===""?".":ue+":";if($(F))for(var De=0;De<F.length;De++)ue=F[De],Se=we+Ee(ue,De),he+=G(ue,ae,se,Se,ge);else if(De=_(F),typeof De=="function")for(F=De.call(F),De=0;!(ue=F.next()).done;)ue=ue.value,Se=we+Ee(ue,De++),he+=G(ue,ae,se,Se,ge);else if(Se==="object"){if(typeof F.then=="function")return G(ke(F),ae,se,ue,ge);throw ae=String(F),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return he}function te(F,ae,se){if(F==null)return F;var ue=[],ge=0;return G(F,ue,"","",function(Se){return ae.call(se,Se,ge++)}),ue}function W(F){if(F._status===-1){var ae=F._result;ae=ae(),ae.then(function(se){(F._status===0||F._status===-1)&&(F._status=1,F._result=se)},function(se){(F._status===0||F._status===-1)&&(F._status=2,F._result=se)}),F._status===-1&&(F._status=0,F._result=ae)}if(F._status===1)return F._result.default;throw F._result}var be=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Te={map:te,forEach:function(F,ae,se){te(F,function(){ae.apply(this,arguments)},se)},count:function(F){var ae=0;return te(F,function(){ae++}),ae},toArray:function(F){return te(F,function(ae){return ae})||[]},only:function(F){if(!L(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return qe.Activity=g,qe.Children=Te,qe.Component=R,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=j,qe.StrictMode=r,qe.Suspense=d,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return k.H.useMemoCache(F)}},qe.cache=function(F){return function(){return F.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(F,ae,se){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ue=S({},F.props),ge=F.key;if(ae!=null)for(Se in ae.key!==void 0&&(ge=""+ae.key),ae)!C.call(ae,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ae.ref===void 0||(ue[Se]=ae[Se]);var Se=arguments.length-2;if(Se===1)ue.children=se;else if(1<Se){for(var he=Array(Se),we=0;we<Se;we++)he[we]=arguments[we+2];ue.children=he}return O(F.type,ge,ue)},qe.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:a,_context:F},F},qe.createElement=function(F,ae,se){var ue,ge={},Se=null;if(ae!=null)for(ue in ae.key!==void 0&&(Se=""+ae.key),ae)C.call(ae,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=ae[ue]);var he=arguments.length-2;if(he===1)ge.children=se;else if(1<he){for(var we=Array(he),De=0;De<he;De++)we[De]=arguments[De+2];ge.children=we}if(F&&F.defaultProps)for(ue in he=F.defaultProps,he)ge[ue]===void 0&&(ge[ue]=he[ue]);return O(F,Se,ge)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(F){return{$$typeof:c,render:F}},qe.isValidElement=L,qe.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:W}},qe.memo=function(F,ae){return{$$typeof:f,type:F,compare:ae===void 0?null:ae}},qe.startTransition=function(F){var ae=k.T,se={};k.T=se;try{var ue=F(),ge=k.S;ge!==null&&ge(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Y,be)}catch(Se){be(Se)}finally{ae!==null&&se.types!==null&&(ae.types=se.types),k.T=ae}},qe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qe.use=function(F){return k.H.use(F)},qe.useActionState=function(F,ae,se){return k.H.useActionState(F,ae,se)},qe.useCallback=function(F,ae){return k.H.useCallback(F,ae)},qe.useContext=function(F){return k.H.useContext(F)},qe.useDebugValue=function(){},qe.useDeferredValue=function(F,ae){return k.H.useDeferredValue(F,ae)},qe.useEffect=function(F,ae){return k.H.useEffect(F,ae)},qe.useEffectEvent=function(F){return k.H.useEffectEvent(F)},qe.useId=function(){return k.H.useId()},qe.useImperativeHandle=function(F,ae,se){return k.H.useImperativeHandle(F,ae,se)},qe.useInsertionEffect=function(F,ae){return k.H.useInsertionEffect(F,ae)},qe.useLayoutEffect=function(F,ae){return k.H.useLayoutEffect(F,ae)},qe.useMemo=function(F,ae){return k.H.useMemo(F,ae)},qe.useOptimistic=function(F,ae){return k.H.useOptimistic(F,ae)},qe.useReducer=function(F,ae,se){return k.H.useReducer(F,ae,se)},qe.useRef=function(F){return k.H.useRef(F)},qe.useState=function(F){return k.H.useState(F)},qe.useSyncExternalStore=function(F,ae,se){return k.H.useSyncExternalStore(F,ae,se)},qe.useTransition=function(){return k.H.useTransition()},qe.version="19.2.1",qe}var xI;function u0(){return xI||(xI=1,pb.exports=fU()),pb.exports}var w=u0();const pe=Ej(w),G_=uU({__proto__:null,default:pe},[w]);var gb={exports:{}},nf={},yb={exports:{}},vb={};var bI;function mU(){return bI||(bI=1,(function(t){function e(G,te){var W=G.length;G.push(te);e:for(;0<W;){var be=W-1>>>1,Te=G[be];if(0<i(Te,te))G[be]=te,G[W]=Te,W=be;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],W=G.pop();if(W!==te){G[0]=W;e:for(var be=0,Te=G.length,F=Te>>>1;be<F;){var ae=2*(be+1)-1,se=G[ae],ue=ae+1,ge=G[ue];if(0>i(se,W))ue<Te&&0>i(ge,se)?(G[be]=ge,G[ue]=W,be=ue):(G[be]=se,G[ae]=W,be=ae);else if(ue<Te&&0>i(ge,W))G[be]=ge,G[ue]=W,be=ue;else break e}}return te}function i(G,te){var W=G.sortIndex-te.sortIndex;return W!==0?W:G.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,b=3,_=!1,T=!1,S=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function z(G){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=G)r(f),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(f)}}function $(G){if(S=!1,z(G),!T)if(n(d)!==null)T=!0,Y||(Y=!0,H());else{var te=n(f);te!==null&&ke($,te.startTime-G)}}var Y=!1,k=-1,C=5,O=-1;function U(){return I?!0:!(t.unstable_now()-O<C)}function L(){if(I=!1,Y){var G=t.unstable_now();O=G;var te=!0;try{e:{T=!1,S&&(S=!1,D(k),k=-1),_=!0;var W=b;try{t:{for(z(G),g=n(d);g!==null&&!(g.expirationTime>G&&U());){var be=g.callback;if(typeof be=="function"){g.callback=null,b=g.priorityLevel;var Te=be(g.expirationTime<=G);if(G=t.unstable_now(),typeof Te=="function"){g.callback=Te,z(G),te=!0;break t}g===n(d)&&r(d),z(G)}else r(d);g=n(d)}if(g!==null)te=!0;else{var F=n(f);F!==null&&ke($,F.startTime-G),te=!1}}break e}finally{g=null,b=W,_=!1}te=void 0}}finally{te?H():Y=!1}}}var H;if(typeof j=="function")H=function(){j(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ee=V.port2;V.port1.onmessage=L,H=function(){Ee.postMessage(null)}}else H=function(){R(L,0)};function ke(G,te){k=R(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(G){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var W=b;b=te;try{return G()}finally{b=W}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=b;b=G;try{return te()}finally{b=W}},t.unstable_scheduleCallback=function(G,te,W){var be=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?be+W:be):W=be,G){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=W+Te,G={id:p++,callback:te,priorityLevel:G,startTime:W,expirationTime:Te,sortIndex:-1},W>be?(G.sortIndex=W,e(f,G),n(d)===null&&G===n(f)&&(S?(D(k),k=-1):S=!0,ke($,W-be))):(G.sortIndex=Te,e(d,G),T||_||(T=!0,Y||(Y=!0,H()))),G},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(G){var te=b;return function(){var W=b;b=te;try{return G.apply(this,arguments)}finally{b=W}}}})(vb)),vb}var wI;function pU(){return wI||(wI=1,yb.exports=mU()),yb.exports}var xb={exports:{}},ir={};var _I;function gU(){if(_I)return ir;_I=1;var t=u0();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},ir.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},ir.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},ir.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ir.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:_}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ir.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},ir.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ir.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},ir.requestFormReset=function(d){r.d.r(d)},ir.unstable_batchedUpdates=function(d,f){return d(f)},ir.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},ir.version="19.2.1",ir}var EI;function Tj(){if(EI)return xb.exports;EI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xb.exports=gU(),xb.exports}var TI;function yU(){if(TI)return nf;TI=1;var t=pU(),e=u0(),n=Tj();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(r(188))}function f(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(r(188));return o!==s?null:s}for(var u=s,m=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return d(v),s;if(x===m)return d(v),o;x=x.sibling}throw Error(r(188))}if(u.return!==m.return)u=v,m=x;else{for(var A=!1,P=v.child;P;){if(P===u){A=!0,u=v,m=x;break}if(P===m){A=!0,m=v,u=x;break}P=P.sibling}if(!A){for(P=x.child;P;){if(P===u){A=!0,u=x,m=v;break}if(P===m){A=!0,m=x,u=v;break}P=P.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function Ee(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case R:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case Y:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case j:return s.displayName||"Context";case D:return(s._context.displayName||"Context")+".Consumer";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return o=s.displayName||null,o!==null?o:Ee(s.type)||"Memo";case C:o=s._payload,s=s._init;try{return Ee(s(o))}catch{}}return null}var ke=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},be=[],Te=-1;function F(s){return{current:s}}function ae(s){0>Te||(s.current=be[Te],be[Te]=null,Te--)}function se(s,o){Te++,be[Te]=s.current,s.current=o}var ue=F(null),ge=F(null),Se=F(null),he=F(null);function we(s,o){switch(se(Se,o),se(ge,s),se(ue,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?UN(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=UN(o),s=BN(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ae(ue),se(ue,s)}function De(){ae(ue),ae(ge),ae(Se)}function He(s){s.memoizedState!==null&&se(he,s);var o=ue.current,u=BN(o,s.type);o!==u&&(se(ge,s),se(ue,u))}function $e(s){ge.current===s&&(ae(ue),ae(ge)),he.current===s&&(ae(he),Xh._currentValue=W)}var Qe,Qt;function zt(s){if(Qe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Qe=o&&o[1]||"",Qt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+s+Qt}var zr=!1;function Ve(s,o){if(!s||zr)return"";zr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ie){var ne=ie}Reflect.construct(s,[],de)}else{try{de.call()}catch(ie){ne=ie}s.call(de.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),A=x[0],P=x[1];if(A&&P){var B=A.split(`
`),Z=P.split(`
`);for(v=m=0;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(m===B.length||v===Z.length)for(m=B.length-1,v=Z.length-1;1<=m&&0<=v&&B[m]!==Z[v];)v--;for(;1<=m&&0<=v;m--,v--)if(B[m]!==Z[v]){if(m!==1||v!==1)do if(m--,v--,0>v||B[m]!==Z[v]){var oe=`
`+B[m].replace(" at new "," at ");return s.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",s.displayName)),oe}while(1<=m&&0<=v);break}}}finally{zr=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?zt(u):""}function et(s,o){switch(s.tag){case 26:case 27:case 5:return zt(s.type);case 16:return zt("Lazy");case 13:return s.child!==o&&o!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return Ve(s.type,!1);case 11:return Ve(s.type.render,!1);case 1:return Ve(s.type,!0);case 31:return zt("Activity");default:return""}}function hn(s){try{var o="",u=null;do o+=et(s,u),u=s,s=s.return;while(s);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Le=Object.prototype.hasOwnProperty,Xt=t.unstable_scheduleCallback,mi=t.unstable_cancelCallback,Sn=t.unstable_shouldYield,xr=t.unstable_requestPaint,sn=t.unstable_now,Hr=t.unstable_getCurrentPriorityLevel,qn=t.unstable_ImmediatePriority,br=t.unstable_UserBlockingPriority,An=t.unstable_NormalPriority,dr=t.unstable_LowPriority,Mn=t.unstable_IdlePriority,qa=t.log,$r=t.unstable_setDisableYieldValue,qr=null,Nn=null;function hr(s){if(typeof qa=="function"&&$r(s),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(qr,s)}catch{}}var Ht=Math.clz32?Math.clz32:Gr,Fc=Math.log,ms=Math.LN2;function Gr(s){return s>>>=0,s===0?32:31-(Fc(s)/ms|0)|0}var pi=256,ea=262144,Jt=4194304;function Kr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Oe(s,o,u){var m=s.pendingLanes;if(m===0)return 0;var v=0,x=s.suspendedLanes,A=s.pingedLanes;s=s.warmLanes;var P=m&134217727;return P!==0?(m=P&~x,m!==0?v=Kr(m):(A&=P,A!==0?v=Kr(A):u||(u=P&~s,u!==0&&(v=Kr(u))))):(P=m&~x,P!==0?v=Kr(P):A!==0?v=Kr(A):u||(u=m&~s,u!==0&&(v=Kr(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function yt(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function fn(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(){var s=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),s}function fr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Mt(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function rr(s,o,u,m,v,x){var A=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var P=s.entanglements,B=s.expirationTimes,Z=s.hiddenUpdates;for(u=A&~u;0<u;){var oe=31-Ht(u),de=1<<oe;P[oe]=0,B[oe]=-1;var ne=Z[oe];if(ne!==null)for(Z[oe]=null,oe=0;oe<ne.length;oe++){var ie=ne[oe];ie!==null&&(ie.lane&=-536870913)}u&=~de}m!==0&&gi(s,m,0),x!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=x&~(A&~o))}function gi(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-Ht(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|u&261930}function Gn(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var m=31-Ht(u),v=1<<m;v&o|s[m]&o&&(s[m]|=o),u&=~v}}function Kn(s,o){var u=o&-o;return u=(u&42)!==0?1:ps(u),(u&(s.suspendedLanes|o))!==0?0:u}function ps(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Wn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function rh(){var s=te.p;return s!==0?s:(s=window.event,s===void 0?32:cI(s.type))}function Vi(s,o){var u=te.p;try{return te.p=s,o()}finally{te.p=u}}var Li=Math.random().toString(36).slice(2),mn="__reactFiber$"+Li,Vn="__reactProps$"+Li,gs="__reactContainer$"+Li,zc="__reactEvents$"+Li,bv="__reactListeners$"+Li,ep="__reactHandles$"+Li,tp="__reactResources$"+Li,ys="__reactMarker$"+Li;function Hc(s){delete s[mn],delete s[Vn],delete s[zc],delete s[bv],delete s[ep]}function vs(s){var o=s[mn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[gs]||u[mn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=KN(s);s!==null;){if(u=s[mn])return u;s=KN(s)}return o}s=u,u=s.parentNode}return null}function yi(s){if(s=s[mn]||s[gs]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Wr(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function xs(s){var o=s[tp];return o||(o=s[tp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function pn(s){s[ys]=!0}var ih=new Set,sh={};function bs(s,o){ws(s,o),ws(s+"Capture",o)}function ws(s,o){for(sh[s]=o,s=0;s<o.length;s++)ih.add(o[s])}var ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oh={},lh={};function np(s){return Le.call(lh,s)?!0:Le.call(oh,s)?!1:ah.test(s)?lh[s]=!0:(oh[s]=!0,!1)}function $c(s,o,u){if(np(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function Yr(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function gn(s,o,u,m){if(m===null)s.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+m)}}function Ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ga(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ch(s,o,u){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var v=m.get,x=m.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return v.call(this)},set:function(A){u=""+A,x.call(this,A)}}),Object.defineProperty(s,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function bt(s){if(!s._valueTracker){var o=Ga(s)?"checked":"value";s._valueTracker=ch(s,o,""+s[o])}}function vl(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return s&&(m=Ga(s)?s.checked?"true":"false":s.value),s=m,s!==u?(o.setValue(s),!0):!1}function _s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xl=/[\n"\\]/g;function wr(s){return s.replace(xl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function qc(s,o,u,m,v,x,A,P){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),o!=null?A==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ln(o)):s.value!==""+Ln(o)&&(s.value=""+Ln(o)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),o!=null?uh(s,A,Ln(o)):u!=null?uh(s,A,Ln(u)):m!=null&&s.removeAttribute("value"),v==null&&x!=null&&(s.defaultChecked=!!x),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+Ln(P):s.removeAttribute("name")}function rp(s,o,u,m,v,x,A,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){bt(s);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,P||o===s.value||(s.value=o),s.defaultValue=o}m=m??v,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=P?s.checked:!!m,s.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A),bt(s)}function uh(s,o,u){o==="number"&&_s(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ka(s,o,u,m){if(s=s.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=o.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&m&&(s[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,m&&(s[v].defaultSelected=!0);return}o!==null||s[v].disabled||(o=s[v])}o!==null&&(o.selected=!0)}}function ip(s,o,u){if(o!=null&&(o=""+Ln(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Ln(u):""}function Wa(s,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(ke(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=Ln(o),s.defaultValue=u,m=s.textContent,m===u&&m!==""&&m!==null&&(s.value=m),bt(s)}function _r(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var sp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dh(s,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,u):typeof u!="number"||u===0||sp.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function hh(s,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var v in o)m=o[v],o.hasOwnProperty(v)&&u[v]!==m&&dh(s,v,m)}else for(var x in o)o.hasOwnProperty(x)&&dh(s,x,o[x])}function Gc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ap=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ya=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kc(s){return Ya.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ui(){}var fh=null;function vi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Qa=null,Es=null;function bl(s){var o=yi(s);if(o&&(s=o.stateNode)){var u=s[Vn]||null;e:switch(s=o.stateNode,o.type){case"input":if(qc(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+wr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==s&&m.form===s.form){var v=m[Vn]||null;if(!v)throw Error(r(90));qc(m,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===s.form&&vl(m)}break e;case"textarea":ip(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Ka(s,!!u.multiple,o,!1)}}}var Wc=!1;function Xa(s,o,u){if(Wc)return s(o,u);Wc=!0;try{var m=s(o);return m}finally{if(Wc=!1,(Qa!==null||Es!==null)&&(Zp(),Qa&&(o=Qa,s=Es,Es=Qa=null,bl(o),s)))for(o=0;o<s.length;o++)bl(s[o])}}function Bi(s,o){var u=s.stateNode;if(u===null)return null;var m=u[Vn]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(xi)try{var At={};Object.defineProperty(At,"passive",{get:function(){wl=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{wl=!1}var Ts=null,mh=null,_l=null;function ph(){if(_l)return _l;var s,o=mh,u=o.length,m,v="value"in Ts?Ts.value:Ts.textContent,x=v.length;for(s=0;s<u&&o[s]===v[s];s++);var A=u-s;for(m=1;m<=A&&o[u-m]===v[x-m];m++);return _l=v.slice(s,1<m?1-m:void 0)}function El(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ta(){return!0}function Fi(){return!1}function Yn(s){function o(u,m,v,x,A){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ta:Fi,this.isPropagationStopped=Fi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),o}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=Yn(na),Ja=g({},na,{view:0,detail:0}),gh=Yn(Ja),Za,Yc,As,Qc=g({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==As&&(As&&s.type==="mousemove"?(Za=s.screenX-As.screenX,Yc=s.screenY-As.screenY):Yc=Za=0,As=s),Za)},movementY:function(s){return"movementY"in s?s.movementY:Yc}}),yh=Yn(Qc),Tl=g({},Qc,{dataTransfer:0}),op=Yn(Tl),lp=g({},Ja,{relatedTarget:0}),Sl=Yn(lp),vh=g({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),cp=Yn(vh),Xc=g({},na,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),up=Yn(Xc),dp=g({},na,{data:0}),Ns=Yn(dp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=mp[s])?!!o[s]:!1}function eo(){return pp}var mr=g({},Ja,{key:function(s){if(s.key){var o=hp[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=El(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?fp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(s){return s.type==="keypress"?El(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?El(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gp=Yn(mr),yp=g({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ra=Yn(yp),y=g({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),E=Yn(y),N=g({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=Yn(N),X=g({},Qc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Yn(X),ve=g({},na,{newState:0,oldState:0}),Ke=Yn(ve),an=[9,13,27,32],pt=xi&&"CompositionEvent"in window,$t=null;xi&&"documentMode"in document&&($t=document.documentMode);var bi=xi&&"TextEvent"in window&&!$t,Is=xi&&(!pt||$t&&8<$t&&11>=$t),zi=" ",Hi=!1;function Al(s,o){switch(s){case"keyup":return an.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Zc=!1;function D6(s,o){switch(s){case"compositionend":return Jc(o);case"keypress":return o.which!==32?null:(Hi=!0,zi);case"textInput":return s=o.data,s===zi&&Hi?null:s;default:return null}}function M6(s,o){if(Zc)return s==="compositionend"||!pt&&Al(s,o)?(s=ph(),_l=mh=Ts=null,Zc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Is&&o.locale!=="ko"?null:o.data;default:return null}}var O6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q1(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!O6[s.type]:o==="textarea"}function X1(s,o,u,m){Qa?Es?Es.push(m):Es=[m]:Qa=m,o=ag(o,"onChange"),0<o.length&&(u=new Ss("onChange","change",null,u,m),s.push({event:u,listeners:o}))}var xh=null,bh=null;function V6(s){PN(s,0)}function vp(s){var o=Wr(s);if(vl(o))return s}function J1(s,o){if(s==="change")return o}var Z1=!1;if(xi){var wv;if(xi){var _v="oninput"in document;if(!_v){var eS=document.createElement("div");eS.setAttribute("oninput","return;"),_v=typeof eS.oninput=="function"}wv=_v}else wv=!1;Z1=wv&&(!document.documentMode||9<document.documentMode)}function tS(){xh&&(xh.detachEvent("onpropertychange",nS),bh=xh=null)}function nS(s){if(s.propertyName==="value"&&vp(bh)){var o=[];X1(o,bh,s,vi(s)),Xa(V6,o)}}function L6(s,o,u){s==="focusin"?(tS(),xh=o,bh=u,xh.attachEvent("onpropertychange",nS)):s==="focusout"&&tS()}function U6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return vp(bh)}function B6(s,o){if(s==="click")return vp(o)}function F6(s,o){if(s==="input"||s==="change")return vp(o)}function z6(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Qr=typeof Object.is=="function"?Object.is:z6;function wh(s,o){if(Qr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!Le.call(o,v)||!Qr(s[v],o[v]))return!1}return!0}function rS(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function iS(s,o){var u=rS(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=o&&m>=o)return{node:u,offset:o-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rS(u)}}function sS(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?sS(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function aS(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=_s(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=_s(s.document)}return o}function Ev(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var H6=xi&&"documentMode"in document&&11>=document.documentMode,eu=null,Tv=null,_h=null,Sv=!1;function oS(s,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sv||eu==null||eu!==_s(m)||(m=eu,"selectionStart"in m&&Ev(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_h&&wh(_h,m)||(_h=m,m=ag(Tv,"onSelect"),0<m.length&&(o=new Ss("onSelect","select",null,o,u),s.push({event:o,listeners:m}),o.target=eu)))}function Nl(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var tu={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionrun:Nl("Transition","TransitionRun"),transitionstart:Nl("Transition","TransitionStart"),transitioncancel:Nl("Transition","TransitionCancel"),transitionend:Nl("Transition","TransitionEnd")},Av={},lS={};xi&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Il(s){if(Av[s])return Av[s];if(!tu[s])return s;var o=tu[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in lS)return Av[s]=o[u];return s}var cS=Il("animationend"),uS=Il("animationiteration"),dS=Il("animationstart"),$6=Il("transitionrun"),q6=Il("transitionstart"),G6=Il("transitioncancel"),hS=Il("transitionend"),fS=new Map,Nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nv.push("scrollEnd");function $i(s,o){fS.set(s,o),bs(o,[s])}var xp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},wi=[],nu=0,Iv=0;function bp(){for(var s=nu,o=Iv=nu=0;o<s;){var u=wi[o];wi[o++]=null;var m=wi[o];wi[o++]=null;var v=wi[o];wi[o++]=null;var x=wi[o];if(wi[o++]=null,m!==null&&v!==null){var A=m.pending;A===null?v.next=v:(v.next=A.next,A.next=v),m.pending=v}x!==0&&mS(u,v,x)}}function wp(s,o,u,m){wi[nu++]=s,wi[nu++]=o,wi[nu++]=u,wi[nu++]=m,Iv|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function Cv(s,o,u,m){return wp(s,o,u,m),_p(s)}function Cl(s,o){return wp(s,null,null,o),_p(s)}function mS(s,o,u){s.lanes|=u;var m=s.alternate;m!==null&&(m.lanes|=u);for(var v=!1,x=s.return;x!==null;)x.childLanes|=u,m=x.alternate,m!==null&&(m.childLanes|=u),x.tag===22&&(s=x.stateNode,s===null||s._visibility&1||(v=!0)),s=x,x=x.return;return s.tag===3?(x=s.stateNode,v&&o!==null&&(v=31-Ht(u),s=x.hiddenUpdates,m=s[v],m===null?s[v]=[o]:m.push(o),o.lane=u|536870912),x):null}function _p(s){if(50<$h)throw $h=0,Lx=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ru={};function K6(s,o,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(s,o,u,m){return new K6(s,o,u,m)}function Rv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ia(s,o){var u=s.alternate;return u===null?(u=Xr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function pS(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Ep(s,o,u,m,v,x){var A=0;if(m=s,typeof s=="function")Rv(s)&&(A=1);else if(typeof s=="string")A=J9(s,u,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=Xr(31,u,o,v),s.elementType=O,s.lanes=x,s;case S:return Rl(u.children,v,x,o);case I:A=8,v|=24;break;case R:return s=Xr(12,u,o,v|2),s.elementType=R,s.lanes=x,s;case $:return s=Xr(13,u,o,v),s.elementType=$,s.lanes=x,s;case Y:return s=Xr(19,u,o,v),s.elementType=Y,s.lanes=x,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:A=10;break e;case D:A=9;break e;case z:A=11;break e;case k:A=14;break e;case C:A=16,m=null;break e}A=29,u=Error(r(130,s===null?"null":typeof s,"")),m=null}return o=Xr(A,u,o,v),o.elementType=s,o.type=m,o.lanes=x,o}function Rl(s,o,u,m){return s=Xr(7,s,m,o),s.lanes=u,s}function kv(s,o,u){return s=Xr(6,s,null,o),s.lanes=u,s}function gS(s){var o=Xr(18,null,null,0);return o.stateNode=s,o}function jv(s,o,u){return o=Xr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var yS=new WeakMap;function _i(s,o){if(typeof s=="object"&&s!==null){var u=yS.get(s);return u!==void 0?u:(o={value:s,source:o,stack:hn(o)},yS.set(s,o),o)}return{value:s,source:o,stack:hn(o)}}var iu=[],su=0,Tp=null,Eh=0,Ei=[],Ti=0,to=null,Cs=1,Rs="";function sa(s,o){iu[su++]=Eh,iu[su++]=Tp,Tp=s,Eh=o}function vS(s,o,u){Ei[Ti++]=Cs,Ei[Ti++]=Rs,Ei[Ti++]=to,to=s;var m=Cs;s=Rs;var v=32-Ht(m)-1;m&=~(1<<v),u+=1;var x=32-Ht(o)+v;if(30<x){var A=v-v%5;x=(m&(1<<A)-1).toString(32),m>>=A,v-=A,Cs=1<<32-Ht(o)+v|u<<v|m,Rs=x+s}else Cs=1<<x|u<<v|m,Rs=s}function Pv(s){s.return!==null&&(sa(s,1),vS(s,1,0))}function Dv(s){for(;s===Tp;)Tp=iu[--su],iu[su]=null,Eh=iu[--su],iu[su]=null;for(;s===to;)to=Ei[--Ti],Ei[Ti]=null,Rs=Ei[--Ti],Ei[Ti]=null,Cs=Ei[--Ti],Ei[Ti]=null}function xS(s,o){Ei[Ti++]=Cs,Ei[Ti++]=Rs,Ei[Ti++]=to,Cs=o.id,Rs=o.overflow,to=s}var Qn=null,Ot=null,ut=!1,no=null,Si=!1,Mv=Error(r(519));function ro(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Th(_i(o,s)),Mv}function bS(s){var o=s.stateNode,u=s.type,m=s.memoizedProps;switch(o[mn]=s,o[Vn]=m,u){case"dialog":st("cancel",o),st("close",o);break;case"iframe":case"object":case"embed":st("load",o);break;case"video":case"audio":for(u=0;u<Gh.length;u++)st(Gh[u],o);break;case"source":st("error",o);break;case"img":case"image":case"link":st("error",o),st("load",o);break;case"details":st("toggle",o);break;case"input":st("invalid",o),rp(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":st("invalid",o);break;case"textarea":st("invalid",o),Wa(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||VN(o.textContent,u)?(m.popover!=null&&(st("beforetoggle",o),st("toggle",o)),m.onScroll!=null&&st("scroll",o),m.onScrollEnd!=null&&st("scrollend",o),m.onClick!=null&&(o.onclick=Ui),o=!0):o=!1,o||ro(s,!0)}function wS(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:Qn=Qn.return}}function au(s){if(s!==Qn)return!1;if(!ut)return wS(s),ut=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Zx(s.type,s.memoizedProps)),u=!u),u&&Ot&&ro(s),wS(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ot=GN(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ot=GN(s)}else o===27?(o=Ot,vo(s.type)?(s=ib,ib=null,Ot=s):Ot=o):Ot=Qn?Ni(s.stateNode.nextSibling):null;return!0}function kl(){Ot=Qn=null,ut=!1}function Ov(){var s=no;return s!==null&&(Ar===null?Ar=s:Ar.push.apply(Ar,s),no=null),s}function Th(s){no===null?no=[s]:no.push(s)}var Vv=F(null),jl=null,aa=null;function io(s,o,u){se(Vv,o._currentValue),o._currentValue=u}function oa(s){s._currentValue=Vv.current,ae(Vv)}function Lv(s,o,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===u)break;s=s.return}}function Uv(s,o,u,m){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var x=v.dependencies;if(x!==null){var A=v.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=v;for(var B=0;B<o.length;B++)if(P.context===o[B]){x.lanes|=u,P=x.alternate,P!==null&&(P.lanes|=u),Lv(x.return,u,s),m||(A=null);break e}x=P.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=u,x=A.alternate,x!==null&&(x.lanes|=u),Lv(A,u,s),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===s){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function ou(s,o,u,m){s=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=v.type;Qr(v.pendingProps.value,A.value)||(s!==null?s.push(P):s=[P])}}else if(v===he.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Xh):s=[Xh])}v=v.return}s!==null&&Uv(o,s,u,m),o.flags|=262144}function Sp(s){for(s=s.firstContext;s!==null;){if(!Qr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Pl(s){jl=s,aa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Xn(s){return _S(jl,s)}function Ap(s,o){return jl===null&&Pl(s),_S(s,o)}function _S(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},aa===null){if(s===null)throw Error(r(308));aa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else aa=aa.next=o;return u}var W6=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},Y6=t.unstable_scheduleCallback,Q6=t.unstable_NormalPriority,yn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bv(){return{controller:new W6,data:new Map,refCount:0}}function Sh(s){s.refCount--,s.refCount===0&&Y6(Q6,function(){s.controller.abort()})}var Ah=null,Fv=0,lu=0,cu=null;function X6(s,o){if(Ah===null){var u=Ah=[];Fv=0,lu=$x(),cu={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Fv++,o.then(ES,ES),o}function ES(){if(--Fv===0&&Ah!==null){cu!==null&&(cu.status="fulfilled");var s=Ah;Ah=null,lu=0,cu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function J6(s,o){var u=[],m={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(m.status="rejected",m.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),m}var TS=G.S;G.S=function(s,o){oN=sn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&X6(s,o),TS!==null&&TS(s,o)};var Dl=F(null);function zv(){var s=Dl.current;return s!==null?s:jt.pooledCache}function Np(s,o){o===null?se(Dl,Dl.current):se(Dl,o.pool)}function SS(){var s=zv();return s===null?null:{parent:yn._currentValue,pool:s}}var uu=Error(r(460)),Hv=Error(r(474)),Ip=Error(r(542)),Cp={then:function(){}};function AS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function NS(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Ui,Ui),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,CS(s),s;default:if(typeof o.status=="string")o.then(Ui,Ui);else{if(s=jt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=m}},function(m){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,CS(s),s}throw Ol=o,uu}}function Ml(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ol=u,uu):u}}var Ol=null;function IS(){if(Ol===null)throw Error(r(459));var s=Ol;return Ol=null,s}function CS(s){if(s===uu||s===Ip)throw Error(r(483))}var du=null,Nh=0;function Rp(s){var o=Nh;return Nh+=1,du===null&&(du=[]),NS(du,s,o)}function Ih(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function kp(s,o){throw o.$$typeof===b?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function RS(s){function o(K,q){if(s){var J=K.deletions;J===null?(K.deletions=[q],K.flags|=16):J.push(q)}}function u(K,q){if(!s)return null;for(;q!==null;)o(K,q),q=q.sibling;return null}function m(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function v(K,q){return K=ia(K,q),K.index=0,K.sibling=null,K}function x(K,q,J){return K.index=J,s?(J=K.alternate,J!==null?(J=J.index,J<q?(K.flags|=67108866,q):J):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function A(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function P(K,q,J,le){return q===null||q.tag!==6?(q=kv(J,K.mode,le),q.return=K,q):(q=v(q,J),q.return=K,q)}function B(K,q,J,le){var Me=J.type;return Me===S?oe(K,q,J.props.children,le,J.key):q!==null&&(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&Ml(Me)===q.type)?(q=v(q,J.props),Ih(q,J),q.return=K,q):(q=Ep(J.type,J.key,J.props,null,K.mode,le),Ih(q,J),q.return=K,q)}function Z(K,q,J,le){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=jv(J,K.mode,le),q.return=K,q):(q=v(q,J.children||[]),q.return=K,q)}function oe(K,q,J,le,Me){return q===null||q.tag!==7?(q=Rl(J,K.mode,le,Me),q.return=K,q):(q=v(q,J),q.return=K,q)}function de(K,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=kv(""+q,K.mode,J),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return J=Ep(q.type,q.key,q.props,null,K.mode,J),Ih(J,q),J.return=K,J;case T:return q=jv(q,K.mode,J),q.return=K,q;case C:return q=Ml(q),de(K,q,J)}if(ke(q)||H(q))return q=Rl(q,K.mode,J,null),q.return=K,q;if(typeof q.then=="function")return de(K,Rp(q),J);if(q.$$typeof===j)return de(K,Ap(K,q),J);kp(K,q)}return null}function ne(K,q,J,le){var Me=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Me!==null?null:P(K,q,""+J,le);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Me?B(K,q,J,le):null;case T:return J.key===Me?Z(K,q,J,le):null;case C:return J=Ml(J),ne(K,q,J,le)}if(ke(J)||H(J))return Me!==null?null:oe(K,q,J,le,null);if(typeof J.then=="function")return ne(K,q,Rp(J),le);if(J.$$typeof===j)return ne(K,q,Ap(K,J),le);kp(K,J)}return null}function ie(K,q,J,le,Me){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return K=K.get(J)||null,P(q,K,""+le,Me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return K=K.get(le.key===null?J:le.key)||null,B(q,K,le,Me);case T:return K=K.get(le.key===null?J:le.key)||null,Z(q,K,le,Me);case C:return le=Ml(le),ie(K,q,J,le,Me)}if(ke(le)||H(le))return K=K.get(J)||null,oe(q,K,le,Me,null);if(typeof le.then=="function")return ie(K,q,J,Rp(le),Me);if(le.$$typeof===j)return ie(K,q,J,Ap(q,le),Me);kp(q,le)}return null}function Ne(K,q,J,le){for(var Me=null,ft=null,je=q,Xe=q=0,ot=null;je!==null&&Xe<J.length;Xe++){je.index>Xe?(ot=je,je=null):ot=je.sibling;var mt=ne(K,je,J[Xe],le);if(mt===null){je===null&&(je=ot);break}s&&je&&mt.alternate===null&&o(K,je),q=x(mt,q,Xe),ft===null?Me=mt:ft.sibling=mt,ft=mt,je=ot}if(Xe===J.length)return u(K,je),ut&&sa(K,Xe),Me;if(je===null){for(;Xe<J.length;Xe++)je=de(K,J[Xe],le),je!==null&&(q=x(je,q,Xe),ft===null?Me=je:ft.sibling=je,ft=je);return ut&&sa(K,Xe),Me}for(je=m(je);Xe<J.length;Xe++)ot=ie(je,K,Xe,J[Xe],le),ot!==null&&(s&&ot.alternate!==null&&je.delete(ot.key===null?Xe:ot.key),q=x(ot,q,Xe),ft===null?Me=ot:ft.sibling=ot,ft=ot);return s&&je.forEach(function(Eo){return o(K,Eo)}),ut&&sa(K,Xe),Me}function Ue(K,q,J,le){if(J==null)throw Error(r(151));for(var Me=null,ft=null,je=q,Xe=q=0,ot=null,mt=J.next();je!==null&&!mt.done;Xe++,mt=J.next()){je.index>Xe?(ot=je,je=null):ot=je.sibling;var Eo=ne(K,je,mt.value,le);if(Eo===null){je===null&&(je=ot);break}s&&je&&Eo.alternate===null&&o(K,je),q=x(Eo,q,Xe),ft===null?Me=Eo:ft.sibling=Eo,ft=Eo,je=ot}if(mt.done)return u(K,je),ut&&sa(K,Xe),Me;if(je===null){for(;!mt.done;Xe++,mt=J.next())mt=de(K,mt.value,le),mt!==null&&(q=x(mt,q,Xe),ft===null?Me=mt:ft.sibling=mt,ft=mt);return ut&&sa(K,Xe),Me}for(je=m(je);!mt.done;Xe++,mt=J.next())mt=ie(je,K,Xe,mt.value,le),mt!==null&&(s&&mt.alternate!==null&&je.delete(mt.key===null?Xe:mt.key),q=x(mt,q,Xe),ft===null?Me=mt:ft.sibling=mt,ft=mt);return s&&je.forEach(function(cU){return o(K,cU)}),ut&&sa(K,Xe),Me}function Ct(K,q,J,le){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Me=J.key;q!==null;){if(q.key===Me){if(Me=J.type,Me===S){if(q.tag===7){u(K,q.sibling),le=v(q,J.props.children),le.return=K,K=le;break e}}else if(q.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===C&&Ml(Me)===q.type){u(K,q.sibling),le=v(q,J.props),Ih(le,J),le.return=K,K=le;break e}u(K,q);break}else o(K,q);q=q.sibling}J.type===S?(le=Rl(J.props.children,K.mode,le,J.key),le.return=K,K=le):(le=Ep(J.type,J.key,J.props,null,K.mode,le),Ih(le,J),le.return=K,K=le)}return A(K);case T:e:{for(Me=J.key;q!==null;){if(q.key===Me)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){u(K,q.sibling),le=v(q,J.children||[]),le.return=K,K=le;break e}else{u(K,q);break}else o(K,q);q=q.sibling}le=jv(J,K.mode,le),le.return=K,K=le}return A(K);case C:return J=Ml(J),Ct(K,q,J,le)}if(ke(J))return Ne(K,q,J,le);if(H(J)){if(Me=H(J),typeof Me!="function")throw Error(r(150));return J=Me.call(J),Ue(K,q,J,le)}if(typeof J.then=="function")return Ct(K,q,Rp(J),le);if(J.$$typeof===j)return Ct(K,q,Ap(K,J),le);kp(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(u(K,q.sibling),le=v(q,J),le.return=K,K=le):(u(K,q),le=kv(J,K.mode,le),le.return=K,K=le),A(K)):u(K,q)}return function(K,q,J,le){try{Nh=0;var Me=Ct(K,q,J,le);return du=null,Me}catch(je){if(je===uu||je===Ip)throw je;var ft=Xr(29,je,null,K.mode);return ft.lanes=le,ft.return=K,ft}finally{}}}var Vl=RS(!0),kS=RS(!1),so=!1;function $v(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ao(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function oo(s,o,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(gt&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,o=_p(s),mS(s,null,u),o}return wp(s,m,o,u),_p(s)}function Ch(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,Gn(s,u)}}function Gv(s,o){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=A:x=x.next=A,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Kv=!1;function Rh(){if(Kv){var s=cu;if(s!==null)throw s}}function kh(s,o,u,m){Kv=!1;var v=s.updateQueue;so=!1;var x=v.firstBaseUpdate,A=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var B=P,Z=B.next;B.next=null,A===null?x=Z:A.next=Z,A=B;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,P=oe.lastBaseUpdate,P!==A&&(P===null?oe.firstBaseUpdate=Z:P.next=Z,oe.lastBaseUpdate=B))}if(x!==null){var de=v.baseState;A=0,oe=Z=B=null,P=x;do{var ne=P.lane&-536870913,ie=ne!==P.lane;if(ie?(at&ne)===ne:(m&ne)===ne){ne!==0&&ne===lu&&(Kv=!0),oe!==null&&(oe=oe.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ne=s,Ue=P;ne=o;var Ct=u;switch(Ue.tag){case 1:if(Ne=Ue.payload,typeof Ne=="function"){de=Ne.call(Ct,de,ne);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ue.payload,ne=typeof Ne=="function"?Ne.call(Ct,de,ne):Ne,ne==null)break e;de=g({},de,ne);break e;case 2:so=!0}}ne=P.callback,ne!==null&&(s.flags|=64,ie&&(s.flags|=8192),ie=v.callbacks,ie===null?v.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:P.tag,payload:P.payload,callback:P.callback,next:null},oe===null?(Z=oe=ie,B=de):oe=oe.next=ie,A|=ne;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;ie=P,P=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);oe===null&&(B=de),v.baseState=B,v.firstBaseUpdate=Z,v.lastBaseUpdate=oe,x===null&&(v.shared.lanes=0),fo|=A,s.lanes=A,s.memoizedState=de}}function jS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function PS(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)jS(u[s],o)}var hu=F(null),jp=F(0);function DS(s,o){s=ga,se(jp,s),se(hu,o),ga=s|o.baseLanes}function Wv(){se(jp,ga),se(hu,hu.current)}function Yv(){ga=jp.current,ae(hu),ae(jp)}var Jr=F(null),Ai=null;function lo(s){var o=s.alternate;se(on,on.current&1),se(Jr,s),Ai===null&&(o===null||hu.current!==null||o.memoizedState!==null)&&(Ai=s)}function Qv(s){se(on,on.current),se(Jr,s),Ai===null&&(Ai=s)}function MS(s){s.tag===22?(se(on,on.current),se(Jr,s),Ai===null&&(Ai=s)):co()}function co(){se(on,on.current),se(Jr,Jr.current)}function Zr(s){ae(Jr),Ai===s&&(Ai=null),ae(on)}var on=F(0);function Pp(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||nb(u)||rb(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var la=0,We=null,Nt=null,vn=null,Dp=!1,fu=!1,Ll=!1,Mp=0,jh=0,mu=null,Z6=0;function tn(){throw Error(r(321))}function Xv(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!Qr(s[u],o[u]))return!1;return!0}function Jv(s,o,u,m,v,x){return la=x,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?vA:fx,Ll=!1,x=u(m,v),Ll=!1,fu&&(x=VS(o,u,m,v)),OS(s),x}function OS(s){G.H=Mh;var o=Nt!==null&&Nt.next!==null;if(la=0,vn=Nt=We=null,Dp=!1,jh=0,mu=null,o)throw Error(r(300));s===null||xn||(s=s.dependencies,s!==null&&Sp(s)&&(xn=!0))}function VS(s,o,u,m){We=s;var v=0;do{if(fu&&(mu=null),jh=0,fu=!1,25<=v)throw Error(r(301));if(v+=1,vn=Nt=null,s.updateQueue!=null){var x=s.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}G.H=xA,x=o(u,m)}while(fu);return x}function e9(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?Ph(o):o,s=s.useState()[0],(Nt!==null?Nt.memoizedState:null)!==s&&(We.flags|=1024),o}function Zv(){var s=Mp!==0;return Mp=0,s}function ex(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function tx(s){if(Dp){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Dp=!1}la=0,vn=Nt=We=null,fu=!1,jh=Mp=0,mu=null}function pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?We.memoizedState=vn=s:vn=vn.next=s,vn}function ln(){if(Nt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var o=vn===null?We.memoizedState:vn.next;if(o!==null)vn=o,Nt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},vn===null?We.memoizedState=vn=s:vn=vn.next=s}return vn}function Op(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ph(s){var o=jh;return jh+=1,mu===null&&(mu=[]),s=NS(mu,s,o),o=We,(vn===null?o.memoizedState:vn.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?vA:fx),s}function Vp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ph(s);if(s.$$typeof===j)return Xn(s)}throw Error(r(438,String(s)))}function nx(s){var o=null,u=We.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=We.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Op(),We.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),m=0;m<s;m++)u[m]=U;return o.index++,u}function ca(s,o){return typeof o=="function"?o(s):o}function Lp(s){var o=ln();return rx(o,Nt,s)}function rx(s,o,u){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var v=s.baseQueue,x=m.pending;if(x!==null){if(v!==null){var A=v.next;v.next=x.next,x.next=A}o.baseQueue=v=x,m.pending=null}if(x=s.baseState,v===null)s.memoizedState=x;else{o=v.next;var P=A=null,B=null,Z=o,oe=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(at&de)===de:(la&de)===de){var ne=Z.revertLane;if(ne===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===lu&&(oe=!0);else if((la&ne)===ne){Z=Z.next,ne===lu&&(oe=!0);continue}else de={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(P=B=de,A=x):B=B.next=de,We.lanes|=ne,fo|=ne;de=Z.action,Ll&&u(x,de),x=Z.hasEagerState?Z.eagerState:u(x,de)}else ne={lane:de,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(P=B=ne,A=x):B=B.next=ne,We.lanes|=de,fo|=de;Z=Z.next}while(Z!==null&&Z!==o);if(B===null?A=x:B.next=P,!Qr(x,s.memoizedState)&&(xn=!0,oe&&(u=cu,u!==null)))throw u;s.memoizedState=x,s.baseState=A,s.baseQueue=B,m.lastRenderedState=x}return v===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function ix(s){var o=ln(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var m=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var A=v=v.next;do x=s(x,A.action),A=A.next;while(A!==v);Qr(x,o.memoizedState)||(xn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function LS(s,o,u){var m=We,v=ln(),x=ut;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var A=!Qr((Nt||v).memoizedState,u);if(A&&(v.memoizedState=u,xn=!0),v=v.queue,ox(FS.bind(null,m,v,s),[s]),v.getSnapshot!==o||A||vn!==null&&vn.memoizedState.tag&1){if(m.flags|=2048,pu(9,{destroy:void 0},BS.bind(null,m,v,u,o),null),jt===null)throw Error(r(349));x||(la&127)!==0||US(m,o,u)}return u}function US(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=We.updateQueue,o===null?(o=Op(),We.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function BS(s,o,u,m){o.value=u,o.getSnapshot=m,zS(o)&&HS(s)}function FS(s,o,u){return u(function(){zS(o)&&HS(s)})}function zS(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!Qr(s,u)}catch{return!0}}function HS(s){var o=Cl(s,2);o!==null&&Nr(o,s,2)}function sx(s){var o=pr();if(typeof s=="function"){var u=s;if(s=u(),Ll){hr(!0);try{u()}finally{hr(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:s},o}function $S(s,o,u,m){return s.baseState=u,rx(s,Nt,typeof m=="function"?m:ca)}function t9(s,o,u,m,v){if(Fp(s))throw Error(r(485));if(s=o.action,s!==null){var x={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};G.T!==null?u(!0):x.isTransition=!1,m(x),u=o.pending,u===null?(x.next=o.pending=x,qS(o,x)):(x.next=u.next,o.pending=u.next=x)}}function qS(s,o){var u=o.action,m=o.payload,v=s.state;if(o.isTransition){var x=G.T,A={};G.T=A;try{var P=u(v,m),B=G.S;B!==null&&B(A,P),GS(s,o,P)}catch(Z){ax(s,o,Z)}finally{x!==null&&A.types!==null&&(x.types=A.types),G.T=x}}else try{x=u(v,m),GS(s,o,x)}catch(Z){ax(s,o,Z)}}function GS(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){KS(s,o,m)},function(m){return ax(s,o,m)}):KS(s,o,u)}function KS(s,o,u){o.status="fulfilled",o.value=u,WS(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,qS(s,u)))}function ax(s,o,u){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,WS(o),o=o.next;while(o!==m)}s.action=null}function WS(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function YS(s,o){return o}function QS(s,o){if(ut){var u=jt.formState;if(u!==null){e:{var m=We;if(ut){if(Ot){t:{for(var v=Ot,x=Si;v.nodeType!==8;){if(!x){v=null;break t}if(v=Ni(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){Ot=Ni(v.nextSibling),m=v.data==="F!";break e}}ro(m)}m=!1}m&&(o=u[0])}}return u=pr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:YS,lastRenderedState:o},u.queue=m,u=pA.bind(null,We,m),m.dispatch=u,m=sx(!1),x=hx.bind(null,We,!1,m.queue),m=pr(),v={state:o,dispatch:null,action:s,pending:null},m.queue=v,u=t9.bind(null,We,v,x,u),v.dispatch=u,m.memoizedState=s,[o,u,!1]}function XS(s){var o=ln();return JS(o,Nt,s)}function JS(s,o,u){if(o=rx(s,o,YS)[0],s=Lp(ca)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Ph(o)}catch(A){throw A===uu?Ip:A}else m=o;o=ln();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(We.flags|=2048,pu(9,{destroy:void 0},n9.bind(null,v,u),null)),[m,x,s]}function n9(s,o){s.action=o}function ZS(s){var o=ln(),u=Nt;if(u!==null)return JS(o,u,s);ln(),o=o.memoizedState,u=ln();var m=u.queue.dispatch;return u.memoizedState=s,[o,m,!1]}function pu(s,o,u,m){return s={tag:s,create:u,deps:m,inst:o,next:null},o=We.updateQueue,o===null&&(o=Op(),We.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,o.lastEffect=s),s}function eA(){return ln().memoizedState}function Up(s,o,u,m){var v=pr();We.flags|=s,v.memoizedState=pu(1|o,{destroy:void 0},u,m===void 0?null:m)}function Bp(s,o,u,m){var v=ln();m=m===void 0?null:m;var x=v.memoizedState.inst;Nt!==null&&m!==null&&Xv(m,Nt.memoizedState.deps)?v.memoizedState=pu(o,x,u,m):(We.flags|=s,v.memoizedState=pu(1|o,x,u,m))}function tA(s,o){Up(8390656,8,s,o)}function ox(s,o){Bp(2048,8,s,o)}function r9(s){We.flags|=4;var o=We.updateQueue;if(o===null)o=Op(),We.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function nA(s){var o=ln().memoizedState;return r9({ref:o,nextImpl:s}),function(){if((gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function rA(s,o){return Bp(4,2,s,o)}function iA(s,o){return Bp(4,4,s,o)}function sA(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function aA(s,o,u){u=u!=null?u.concat([s]):null,Bp(4,4,sA.bind(null,o,s),u)}function lx(){}function oA(s,o){var u=ln();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Xv(o,m[1])?m[0]:(u.memoizedState=[s,o],s)}function lA(s,o){var u=ln();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Xv(o,m[1]))return m[0];if(m=s(),Ll){hr(!0);try{s()}finally{hr(!1)}}return u.memoizedState=[m,o],m}function cx(s,o,u){return u===void 0||(la&1073741824)!==0&&(at&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=cN(),We.lanes|=s,fo|=s,u)}function cA(s,o,u,m){return Qr(u,o)?u:hu.current!==null?(s=cx(s,u,m),Qr(s,o)||(xn=!0),s):(la&42)===0||(la&1073741824)!==0&&(at&261930)===0?(xn=!0,s.memoizedState=u):(s=cN(),We.lanes|=s,fo|=s,o)}function uA(s,o,u,m,v){var x=te.p;te.p=x!==0&&8>x?x:8;var A=G.T,P={};G.T=P,hx(s,!1,o,u);try{var B=v(),Z=G.S;if(Z!==null&&Z(P,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=J6(B,m);Dh(s,o,oe,ni(s))}else Dh(s,o,m,ni(s))}catch(de){Dh(s,o,{then:function(){},status:"rejected",reason:de},ni())}finally{te.p=x,A!==null&&P.types!==null&&(A.types=P.types),G.T=A}}function i9(){}function ux(s,o,u,m){if(s.tag!==5)throw Error(r(476));var v=dA(s).queue;uA(s,v,o,W,u===null?i9:function(){return hA(s),u(m)})}function dA(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:W},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function hA(s){var o=dA(s);o.next===null&&(o=s.alternate.memoizedState),Dh(s,o.next.queue,{},ni())}function dx(){return Xn(Xh)}function fA(){return ln().memoizedState}function mA(){return ln().memoizedState}function s9(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=ni();s=ao(u);var m=oo(o,s,u);m!==null&&(Nr(m,o,u),Ch(m,o,u)),o={cache:Bv()},s.payload=o;return}o=o.return}}function a9(s,o,u){var m=ni();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fp(s)?gA(o,u):(u=Cv(s,o,u,m),u!==null&&(Nr(u,s,m),yA(u,o,m)))}function pA(s,o,u){var m=ni();Dh(s,o,u,m)}function Dh(s,o,u,m){var v={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Fp(s))gA(o,v);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var A=o.lastRenderedState,P=x(A,u);if(v.hasEagerState=!0,v.eagerState=P,Qr(P,A))return wp(s,o,v,0),jt===null&&bp(),!1}catch{}finally{}if(u=Cv(s,o,v,m),u!==null)return Nr(u,s,m),yA(u,o,m),!0}return!1}function hx(s,o,u,m){if(m={lane:2,revertLane:$x(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Fp(s)){if(o)throw Error(r(479))}else o=Cv(s,u,m,2),o!==null&&Nr(o,s,2)}function Fp(s){var o=s.alternate;return s===We||o!==null&&o===We}function gA(s,o){fu=Dp=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function yA(s,o,u){if((u&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,u|=m,o.lanes=u,Gn(s,u)}}var Mh={readContext:Xn,use:Vp,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};Mh.useEffectEvent=tn;var vA={readContext:Xn,use:Vp,useCallback:function(s,o){return pr().memoizedState=[s,o===void 0?null:o],s},useContext:Xn,useEffect:tA,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Up(4194308,4,sA.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Up(4194308,4,s,o)},useInsertionEffect:function(s,o){Up(4,2,s,o)},useMemo:function(s,o){var u=pr();o=o===void 0?null:o;var m=s();if(Ll){hr(!0);try{s()}finally{hr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(s,o,u){var m=pr();if(u!==void 0){var v=u(o);if(Ll){hr(!0);try{u(o)}finally{hr(!1)}}}else v=o;return m.memoizedState=m.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},m.queue=s,s=s.dispatch=a9.bind(null,We,s),[m.memoizedState,s]},useRef:function(s){var o=pr();return s={current:s},o.memoizedState=s},useState:function(s){s=sx(s);var o=s.queue,u=pA.bind(null,We,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:lx,useDeferredValue:function(s,o){var u=pr();return cx(u,s,o)},useTransition:function(){var s=sx(!1);return s=uA.bind(null,We,s.queue,!0,!1),pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var m=We,v=pr();if(ut){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),jt===null)throw Error(r(349));(at&127)!==0||US(m,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,tA(FS.bind(null,m,x,s),[s]),m.flags|=2048,pu(9,{destroy:void 0},BS.bind(null,m,x,u,o),null),u},useId:function(){var s=pr(),o=jt.identifierPrefix;if(ut){var u=Rs,m=Cs;u=(m&~(1<<32-Ht(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mp++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=Z6++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:dx,useFormState:QS,useActionState:QS,useOptimistic:function(s){var o=pr();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=hx.bind(null,We,!0,u),u.dispatch=o,[s,o]},useMemoCache:nx,useCacheRefresh:function(){return pr().memoizedState=s9.bind(null,We)},useEffectEvent:function(s){var o=pr(),u={impl:s};return o.memoizedState=u,function(){if((gt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},fx={readContext:Xn,use:Vp,useCallback:oA,useContext:Xn,useEffect:ox,useImperativeHandle:aA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:lA,useReducer:Lp,useRef:eA,useState:function(){return Lp(ca)},useDebugValue:lx,useDeferredValue:function(s,o){var u=ln();return cA(u,Nt.memoizedState,s,o)},useTransition:function(){var s=Lp(ca)[0],o=ln().memoizedState;return[typeof s=="boolean"?s:Ph(s),o]},useSyncExternalStore:LS,useId:fA,useHostTransitionStatus:dx,useFormState:XS,useActionState:XS,useOptimistic:function(s,o){var u=ln();return $S(u,Nt,s,o)},useMemoCache:nx,useCacheRefresh:mA};fx.useEffectEvent=nA;var xA={readContext:Xn,use:Vp,useCallback:oA,useContext:Xn,useEffect:ox,useImperativeHandle:aA,useInsertionEffect:rA,useLayoutEffect:iA,useMemo:lA,useReducer:ix,useRef:eA,useState:function(){return ix(ca)},useDebugValue:lx,useDeferredValue:function(s,o){var u=ln();return Nt===null?cx(u,s,o):cA(u,Nt.memoizedState,s,o)},useTransition:function(){var s=ix(ca)[0],o=ln().memoizedState;return[typeof s=="boolean"?s:Ph(s),o]},useSyncExternalStore:LS,useId:fA,useHostTransitionStatus:dx,useFormState:ZS,useActionState:ZS,useOptimistic:function(s,o){var u=ln();return Nt!==null?$S(u,Nt,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:nx,useCacheRefresh:mA};xA.useEffectEvent=nA;function mx(s,o,u,m){o=s.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var px={enqueueSetState:function(s,o,u){s=s._reactInternals;var m=ni(),v=ao(m);v.payload=o,u!=null&&(v.callback=u),o=oo(s,v,m),o!==null&&(Nr(o,s,m),Ch(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var m=ni(),v=ao(m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=oo(s,v,m),o!==null&&(Nr(o,s,m),Ch(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=ni(),m=ao(u);m.tag=2,o!=null&&(m.callback=o),o=oo(s,m,u),o!==null&&(Nr(o,s,u),Ch(o,s,u))}};function bA(s,o,u,m,v,x,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,x,A):o.prototype&&o.prototype.isPureReactComponent?!wh(u,m)||!wh(v,x):!0}function wA(s,o,u,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==s&&px.enqueueReplaceState(o,o.state,null)}function Ul(s,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(s=s.defaultProps){u===o&&(u=g({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}function _A(s){xp(s)}function EA(s){console.error(s)}function TA(s){xp(s)}function zp(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function SA(s,o,u){try{var m=s.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function gx(s,o,u){return u=ao(u),u.tag=3,u.payload={element:null},u.callback=function(){zp(s,o)},u}function AA(s){return s=ao(s),s.tag=3,s}function NA(s,o,u,m){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=m.value;s.payload=function(){return v(x)},s.callback=function(){SA(o,u,m)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){SA(o,u,m),typeof v!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var P=m.stack;this.componentDidCatch(m.value,{componentStack:P!==null?P:""})})}function o9(s,o,u,m,v){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ou(o,u,v,!0),u=Jr.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?eg():u.alternate===null&&nn===0&&(nn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,m===Cp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Fx(s,m,v)),!1;case 22:return u.flags|=65536,m===Cp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Fx(s,m,v)),!1}throw Error(r(435,u.tag))}return Fx(s,m,v),eg(),!1}if(ut)return o=Jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,m!==Mv&&(s=Error(r(422),{cause:m}),Th(_i(s,u)))):(m!==Mv&&(o=Error(r(423),{cause:m}),Th(_i(o,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,m=_i(m,u),v=gx(s.stateNode,m,v),Gv(s,v),nn!==4&&(nn=2)),!1;var x=Error(r(520),{cause:m});if(x=_i(x,u),Hh===null?Hh=[x]:Hh.push(x),nn!==4&&(nn=2),o===null)return!0;m=_i(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=gx(u.stateNode,m,s),Gv(u,s),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(mo===null||!mo.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=AA(v),NA(v,s,u,m),Gv(u,v),!1}u=u.return}while(u!==null);return!1}var yx=Error(r(461)),xn=!1;function Jn(s,o,u,m){o.child=s===null?kS(o,null,u,m):Vl(o,s.child,u,m)}function IA(s,o,u,m,v){u=u.render;var x=o.ref;if("ref"in m){var A={};for(var P in m)P!=="ref"&&(A[P]=m[P])}else A=m;return Pl(o),m=Jv(s,o,u,A,x,v),P=Zv(),s!==null&&!xn?(ex(s,o,v),ua(s,o,v)):(ut&&P&&Pv(o),o.flags|=1,Jn(s,o,m,v),o.child)}function CA(s,o,u,m,v){if(s===null){var x=u.type;return typeof x=="function"&&!Rv(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,RA(s,o,x,m,v)):(s=Ep(u.type,null,m,o,o.mode,v),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!Sx(s,v)){var A=x.memoizedProps;if(u=u.compare,u=u!==null?u:wh,u(A,m)&&s.ref===o.ref)return ua(s,o,v)}return o.flags|=1,s=ia(x,m),s.ref=o.ref,s.return=o,o.child=s}function RA(s,o,u,m,v){if(s!==null){var x=s.memoizedProps;if(wh(x,m)&&s.ref===o.ref)if(xn=!1,o.pendingProps=m=x,Sx(s,v))(s.flags&131072)!==0&&(xn=!0);else return o.lanes=s.lanes,ua(s,o,v)}return vx(s,o,u,m,v)}function kA(s,o,u,m){var v=m.children,x=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,s!==null){for(m=o.child=s.child,v=0;m!==null;)v=v|m.lanes|m.childLanes,m=m.sibling;m=v&~x}else m=0,o.child=null;return jA(s,o,x,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Np(o,x!==null?x.cachePool:null),x!==null?DS(o,x):Wv(),MS(o);else return m=o.lanes=536870912,jA(s,o,x!==null?x.baseLanes|u:u,u,m)}else x!==null?(Np(o,x.cachePool),DS(o,x),co(),o.memoizedState=null):(s!==null&&Np(o,null),Wv(),co());return Jn(s,o,v,u),o.child}function Oh(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function jA(s,o,u,m,v){var x=zv();return x=x===null?null:{parent:yn._currentValue,pool:x},o.memoizedState={baseLanes:u,cachePool:x},s!==null&&Np(o,null),Wv(),MS(o),s!==null&&ou(s,o,m,!0),o.childLanes=v,null}function Hp(s,o){return o=qp({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function PA(s,o,u){return Vl(o,s.child,null,u),s=Hp(o,o.pendingProps),s.flags|=2,Zr(o),o.memoizedState=null,s}function l9(s,o,u){var m=o.pendingProps,v=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(ut){if(m.mode==="hidden")return s=Hp(o,m),o.lanes=536870912,Oh(null,s);if(Qv(o),(s=Ot)?(s=qN(s,Si),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:to!==null?{id:Cs,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},u=gS(s),u.return=o,o.child=u,Qn=o,Ot=null)):s=null,s===null)throw ro(o);return o.lanes=536870912,null}return Hp(o,m)}var x=s.memoizedState;if(x!==null){var A=x.dehydrated;if(Qv(o),v)if(o.flags&256)o.flags&=-257,o=PA(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(xn||ou(s,o,u,!1),v=(u&s.childLanes)!==0,xn||v){if(m=jt,m!==null&&(A=Kn(m,u),A!==0&&A!==x.retryLane))throw x.retryLane=A,Cl(s,A),Nr(m,s,A),yx;eg(),o=PA(s,o,u)}else s=x.treeContext,Ot=Ni(A.nextSibling),Qn=o,ut=!0,no=null,Si=!1,s!==null&&xS(o,s),o=Hp(o,m),o.flags|=4096;return o}return s=ia(s.child,{mode:m.mode,children:m.children}),s.ref=o.ref,o.child=s,s.return=o,s}function $p(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function vx(s,o,u,m,v){return Pl(o),u=Jv(s,o,u,m,void 0,v),m=Zv(),s!==null&&!xn?(ex(s,o,v),ua(s,o,v)):(ut&&m&&Pv(o),o.flags|=1,Jn(s,o,u,v),o.child)}function DA(s,o,u,m,v,x){return Pl(o),o.updateQueue=null,u=VS(o,m,u,v),OS(s),m=Zv(),s!==null&&!xn?(ex(s,o,x),ua(s,o,x)):(ut&&m&&Pv(o),o.flags|=1,Jn(s,o,u,x),o.child)}function MA(s,o,u,m,v){if(Pl(o),o.stateNode===null){var x=ru,A=u.contextType;typeof A=="object"&&A!==null&&(x=Xn(A)),x=new u(m,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=px,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=m,x.state=o.memoizedState,x.refs={},$v(o),A=u.contextType,x.context=typeof A=="object"&&A!==null?Xn(A):ru,x.state=o.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(mx(o,u,A,m),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&px.enqueueReplaceState(x,x.state,null),kh(o,m,x,v),Rh(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){x=o.stateNode;var P=o.memoizedProps,B=Ul(u,P);x.props=B;var Z=x.context,oe=u.contextType;A=ru,typeof oe=="object"&&oe!==null&&(A=Xn(oe));var de=u.getDerivedStateFromProps;oe=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||Z!==A)&&wA(o,x,m,A),so=!1;var ne=o.memoizedState;x.state=ne,kh(o,m,x,v),Rh(),Z=o.memoizedState,P||ne!==Z||so?(typeof de=="function"&&(mx(o,u,de,m),Z=o.memoizedState),(B=so||bA(o,u,B,m,ne,Z,A))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Z),x.props=m,x.state=Z,x.context=A,m=B):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{x=o.stateNode,qv(s,o),A=o.memoizedProps,oe=Ul(u,A),x.props=oe,de=o.pendingProps,ne=x.context,Z=u.contextType,B=ru,typeof Z=="object"&&Z!==null&&(B=Xn(Z)),P=u.getDerivedStateFromProps,(Z=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==de||ne!==B)&&wA(o,x,m,B),so=!1,ne=o.memoizedState,x.state=ne,kh(o,m,x,v),Rh();var ie=o.memoizedState;A!==de||ne!==ie||so||s!==null&&s.dependencies!==null&&Sp(s.dependencies)?(typeof P=="function"&&(mx(o,u,P,m),ie=o.memoizedState),(oe=so||bA(o,u,oe,m,ne,ie,B)||s!==null&&s.dependencies!==null&&Sp(s.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ie,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ie,B)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),x.props=m,x.state=ie,x.context=B,m=oe):(typeof x.componentDidUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),m=!1)}return x=m,$p(s,o),m=(o.flags&128)!==0,x||m?(x=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,s!==null&&m?(o.child=Vl(o,s.child,null,v),o.child=Vl(o,null,u,v)):Jn(s,o,u,v),o.memoizedState=x.state,s=o.child):s=ua(s,o,v),s}function OA(s,o,u,m){return kl(),o.flags|=256,Jn(s,o,u,m),o.child}var xx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bx(s){return{baseLanes:s,cachePool:SS()}}function wx(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=ti),s}function VA(s,o,u){var m=o.pendingProps,v=!1,x=(o.flags&128)!==0,A;if((A=x)||(A=s!==null&&s.memoizedState===null?!1:(on.current&2)!==0),A&&(v=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,s===null){if(ut){if(v?lo(o):co(),(s=Ot)?(s=qN(s,Si),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:to!==null?{id:Cs,overflow:Rs}:null,retryLane:536870912,hydrationErrors:null},u=gS(s),u.return=o,o.child=u,Qn=o,Ot=null)):s=null,s===null)throw ro(o);return rb(s)?o.lanes=32:o.lanes=536870912,null}var P=m.children;return m=m.fallback,v?(co(),v=o.mode,P=qp({mode:"hidden",children:P},v),m=Rl(m,v,u,null),P.return=o,m.return=o,P.sibling=m,o.child=P,m=o.child,m.memoizedState=bx(u),m.childLanes=wx(s,A,u),o.memoizedState=xx,Oh(null,m)):(lo(o),_x(o,P))}var B=s.memoizedState;if(B!==null&&(P=B.dehydrated,P!==null)){if(x)o.flags&256?(lo(o),o.flags&=-257,o=Ex(s,o,u)):o.memoizedState!==null?(co(),o.child=s.child,o.flags|=128,o=null):(co(),P=m.fallback,v=o.mode,m=qp({mode:"visible",children:m.children},v),P=Rl(P,v,u,null),P.flags|=2,m.return=o,P.return=o,m.sibling=P,o.child=m,Vl(o,s.child,null,u),m=o.child,m.memoizedState=bx(u),m.childLanes=wx(s,A,u),o.memoizedState=xx,o=Oh(null,m));else if(lo(o),rb(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var Z=A.dgst;A=Z,m=Error(r(419)),m.stack="",m.digest=A,Th({value:m,source:null,stack:null}),o=Ex(s,o,u)}else if(xn||ou(s,o,u,!1),A=(u&s.childLanes)!==0,xn||A){if(A=jt,A!==null&&(m=Kn(A,u),m!==0&&m!==B.retryLane))throw B.retryLane=m,Cl(s,m),Nr(A,s,m),yx;nb(P)||eg(),o=Ex(s,o,u)}else nb(P)?(o.flags|=192,o.child=s.child,o=null):(s=B.treeContext,Ot=Ni(P.nextSibling),Qn=o,ut=!0,no=null,Si=!1,s!==null&&xS(o,s),o=_x(o,m.children),o.flags|=4096);return o}return v?(co(),P=m.fallback,v=o.mode,B=s.child,Z=B.sibling,m=ia(B,{mode:"hidden",children:m.children}),m.subtreeFlags=B.subtreeFlags&65011712,Z!==null?P=ia(Z,P):(P=Rl(P,v,u,null),P.flags|=2),P.return=o,m.return=o,m.sibling=P,o.child=m,Oh(null,m),m=o.child,P=s.child.memoizedState,P===null?P=bx(u):(v=P.cachePool,v!==null?(B=yn._currentValue,v=v.parent!==B?{parent:B,pool:B}:v):v=SS(),P={baseLanes:P.baseLanes|u,cachePool:v}),m.memoizedState=P,m.childLanes=wx(s,A,u),o.memoizedState=xx,Oh(s.child,m)):(lo(o),u=s.child,s=u.sibling,u=ia(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,s!==null&&(A=o.deletions,A===null?(o.deletions=[s],o.flags|=16):A.push(s)),o.child=u,o.memoizedState=null,u)}function _x(s,o){return o=qp({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function qp(s,o){return s=Xr(22,s,null,o),s.lanes=0,s}function Ex(s,o,u){return Vl(o,s.child,null,u),s=_x(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function LA(s,o,u){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),Lv(s.return,o,u)}function Tx(s,o,u,m,v,x){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v,treeForkCount:x}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=u,A.tailMode=v,A.treeForkCount=x)}function UA(s,o,u){var m=o.pendingProps,v=m.revealOrder,x=m.tail;m=m.children;var A=on.current,P=(A&2)!==0;if(P?(A=A&1|2,o.flags|=128):A&=1,se(on,A),Jn(s,o,m,u),m=ut?Eh:0,!P&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&LA(s,u,o);else if(s.tag===19)LA(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(u=o.child,v=null;u!==null;)s=u.alternate,s!==null&&Pp(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),Tx(o,!1,v,u,x,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(s=v.alternate,s!==null&&Pp(s)===null){o.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}Tx(o,!0,u,null,x,m);break;case"together":Tx(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function ua(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),fo|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(ou(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,u=ia(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ia(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Sx(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Sp(s)))}function c9(s,o,u){switch(o.tag){case 3:we(o,o.stateNode.containerInfo),io(o,yn,s.memoizedState.cache),kl();break;case 27:case 5:He(o);break;case 4:we(o,o.stateNode.containerInfo);break;case 10:io(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Qv(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(lo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?VA(s,o,u):(lo(o),s=ua(s,o,u),s!==null?s.sibling:null);lo(o);break;case 19:var v=(s.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ou(s,o,u,!1),m=(u&o.childLanes)!==0),v){if(m)return UA(s,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),se(on,on.current),m)break;return null;case 22:return o.lanes=0,kA(s,o,u,o.pendingProps);case 24:io(o,yn,s.memoizedState.cache)}return ua(s,o,u)}function BA(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)xn=!0;else{if(!Sx(s,u)&&(o.flags&128)===0)return xn=!1,c9(s,o,u);xn=(s.flags&131072)!==0}else xn=!1,ut&&(o.flags&1048576)!==0&&vS(o,Eh,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(s=Ml(o.elementType),o.type=s,typeof s=="function")Rv(s)?(m=Ul(s,m),o.tag=1,o=MA(null,o,s,m,u)):(o.tag=0,o=vx(null,o,s,m,u));else{if(s!=null){var v=s.$$typeof;if(v===z){o.tag=11,o=IA(null,o,s,m,u);break e}else if(v===k){o.tag=14,o=CA(null,o,s,m,u);break e}}throw o=Ee(s)||s,Error(r(306,o,""))}}return o;case 0:return vx(s,o,o.type,o.pendingProps,u);case 1:return m=o.type,v=Ul(m,o.pendingProps),MA(s,o,m,v,u);case 3:e:{if(we(o,o.stateNode.containerInfo),s===null)throw Error(r(387));m=o.pendingProps;var x=o.memoizedState;v=x.element,qv(s,o),kh(o,m,null,u);var A=o.memoizedState;if(m=A.cache,io(o,yn,m),m!==x.cache&&Uv(o,[yn],u,!0),Rh(),m=A.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=OA(s,o,m,u);break e}else if(m!==v){v=_i(Error(r(424)),o),Th(v),o=OA(s,o,m,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ot=Ni(s.firstChild),Qn=o,ut=!0,no=null,Si=!0,u=kS(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(kl(),m===v){o=ua(s,o,u);break e}Jn(s,o,m,u)}o=o.child}return o;case 26:return $p(s,o),s===null?(u=XN(o.type,null,o.pendingProps,null))?o.memoizedState=u:ut||(u=o.type,s=o.pendingProps,m=og(Se.current).createElement(u),m[mn]=o,m[Vn]=s,Zn(m,u,s),pn(m),o.stateNode=m):o.memoizedState=XN(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return He(o),s===null&&ut&&(m=o.stateNode=WN(o.type,o.pendingProps,Se.current),Qn=o,Si=!0,v=Ot,vo(o.type)?(ib=v,Ot=Ni(m.firstChild)):Ot=v),Jn(s,o,o.pendingProps.children,u),$p(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ut&&((v=m=Ot)&&(m=U9(m,o.type,o.pendingProps,Si),m!==null?(o.stateNode=m,Qn=o,Ot=Ni(m.firstChild),Si=!1,v=!0):v=!1),v||ro(o)),He(o),v=o.type,x=o.pendingProps,A=s!==null?s.memoizedProps:null,m=x.children,Zx(v,x)?m=null:A!==null&&Zx(v,A)&&(o.flags|=32),o.memoizedState!==null&&(v=Jv(s,o,e9,null,null,u),Xh._currentValue=v),$p(s,o),Jn(s,o,m,u),o.child;case 6:return s===null&&ut&&((s=u=Ot)&&(u=B9(u,o.pendingProps,Si),u!==null?(o.stateNode=u,Qn=o,Ot=null,s=!0):s=!1),s||ro(o)),null;case 13:return VA(s,o,u);case 4:return we(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Vl(o,null,m,u):Jn(s,o,m,u),o.child;case 11:return IA(s,o,o.type,o.pendingProps,u);case 7:return Jn(s,o,o.pendingProps,u),o.child;case 8:return Jn(s,o,o.pendingProps.children,u),o.child;case 12:return Jn(s,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,io(o,o.type,m.value),Jn(s,o,m.children,u),o.child;case 9:return v=o.type._context,m=o.pendingProps.children,Pl(o),v=Xn(v),m=m(v),o.flags|=1,Jn(s,o,m,u),o.child;case 14:return CA(s,o,o.type,o.pendingProps,u);case 15:return RA(s,o,o.type,o.pendingProps,u);case 19:return UA(s,o,u);case 31:return l9(s,o,u);case 22:return kA(s,o,u,o.pendingProps);case 24:return Pl(o),m=Xn(yn),s===null?(v=zv(),v===null&&(v=jt,x=Bv(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:m,cache:v},$v(o),io(o,yn,v)):((s.lanes&u)!==0&&(qv(s,o),kh(o,null,null,u),Rh()),v=s.memoizedState,x=o.memoizedState,v.parent!==m?(v={parent:m,cache:m},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),io(o,yn,m)):(m=x.cache,io(o,yn,m),m!==v.cache&&Uv(o,[yn],u,!0))),Jn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function da(s){s.flags|=4}function Ax(s,o,u,m,v){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(fN())s.flags|=8192;else throw Ol=Cp,Hv}else s.flags&=-16777217}function FA(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nI(o))if(fN())s.flags|=8192;else throw Ol=Cp,Hv}function Gp(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?On():536870912,s.lanes|=o,xu|=o)}function Vh(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Vt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(o)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&65011712,m|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=m,s.childLanes=u,o}function u9(s,o,u){var m=o.pendingProps;switch(Dv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return Vt(o),null;case 3:return u=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),oa(yn),De(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(au(o)?da(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ov())),Vt(o),null;case 26:var v=o.type,x=o.memoizedState;return s===null?(da(o),x!==null?(Vt(o),FA(o,x)):(Vt(o),Ax(o,v,null,m,u))):x?x!==s.memoizedState?(da(o),Vt(o),FA(o,x)):(Vt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==m&&da(o),Vt(o),Ax(o,v,s,m,u)),null;case 27:if($e(o),u=Se.current,v=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&da(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Vt(o),null}s=ue.current,au(o)?bS(o):(s=WN(v,m,u),o.stateNode=s,da(o))}return Vt(o),null;case 5:if($e(o),v=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&da(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Vt(o),null}if(x=ue.current,au(o))bS(o);else{var A=og(Se.current);switch(x){case 1:x=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=A.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?A.createElement(v,{is:m.is}):A.createElement(v)}}x[mn]=o,x[Vn]=m;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)x.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=x;e:switch(Zn(x,v,m),v){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&da(o)}}return Vt(o),Ax(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&da(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(s=Se.current,au(o)){if(s=o.stateNode,u=o.memoizedProps,m=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:m=v.memoizedProps}s[mn]=o,s=!!(s.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||VN(s.nodeValue,u)),s||ro(o,!0)}else s=og(s).createTextNode(m),s[mn]=o,o.stateNode=s}return Vt(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(m=au(o),u!==null){if(s===null){if(!m)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[mn]=o}else kl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vt(o),s=!1}else u=Ov(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Vt(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=au(o),m!==null&&m.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[mn]=o}else kl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vt(o),v=!1}else v=Ov(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,s=s!==null&&s.memoizedState!==null,u&&(m=o.child,v=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(v=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==v&&(m.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Gp(o,o.updateQueue),Vt(o),null);case 4:return De(),s===null&&Wx(o.stateNode.containerInfo),Vt(o),null;case 10:return oa(o.type),Vt(o),null;case 19:if(ae(on),m=o.memoizedState,m===null)return Vt(o),null;if(v=(o.flags&128)!==0,x=m.rendering,x===null)if(v)Vh(m,!1);else{if(nn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(x=Pp(s),x!==null){for(o.flags|=128,Vh(m,!1),s=x.updateQueue,o.updateQueue=s,Gp(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)pS(u,s),u=u.sibling;return se(on,on.current&1|2),ut&&sa(o,m.treeForkCount),o.child}s=s.sibling}m.tail!==null&&sn()>Xp&&(o.flags|=128,v=!0,Vh(m,!1),o.lanes=4194304)}else{if(!v)if(s=Pp(x),s!==null){if(o.flags|=128,v=!0,s=s.updateQueue,o.updateQueue=s,Gp(o,s),Vh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ut)return Vt(o),null}else 2*sn()-m.renderingStartTime>Xp&&u!==536870912&&(o.flags|=128,v=!0,Vh(m,!1),o.lanes=4194304);m.isBackwards?(x.sibling=o.child,o.child=x):(s=m.last,s!==null?s.sibling=x:o.child=x,m.last=x)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=sn(),s.sibling=null,u=on.current,se(on,v?u&1|2:u&1),ut&&sa(o,m.treeForkCount),s):(Vt(o),null);case 22:case 23:return Zr(o),Yv(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),u=o.updateQueue,u!==null&&Gp(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),s!==null&&ae(Dl),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),oa(yn),Vt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function d9(s,o){switch(Dv(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return oa(yn),De(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(r(340));kl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(Zr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));kl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ae(on),null;case 4:return De(),null;case 10:return oa(o.type),null;case 22:case 23:return Zr(o),Yv(),s!==null&&ae(Dl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return oa(yn),null;case 25:return null;default:return null}}function zA(s,o){switch(Dv(o),o.tag){case 3:oa(yn),De();break;case 26:case 27:case 5:$e(o);break;case 4:De();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:ae(on);break;case 10:oa(o.type);break;case 22:case 23:Zr(o),Yv(),s!==null&&ae(Dl);break;case 24:oa(yn)}}function Lh(s,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var v=m.next;u=v;do{if((u.tag&s)===s){m=void 0;var x=u.create,A=u.inst;m=x(),A.destroy=m}u=u.next}while(u!==v)}}catch(P){_t(o,o.return,P)}}function uo(s,o,u){try{var m=o.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var x=v.next;m=x;do{if((m.tag&s)===s){var A=m.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,v=o;var B=u,Z=P;try{Z()}catch(oe){_t(v,B,oe)}}}m=m.next}while(m!==x)}}catch(oe){_t(o,o.return,oe)}}function HA(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{PS(o,u)}catch(m){_t(s,s.return,m)}}}function $A(s,o,u){u.props=Ul(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(m){_t(s,o,m)}}function Uh(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof u=="function"?s.refCleanup=u(m):u.current=m}}catch(v){_t(s,o,v)}}function ks(s,o){var u=s.ref,m=s.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(v){_t(s,o,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){_t(s,o,v)}else u.current=null}function qA(s){var o=s.type,u=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(v){_t(s,s.return,v)}}function Nx(s,o,u){try{var m=s.stateNode;P9(m,s.type,u,o),m[Vn]=o}catch(v){_t(s,s.return,v)}}function GA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vo(s.type)||s.tag===4}function Ix(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||GA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cx(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ui));else if(m!==4&&(m===27&&vo(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Cx(s,o,u),s=s.sibling;s!==null;)Cx(s,o,u),s=s.sibling}function Kp(s,o,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(m!==4&&(m===27&&vo(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Kp(s,o,u),s=s.sibling;s!==null;)Kp(s,o,u),s=s.sibling}function KA(s){var o=s.stateNode,u=s.memoizedProps;try{for(var m=s.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Zn(o,m,u),o[mn]=s,o[Vn]=u}catch(x){_t(s,s.return,x)}}var ha=!1,bn=!1,Rx=!1,WA=typeof WeakSet=="function"?WeakSet:Set,Un=null;function h9(s,o){if(s=s.containerInfo,Xx=mg,s=aS(s),Ev(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var A=0,P=-1,B=-1,Z=0,oe=0,de=s,ne=null;t:for(;;){for(var ie;de!==u||v!==0&&de.nodeType!==3||(P=A+v),de!==x||m!==0&&de.nodeType!==3||(B=A+m),de.nodeType===3&&(A+=de.nodeValue.length),(ie=de.firstChild)!==null;)ne=de,de=ie;for(;;){if(de===s)break t;if(ne===u&&++Z===v&&(P=A),ne===x&&++oe===m&&(B=A),(ie=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=ie}u=P===-1||B===-1?null:{start:P,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jx={focusedElem:s,selectionRange:u},mg=!1,Un=o;Un!==null;)if(o=Un,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Un=s;else for(;Un!==null;){switch(o=Un,x=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)v=s[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&x!==null){s=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,m=u.stateNode;try{var Ne=Ul(u.type,v);s=m.getSnapshotBeforeUpdate(Ne,x),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){_t(u,u.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)tb(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":tb(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Un=s;break}Un=o.return}}function YA(s,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:ma(s,u),m&4&&Lh(5,u);break;case 1:if(ma(s,u),m&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(A){_t(u,u.return,A)}else{var v=Ul(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(v,o,s.__reactInternalSnapshotBeforeUpdate)}catch(A){_t(u,u.return,A)}}m&64&&HA(u),m&512&&Uh(u,u.return);break;case 3:if(ma(s,u),m&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{PS(s,o)}catch(A){_t(u,u.return,A)}}break;case 27:o===null&&m&4&&KA(u);case 26:case 5:ma(s,u),o===null&&m&4&&qA(u),m&512&&Uh(u,u.return);break;case 12:ma(s,u);break;case 31:ma(s,u),m&4&&JA(s,u);break;case 13:ma(s,u),m&4&&ZA(s,u),m&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=w9.bind(null,u),F9(s,u))));break;case 22:if(m=u.memoizedState!==null||ha,!m){o=o!==null&&o.memoizedState!==null||bn,v=ha;var x=bn;ha=m,(bn=o)&&!x?pa(s,u,(u.subtreeFlags&8772)!==0):ma(s,u),ha=v,bn=x}break;case 30:break;default:ma(s,u)}}function QA(s){var o=s.alternate;o!==null&&(s.alternate=null,QA(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Hc(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var qt=null,Er=!1;function fa(s,o,u){for(u=u.child;u!==null;)XA(s,o,u),u=u.sibling}function XA(s,o,u){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(qr,u)}catch{}switch(u.tag){case 26:bn||ks(u,o),fa(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:bn||ks(u,o);var m=qt,v=Er;vo(u.type)&&(qt=u.stateNode,Er=!1),fa(s,o,u),Wh(u.stateNode),qt=m,Er=v;break;case 5:bn||ks(u,o);case 6:if(m=qt,v=Er,qt=null,fa(s,o,u),qt=m,Er=v,qt!==null)if(Er)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(u.stateNode)}catch(x){_t(u,o,x)}else try{qt.removeChild(u.stateNode)}catch(x){_t(u,o,x)}break;case 18:qt!==null&&(Er?(s=qt,HN(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Nu(s)):HN(qt,u.stateNode));break;case 4:m=qt,v=Er,qt=u.stateNode.containerInfo,Er=!0,fa(s,o,u),qt=m,Er=v;break;case 0:case 11:case 14:case 15:uo(2,u,o),bn||uo(4,u,o),fa(s,o,u);break;case 1:bn||(ks(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&$A(u,o,m)),fa(s,o,u);break;case 21:fa(s,o,u);break;case 22:bn=(m=bn)||u.memoizedState!==null,fa(s,o,u),bn=m;break;default:fa(s,o,u)}}function JA(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Nu(s)}catch(u){_t(o,o.return,u)}}}function ZA(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Nu(s)}catch(u){_t(o,o.return,u)}}function f9(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new WA),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new WA),o;default:throw Error(r(435,s.tag))}}function Wp(s,o){var u=f9(s);o.forEach(function(m){if(!u.has(m)){u.add(m);var v=_9.bind(null,s,m);m.then(v,v)}})}function Tr(s,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m],x=s,A=o,P=A;e:for(;P!==null;){switch(P.tag){case 27:if(vo(P.type)){qt=P.stateNode,Er=!1;break e}break;case 5:qt=P.stateNode,Er=!1;break e;case 3:case 4:qt=P.stateNode.containerInfo,Er=!0;break e}P=P.return}if(qt===null)throw Error(r(160));XA(x,A,v),qt=null,Er=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)eN(o,s),o=o.sibling}var qi=null;function eN(s,o){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tr(o,s),Sr(s),m&4&&(uo(3,s,s.return),Lh(3,s),uo(5,s,s.return));break;case 1:Tr(o,s),Sr(s),m&512&&(bn||u===null||ks(u,u.return)),m&64&&ha&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var v=qi;if(Tr(o,s),Sr(s),m&512&&(bn||u===null||ks(u,u.return)),m&4){var x=u!==null?u.memoizedState:null;if(m=s.memoizedState,u===null)if(m===null)if(s.stateNode===null){e:{m=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(m){case"title":x=v.getElementsByTagName("title")[0],(!x||x[ys]||x[mn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(m),v.head.insertBefore(x,v.querySelector("head > title"))),Zn(x,m,u),x[mn]=s,pn(x),m=x;break e;case"link":var A=eI("link","href",v).get(m+(u.href||""));if(A){for(var P=0;P<A.length;P++)if(x=A[P],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(P,1);break t}}x=v.createElement(m),Zn(x,m,u),v.head.appendChild(x);break;case"meta":if(A=eI("meta","content",v).get(m+(u.content||""))){for(P=0;P<A.length;P++)if(x=A[P],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(P,1);break t}}x=v.createElement(m),Zn(x,m,u),v.head.appendChild(x);break;default:throw Error(r(468,m))}x[mn]=s,pn(x),m=x}s.stateNode=m}else tI(v,s.type,s.stateNode);else s.stateNode=ZN(v,m,s.memoizedProps);else x!==m?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,m===null?tI(v,s.type,s.stateNode):ZN(v,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Nx(s,s.memoizedProps,u.memoizedProps)}break;case 27:Tr(o,s),Sr(s),m&512&&(bn||u===null||ks(u,u.return)),u!==null&&m&4&&Nx(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Tr(o,s),Sr(s),m&512&&(bn||u===null||ks(u,u.return)),s.flags&32){v=s.stateNode;try{_r(v,"")}catch(Ne){_t(s,s.return,Ne)}}m&4&&s.stateNode!=null&&(v=s.memoizedProps,Nx(s,v,u!==null?u.memoizedProps:v)),m&1024&&(Rx=!0);break;case 6:if(Tr(o,s),Sr(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,u=s.stateNode;try{u.nodeValue=m}catch(Ne){_t(s,s.return,Ne)}}break;case 3:if(ug=null,v=qi,qi=lg(o.containerInfo),Tr(o,s),qi=v,Sr(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Nu(o.containerInfo)}catch(Ne){_t(s,s.return,Ne)}Rx&&(Rx=!1,tN(s));break;case 4:m=qi,qi=lg(s.stateNode.containerInfo),Tr(o,s),Sr(s),qi=m;break;case 12:Tr(o,s),Sr(s);break;case 31:Tr(o,s),Sr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Wp(s,m)));break;case 13:Tr(o,s),Sr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Qp=sn()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Wp(s,m)));break;case 22:v=s.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,Z=ha,oe=bn;if(ha=Z||v,bn=oe||B,Tr(o,s),bn=oe,ha=Z,Sr(s),m&8192)e:for(o=s.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||B||ha||bn||Bl(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){B=u=o;try{if(x=B.stateNode,v)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=B.stateNode;var de=B.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;P.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ne){_t(B,B.return,Ne)}}}else if(o.tag===6){if(u===null){B=o;try{B.stateNode.nodeValue=v?"":B.memoizedProps}catch(Ne){_t(B,B.return,Ne)}}}else if(o.tag===18){if(u===null){B=o;try{var ie=B.stateNode;v?$N(ie,!0):$N(B.stateNode,!1)}catch(Ne){_t(B,B.return,Ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,Wp(s,u))));break;case 19:Tr(o,s),Sr(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Wp(s,m)));break;case 30:break;case 21:break;default:Tr(o,s),Sr(s)}}function Sr(s){var o=s.flags;if(o&2){try{for(var u,m=s.return;m!==null;){if(GA(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=Ix(s);Kp(s,x,v);break;case 5:var A=u.stateNode;u.flags&32&&(_r(A,""),u.flags&=-33);var P=Ix(s);Kp(s,P,A);break;case 3:case 4:var B=u.stateNode.containerInfo,Z=Ix(s);Cx(s,Z,B);break;default:throw Error(r(161))}}catch(oe){_t(s,s.return,oe)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function tN(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;tN(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function ma(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)YA(s,o.alternate,o),o=o.sibling}function Bl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:uo(4,o,o.return),Bl(o);break;case 1:ks(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&$A(o,o.return,u),Bl(o);break;case 27:Wh(o.stateNode);case 26:case 5:ks(o,o.return),Bl(o);break;case 22:o.memoizedState===null&&Bl(o);break;case 30:Bl(o);break;default:Bl(o)}s=s.sibling}}function pa(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,v=s,x=o,A=x.flags;switch(x.tag){case 0:case 11:case 15:pa(v,x,u),Lh(4,x);break;case 1:if(pa(v,x,u),m=x,v=m.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){_t(m,m.return,Z)}if(m=x,v=m.updateQueue,v!==null){var P=m.stateNode;try{var B=v.shared.hiddenCallbacks;if(B!==null)for(v.shared.hiddenCallbacks=null,v=0;v<B.length;v++)jS(B[v],P)}catch(Z){_t(m,m.return,Z)}}u&&A&64&&HA(x),Uh(x,x.return);break;case 27:KA(x);case 26:case 5:pa(v,x,u),u&&m===null&&A&4&&qA(x),Uh(x,x.return);break;case 12:pa(v,x,u);break;case 31:pa(v,x,u),u&&A&4&&JA(v,x);break;case 13:pa(v,x,u),u&&A&4&&ZA(v,x);break;case 22:x.memoizedState===null&&pa(v,x,u),Uh(x,x.return);break;case 30:break;default:pa(v,x,u)}o=o.sibling}}function kx(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Sh(u))}function jx(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Sh(s))}function Gi(s,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)nN(s,o,u,m),o=o.sibling}function nN(s,o,u,m){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Gi(s,o,u,m),v&2048&&Lh(9,o);break;case 1:Gi(s,o,u,m);break;case 3:Gi(s,o,u,m),v&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Sh(s)));break;case 12:if(v&2048){Gi(s,o,u,m),s=o.stateNode;try{var x=o.memoizedProps,A=x.id,P=x.onPostCommit;typeof P=="function"&&P(A,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){_t(o,o.return,B)}}else Gi(s,o,u,m);break;case 31:Gi(s,o,u,m);break;case 13:Gi(s,o,u,m);break;case 23:break;case 22:x=o.stateNode,A=o.alternate,o.memoizedState!==null?x._visibility&2?Gi(s,o,u,m):Bh(s,o):x._visibility&2?Gi(s,o,u,m):(x._visibility|=2,gu(s,o,u,m,(o.subtreeFlags&10256)!==0||!1)),v&2048&&kx(A,o);break;case 24:Gi(s,o,u,m),v&2048&&jx(o.alternate,o);break;default:Gi(s,o,u,m)}}function gu(s,o,u,m,v){for(v=v&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=s,A=o,P=u,B=m,Z=A.flags;switch(A.tag){case 0:case 11:case 15:gu(x,A,P,B,v),Lh(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?gu(x,A,P,B,v):Bh(x,A):(oe._visibility|=2,gu(x,A,P,B,v)),v&&Z&2048&&kx(A.alternate,A);break;case 24:gu(x,A,P,B,v),v&&Z&2048&&jx(A.alternate,A);break;default:gu(x,A,P,B,v)}o=o.sibling}}function Bh(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,m=o,v=m.flags;switch(m.tag){case 22:Bh(u,m),v&2048&&kx(m.alternate,m);break;case 24:Bh(u,m),v&2048&&jx(m.alternate,m);break;default:Bh(u,m)}o=o.sibling}}var Fh=8192;function yu(s,o,u){if(s.subtreeFlags&Fh)for(s=s.child;s!==null;)rN(s,o,u),s=s.sibling}function rN(s,o,u){switch(s.tag){case 26:yu(s,o,u),s.flags&Fh&&s.memoizedState!==null&&Z9(u,qi,s.memoizedState,s.memoizedProps);break;case 5:yu(s,o,u);break;case 3:case 4:var m=qi;qi=lg(s.stateNode.containerInfo),yu(s,o,u),qi=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=Fh,Fh=16777216,yu(s,o,u),Fh=m):yu(s,o,u));break;default:yu(s,o,u)}}function iN(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function zh(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Un=m,aN(m,s)}iN(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sN(s),s=s.sibling}function sN(s){switch(s.tag){case 0:case 11:case 15:zh(s),s.flags&2048&&uo(9,s,s.return);break;case 3:zh(s);break;case 12:zh(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Yp(s)):zh(s);break;default:zh(s)}}function Yp(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];Un=m,aN(m,s)}iN(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:uo(8,o,o.return),Yp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Yp(o));break;default:Yp(o)}s=s.sibling}}function aN(s,o){for(;Un!==null;){var u=Un;switch(u.tag){case 0:case 11:case 15:uo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Sh(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,Un=m;else e:for(u=s;Un!==null;){m=Un;var v=m.sibling,x=m.return;if(QA(m),m===u){Un=null;break e}if(v!==null){v.return=x,Un=v;break e}Un=x}}}var m9={getCacheForType:function(s){var o=Xn(yn),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return Xn(yn).controller.signal}},p9=typeof WeakMap=="function"?WeakMap:Map,gt=0,jt=null,it=null,at=0,wt=0,ei=null,ho=!1,vu=!1,Px=!1,ga=0,nn=0,fo=0,Fl=0,Dx=0,ti=0,xu=0,Hh=null,Ar=null,Mx=!1,Qp=0,oN=0,Xp=1/0,Jp=null,mo=null,In=0,po=null,bu=null,ya=0,Ox=0,Vx=null,lN=null,$h=0,Lx=null;function ni(){return(gt&2)!==0&&at!==0?at&-at:G.T!==null?$x():rh()}function cN(){if(ti===0)if((at&536870912)===0||ut){var s=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),ti=s}else ti=536870912;return s=Jr.current,s!==null&&(s.flags|=32),ti}function Nr(s,o,u){(s===jt&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(wu(s,0),go(s,at,ti,!1)),Mt(s,u),((gt&2)===0||s!==jt)&&(s===jt&&((gt&2)===0&&(Fl|=u),nn===4&&go(s,at,ti,!1)),js(s))}function uN(s,o,u){if((gt&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&s.expiredLanes)===0||yt(s,o),v=m?v9(s,o):Bx(s,o,!0),x=m;do{if(v===0){vu&&!m&&go(s,o,0,!1);break}else{if(u=s.current.alternate,x&&!g9(u)){v=Bx(s,o,!1),x=!1;continue}if(v===2){if(x=o,s.errorRecoveryDisabledLanes&x)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var P=s;v=Hh;var B=P.current.memoizedState.isDehydrated;if(B&&(wu(P,A).flags|=256),A=Bx(P,A,!1),A!==2){if(Px&&!B){P.errorRecoveryDisabledLanes|=x,Fl|=x,v=4;break e}x=Ar,Ar=v,x!==null&&(Ar===null?Ar=x:Ar.push.apply(Ar,x))}v=A}if(x=!1,v!==2)continue}}if(v===1){wu(s,0),go(s,o,0,!0);break}e:{switch(m=s,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:go(m,o,ti,!ho);break e;case 2:Ar=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=Qp+300-sn(),10<v)){if(go(m,o,ti,!ho),Oe(m,0,!0)!==0)break e;ya=o,m.timeoutHandle=FN(dN.bind(null,m,u,Ar,Jp,Mx,o,ti,Fl,xu,ho,x,"Throttled",-0,0),v);break e}dN(m,u,Ar,Jp,Mx,o,ti,Fl,xu,ho,x,null,-0,0)}}break}while(!0);js(s)}function dN(s,o,u,m,v,x,A,P,B,Z,oe,de,ne,ie){if(s.timeoutHandle=-1,de=o.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},rN(o,x,de);var Ne=(x&62914560)===x?Qp-sn():(x&4194048)===x?oN-sn():0;if(Ne=eU(de,Ne),Ne!==null){ya=x,s.cancelPendingCommit=Ne(xN.bind(null,s,o,x,u,m,v,A,P,B,oe,de,null,ne,ie)),go(s,x,A,!Z);return}}xN(s,o,x,u,m,v,A,P,B)}function g9(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var v=u[m],x=v.getSnapshot;v=v.value;try{if(!Qr(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function go(s,o,u,m){o&=~Dx,o&=~Fl,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var v=o;0<v;){var x=31-Ht(v),A=1<<x;m[x]=-1,v&=~A}u!==0&&gi(s,u,o)}function Zp(){return(gt&6)===0?(qh(0),!1):!0}function Ux(){if(it!==null){if(wt===0)var s=it.return;else s=it,aa=jl=null,tx(s),du=null,Nh=0,s=it;for(;s!==null;)zA(s.alternate,s),s=s.return;it=null}}function wu(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,O9(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ya=0,Ux(),jt=s,it=u=ia(s.current,null),at=o,wt=0,ei=null,ho=!1,vu=yt(s,o),Px=!1,xu=ti=Dx=Fl=fo=nn=0,Ar=Hh=null,Mx=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var v=31-Ht(m),x=1<<v;o|=s[v],m&=~x}return ga=o,bp(),u}function hN(s,o){We=null,G.H=Mh,o===uu||o===Ip?(o=IS(),wt=3):o===Hv?(o=IS(),wt=4):wt=o===yx?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ei=o,it===null&&(nn=1,zp(s,_i(o,s.current)))}function fN(){var s=Jr.current;return s===null?!0:(at&4194048)===at?Ai===null:(at&62914560)===at||(at&536870912)!==0?s===Ai:!1}function mN(){var s=G.H;return G.H=Mh,s===null?Mh:s}function pN(){var s=G.A;return G.A=m9,s}function eg(){nn=4,ho||(at&4194048)!==at&&Jr.current!==null||(vu=!0),(fo&134217727)===0&&(Fl&134217727)===0||jt===null||go(jt,at,ti,!1)}function Bx(s,o,u){var m=gt;gt|=2;var v=mN(),x=pN();(jt!==s||at!==o)&&(Jp=null,wu(s,o)),o=!1;var A=nn;e:do try{if(wt!==0&&it!==null){var P=it,B=ei;switch(wt){case 8:Ux(),A=6;break e;case 3:case 2:case 9:case 6:Jr.current===null&&(o=!0);var Z=wt;if(wt=0,ei=null,_u(s,P,B,Z),u&&vu){A=0;break e}break;default:Z=wt,wt=0,ei=null,_u(s,P,B,Z)}}y9(),A=nn;break}catch(oe){hN(s,oe)}while(!0);return o&&s.shellSuspendCounter++,aa=jl=null,gt=m,G.H=v,G.A=x,it===null&&(jt=null,at=0,bp()),A}function y9(){for(;it!==null;)gN(it)}function v9(s,o){var u=gt;gt|=2;var m=mN(),v=pN();jt!==s||at!==o?(Jp=null,Xp=sn()+500,wu(s,o)):vu=yt(s,o);e:do try{if(wt!==0&&it!==null){o=it;var x=ei;t:switch(wt){case 1:wt=0,ei=null,_u(s,o,x,1);break;case 2:case 9:if(AS(x)){wt=0,ei=null,yN(o);break}o=function(){wt!==2&&wt!==9||jt!==s||(wt=7),js(s)},x.then(o,o);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:AS(x)?(wt=0,ei=null,yN(o)):(wt=0,ei=null,_u(s,o,x,7));break;case 5:var A=null;switch(it.tag){case 26:A=it.memoizedState;case 5:case 27:var P=it;if(A?nI(A):P.stateNode.complete){wt=0,ei=null;var B=P.sibling;if(B!==null)it=B;else{var Z=P.return;Z!==null?(it=Z,tg(Z)):it=null}break t}}wt=0,ei=null,_u(s,o,x,5);break;case 6:wt=0,ei=null,_u(s,o,x,6);break;case 8:Ux(),nn=6;break e;default:throw Error(r(462))}}x9();break}catch(oe){hN(s,oe)}while(!0);return aa=jl=null,G.H=m,G.A=v,gt=u,it!==null?0:(jt=null,at=0,bp(),nn)}function x9(){for(;it!==null&&!Sn();)gN(it)}function gN(s){var o=BA(s.alternate,s,ga);s.memoizedProps=s.pendingProps,o===null?tg(s):it=o}function yN(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=DA(u,o,o.pendingProps,o.type,void 0,at);break;case 11:o=DA(u,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:tx(o);default:zA(u,o),o=it=pS(o,ga),o=BA(u,o,ga)}s.memoizedProps=s.pendingProps,o===null?tg(s):it=o}function _u(s,o,u,m){aa=jl=null,tx(o),du=null,Nh=0;var v=o.return;try{if(o9(s,v,o,u,at)){nn=1,zp(s,_i(u,s.current)),it=null;return}}catch(x){if(v!==null)throw it=v,x;nn=1,zp(s,_i(u,s.current)),it=null;return}o.flags&32768?(ut||m===1?s=!0:vu||(at&536870912)!==0?s=!1:(ho=s=!0,(m===2||m===9||m===3||m===6)&&(m=Jr.current,m!==null&&m.tag===13&&(m.flags|=16384))),vN(o,s)):tg(o)}function tg(s){var o=s;do{if((o.flags&32768)!==0){vN(o,ho);return}s=o.return;var u=u9(o.alternate,o,ga);if(u!==null){it=u;return}if(o=o.sibling,o!==null){it=o;return}it=o=s}while(o!==null);nn===0&&(nn=5)}function vN(s,o){do{var u=d9(s.alternate,s);if(u!==null){u.flags&=32767,it=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){it=s;return}it=s=u}while(s!==null);nn=6,it=null}function xN(s,o,u,m,v,x,A,P,B){s.cancelPendingCommit=null;do ng();while(In!==0);if((gt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=Iv,rr(s,u,x,A,P,B),s===jt&&(it=jt=null,at=0),bu=o,po=s,ya=u,Ox=x,Vx=v,lN=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,E9(An,function(){return TN(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=G.T,G.T=null,v=te.p,te.p=2,A=gt,gt|=4;try{h9(s,o,u)}finally{gt=A,te.p=v,G.T=m}}In=1,bN(),wN(),_N()}}function bN(){if(In===1){In=0;var s=po,o=bu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var m=te.p;te.p=2;var v=gt;gt|=4;try{eN(o,s);var x=Jx,A=aS(s.containerInfo),P=x.focusedElem,B=x.selectionRange;if(A!==P&&P&&P.ownerDocument&&sS(P.ownerDocument.documentElement,P)){if(B!==null&&Ev(P)){var Z=B.start,oe=B.end;if(oe===void 0&&(oe=Z),"selectionStart"in P)P.selectionStart=Z,P.selectionEnd=Math.min(oe,P.value.length);else{var de=P.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Ne=P.textContent.length,Ue=Math.min(B.start,Ne),Ct=B.end===void 0?Ue:Math.min(B.end,Ne);!ie.extend&&Ue>Ct&&(A=Ct,Ct=Ue,Ue=A);var K=iS(P,Ue),q=iS(P,Ct);if(K&&q&&(ie.rangeCount!==1||ie.anchorNode!==K.node||ie.anchorOffset!==K.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var J=de.createRange();J.setStart(K.node,K.offset),ie.removeAllRanges(),Ue>Ct?(ie.addRange(J),ie.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),ie.addRange(J))}}}}for(de=[],ie=P;ie=ie.parentNode;)ie.nodeType===1&&de.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<de.length;P++){var le=de[P];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}mg=!!Xx,Jx=Xx=null}finally{gt=v,te.p=m,G.T=u}}s.current=o,In=2}}function wN(){if(In===2){In=0;var s=po,o=bu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var m=te.p;te.p=2;var v=gt;gt|=4;try{YA(s,o.alternate,o)}finally{gt=v,te.p=m,G.T=u}}In=3}}function _N(){if(In===4||In===3){In=0,xr();var s=po,o=bu,u=ya,m=lN;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?In=5:(In=0,bu=po=null,EN(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(mo=null),Wn(u),o=o.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(qr,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=G.T,v=te.p,te.p=2,G.T=null;try{for(var x=s.onRecoverableError,A=0;A<m.length;A++){var P=m[A];x(P.value,{componentStack:P.stack})}}finally{G.T=o,te.p=v}}(ya&3)!==0&&ng(),js(s),v=s.pendingLanes,(u&261930)!==0&&(v&42)!==0?s===Lx?$h++:($h=0,Lx=s):$h=0,qh(0)}}function EN(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Sh(o)))}function ng(){return bN(),wN(),_N(),TN()}function TN(){if(In!==5)return!1;var s=po,o=Ox;Ox=0;var u=Wn(ya),m=G.T,v=te.p;try{te.p=32>u?32:u,G.T=null,u=Vx,Vx=null;var x=po,A=ya;if(In=0,bu=po=null,ya=0,(gt&6)!==0)throw Error(r(331));var P=gt;if(gt|=4,sN(x.current),nN(x,x.current,A,u),gt=P,qh(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(qr,x)}catch{}return!0}finally{te.p=v,G.T=m,EN(s,o)}}function SN(s,o,u){o=_i(u,o),o=gx(s.stateNode,o,2),s=oo(s,o,2),s!==null&&(Mt(s,2),js(s))}function _t(s,o,u){if(s.tag===3)SN(s,s,u);else for(;o!==null;){if(o.tag===3){SN(o,s,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(mo===null||!mo.has(m))){s=_i(u,s),u=AA(2),m=oo(o,u,2),m!==null&&(NA(u,m,o,s),Mt(m,2),js(m));break}}o=o.return}}function Fx(s,o,u){var m=s.pingCache;if(m===null){m=s.pingCache=new p9;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(Px=!0,v.add(u),s=b9.bind(null,s,o,u),o.then(s,s))}function b9(s,o,u){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,jt===s&&(at&u)===u&&(nn===4||nn===3&&(at&62914560)===at&&300>sn()-Qp?(gt&2)===0&&wu(s,0):Dx|=u,xu===at&&(xu=0)),js(s)}function AN(s,o){o===0&&(o=On()),s=Cl(s,o),s!==null&&(Mt(s,o),js(s))}function w9(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),AN(s,u)}function _9(s,o){var u=0;switch(s.tag){case 31:case 13:var m=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),AN(s,u)}function E9(s,o){return Xt(s,o)}var rg=null,Eu=null,zx=!1,ig=!1,Hx=!1,yo=0;function js(s){s!==Eu&&s.next===null&&(Eu===null?rg=Eu=s:Eu=Eu.next=s),ig=!0,zx||(zx=!0,S9())}function qh(s,o){if(!Hx&&ig){Hx=!0;do for(var u=!1,m=rg;m!==null;){if(s!==0){var v=m.pendingLanes;if(v===0)var x=0;else{var A=m.suspendedLanes,P=m.pingedLanes;x=(1<<31-Ht(42|s)+1)-1,x&=v&~(A&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,RN(m,x))}else x=at,x=Oe(m,m===jt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||yt(m,x)||(u=!0,RN(m,x));m=m.next}while(u);Hx=!1}}function T9(){NN()}function NN(){ig=zx=!1;var s=0;yo!==0&&M9()&&(s=yo);for(var o=sn(),u=null,m=rg;m!==null;){var v=m.next,x=IN(m,o);x===0?(m.next=null,u===null?rg=v:u.next=v,v===null&&(Eu=u)):(u=m,(s!==0||(x&3)!==0)&&(ig=!0)),m=v}In!==0&&In!==5||qh(s),yo!==0&&(yo=0)}function IN(s,o){for(var u=s.suspendedLanes,m=s.pingedLanes,v=s.expirationTimes,x=s.pendingLanes&-62914561;0<x;){var A=31-Ht(x),P=1<<A,B=v[A];B===-1?((P&u)===0||(P&m)!==0)&&(v[A]=fn(P,o)):B<=o&&(s.expiredLanes|=P),x&=~P}if(o=jt,u=at,u=Oe(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,u===0||s===o&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&mi(m),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||yt(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(m!==null&&mi(m),Wn(u)){case 2:case 8:u=br;break;case 32:u=An;break;case 268435456:u=Mn;break;default:u=An}return m=CN.bind(null,s),u=Xt(u,m),s.callbackPriority=o,s.callbackNode=u,o}return m!==null&&m!==null&&mi(m),s.callbackPriority=2,s.callbackNode=null,2}function CN(s,o){if(In!==0&&In!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(ng()&&s.callbackNode!==u)return null;var m=at;return m=Oe(s,s===jt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(uN(s,m,o),IN(s,sn()),s.callbackNode!=null&&s.callbackNode===u?CN.bind(null,s):null)}function RN(s,o){if(ng())return null;uN(s,o,!0)}function S9(){V9(function(){(gt&6)!==0?Xt(qn,T9):NN()})}function $x(){if(yo===0){var s=lu;s===0&&(s=pi,pi<<=1,(pi&261888)===0&&(pi=256)),yo=s}return yo}function kN(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Kc(""+s)}function jN(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function A9(s,o,u,m,v){if(o==="submit"&&u&&u.stateNode===v){var x=kN((v[Vn]||null).action),A=m.submitter;A&&(o=(o=A[Vn]||null)?kN(o.formAction):A.getAttribute("formAction"),o!==null&&(x=o,A=null));var P=new Ss("action","action",null,m,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(yo!==0){var B=A?jN(v,A):new FormData(v);ux(u,{pending:!0,data:B,method:v.method,action:x},null,B)}}else typeof x=="function"&&(P.preventDefault(),B=A?jN(v,A):new FormData(v),ux(u,{pending:!0,data:B,method:v.method,action:x},x,B))},currentTarget:v}]})}}for(var qx=0;qx<Nv.length;qx++){var Gx=Nv[qx],N9=Gx.toLowerCase(),I9=Gx[0].toUpperCase()+Gx.slice(1);$i(N9,"on"+I9)}$i(cS,"onAnimationEnd"),$i(uS,"onAnimationIteration"),$i(dS,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i($6,"onTransitionRun"),$i(q6,"onTransitionStart"),$i(G6,"onTransitionCancel"),$i(hS,"onTransitionEnd"),ws("onMouseEnter",["mouseout","mouseover"]),ws("onMouseLeave",["mouseout","mouseover"]),ws("onPointerEnter",["pointerout","pointerover"]),ws("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gh));function PN(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],v=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var A=m.length-1;0<=A;A--){var P=m[A],B=P.instance,Z=P.currentTarget;if(P=P.listener,B!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=Z;try{x(v)}catch(oe){xp(oe)}v.currentTarget=null,x=B}else for(A=0;A<m.length;A++){if(P=m[A],B=P.instance,Z=P.currentTarget,P=P.listener,B!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=Z;try{x(v)}catch(oe){xp(oe)}v.currentTarget=null,x=B}}}}function st(s,o){var u=o[zc];u===void 0&&(u=o[zc]=new Set);var m=s+"__bubble";u.has(m)||(DN(o,s,2,!1),u.add(m))}function Kx(s,o,u){var m=0;o&&(m|=4),DN(u,s,m,o)}var sg="_reactListening"+Math.random().toString(36).slice(2);function Wx(s){if(!s[sg]){s[sg]=!0,ih.forEach(function(u){u!=="selectionchange"&&(C9.has(u)||Kx(u,!1,s),Kx(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[sg]||(o[sg]=!0,Kx("selectionchange",!1,o))}}function DN(s,o,u,m){switch(cI(o)){case 2:var v=rU;break;case 8:v=iU;break;default:v=cb}u=v.bind(null,o,u,s),v=void 0,!wl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?s.addEventListener(o,u,{capture:!0,passive:v}):s.addEventListener(o,u,!0):v!==void 0?s.addEventListener(o,u,{passive:v}):s.addEventListener(o,u,!1)}function Yx(s,o,u,m,v){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var P=m.stateNode.containerInfo;if(P===v)break;if(A===4)for(A=m.return;A!==null;){var B=A.tag;if((B===3||B===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;P!==null;){if(A=vs(P),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){m=x=A;continue e}P=P.parentNode}}m=m.return}Xa(function(){var Z=x,oe=vi(u),de=[];e:{var ne=fS.get(s);if(ne!==void 0){var ie=Ss,Ne=s;switch(s){case"keypress":if(El(u)===0)break e;case"keydown":case"keyup":ie=gp;break;case"focusin":Ne="focus",ie=Sl;break;case"focusout":Ne="blur",ie=Sl;break;case"beforeblur":case"afterblur":ie=Sl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=E;break;case cS:case uS:case dS:ie=cp;break;case hS:ie=M;break;case"scroll":case"scrollend":ie=gh;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ra;break;case"toggle":case"beforetoggle":ie=Ke}var Ue=(o&4)!==0,Ct=!Ue&&(s==="scroll"||s==="scrollend"),K=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var q=Z,J;q!==null;){var le=q;if(J=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||J===null||K===null||(le=Bi(q,K),le!=null&&Ue.push(Kh(q,le,J))),Ct)break;q=q.return}0<Ue.length&&(ne=new ie(ne,Ne,null,u,oe),de.push({event:ne,listeners:Ue}))}}if((o&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",ie=s==="mouseout"||s==="pointerout",ne&&u!==fh&&(Ne=u.relatedTarget||u.fromElement)&&(vs(Ne)||Ne[gs]))break e;if((ie||ne)&&(ne=oe.window===oe?oe:(ne=oe.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Ne=u.relatedTarget||u.toElement,ie=Z,Ne=Ne?vs(Ne):null,Ne!==null&&(Ct=a(Ne),Ue=Ne.tag,Ne!==Ct||Ue!==5&&Ue!==27&&Ue!==6)&&(Ne=null)):(ie=null,Ne=Z),ie!==Ne)){if(Ue=yh,le="onMouseLeave",K="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=ra,le="onPointerLeave",K="onPointerEnter",q="pointer"),Ct=ie==null?ne:Wr(ie),J=Ne==null?ne:Wr(Ne),ne=new Ue(le,q+"leave",ie,u,oe),ne.target=Ct,ne.relatedTarget=J,le=null,vs(oe)===Z&&(Ue=new Ue(K,q+"enter",Ne,u,oe),Ue.target=J,Ue.relatedTarget=Ct,le=Ue),Ct=le,ie&&Ne)t:{for(Ue=R9,K=ie,q=Ne,J=0,le=K;le;le=Ue(le))J++;le=0;for(var Me=q;Me;Me=Ue(Me))le++;for(;0<J-le;)K=Ue(K),J--;for(;0<le-J;)q=Ue(q),le--;for(;J--;){if(K===q||q!==null&&K===q.alternate){Ue=K;break t}K=Ue(K),q=Ue(q)}Ue=null}else Ue=null;ie!==null&&MN(de,ne,ie,Ue,!1),Ne!==null&&Ct!==null&&MN(de,Ct,Ne,Ue,!0)}}e:{if(ne=Z?Wr(Z):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var ft=J1;else if(Q1(ne))if(Z1)ft=F6;else{ft=U6;var je=L6}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Z&&Gc(Z.elementType)&&(ft=J1):ft=B6;if(ft&&(ft=ft(s,Z))){X1(de,ft,u,oe);break e}je&&je(s,ne,Z),s==="focusout"&&Z&&ne.type==="number"&&Z.memoizedProps.value!=null&&uh(ne,"number",ne.value)}switch(je=Z?Wr(Z):window,s){case"focusin":(Q1(je)||je.contentEditable==="true")&&(eu=je,Tv=Z,_h=null);break;case"focusout":_h=Tv=eu=null;break;case"mousedown":Sv=!0;break;case"contextmenu":case"mouseup":case"dragend":Sv=!1,oS(de,u,oe);break;case"selectionchange":if(H6)break;case"keydown":case"keyup":oS(de,u,oe)}var Xe;if(pt)e:{switch(s){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Zc?Al(s,u)&&(ot="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(Is&&u.locale!=="ko"&&(Zc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Zc&&(Xe=ph()):(Ts=oe,mh="value"in Ts?Ts.value:Ts.textContent,Zc=!0)),je=ag(Z,ot),0<je.length&&(ot=new Ns(ot,s,null,u,oe),de.push({event:ot,listeners:je}),Xe?ot.data=Xe:(Xe=Jc(u),Xe!==null&&(ot.data=Xe)))),(Xe=bi?D6(s,u):M6(s,u))&&(ot=ag(Z,"onBeforeInput"),0<ot.length&&(je=new Ns("onBeforeInput","beforeinput",null,u,oe),de.push({event:je,listeners:ot}),je.data=Xe)),A9(de,s,Z,u,oe)}PN(de,o)})}function Kh(s,o,u){return{instance:s,listener:o,currentTarget:u}}function ag(s,o){for(var u=o+"Capture",m=[];s!==null;){var v=s,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Bi(s,u),v!=null&&m.unshift(Kh(s,v,x)),v=Bi(s,o),v!=null&&m.push(Kh(s,v,x))),s.tag===3)return m;s=s.return}return[]}function R9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function MN(s,o,u,m,v){for(var x=o._reactName,A=[];u!==null&&u!==m;){var P=u,B=P.alternate,Z=P.stateNode;if(P=P.tag,B!==null&&B===m)break;P!==5&&P!==26&&P!==27||Z===null||(B=Z,v?(Z=Bi(u,x),Z!=null&&A.unshift(Kh(u,Z,B))):v||(Z=Bi(u,x),Z!=null&&A.push(Kh(u,Z,B)))),u=u.return}A.length!==0&&s.push({event:o,listeners:A})}var k9=/\r\n?/g,j9=/\u0000|\uFFFD/g;function ON(s){return(typeof s=="string"?s:""+s).replace(k9,`
`).replace(j9,"")}function VN(s,o){return o=ON(o),ON(s)===o}function It(s,o,u,m,v,x){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||_r(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&_r(s,""+m);break;case"className":Yr(s,"class",m);break;case"tabIndex":Yr(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(s,u,m);break;case"style":hh(s,m,x);break;case"data":if(o!=="object"){Yr(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(u);break}m=Kc(""+m),s.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&It(s,o,"name",v.name,v,null),It(s,o,"formEncType",v.formEncType,v,null),It(s,o,"formMethod",v.formMethod,v,null),It(s,o,"formTarget",v.formTarget,v,null)):(It(s,o,"encType",v.encType,v,null),It(s,o,"method",v.method,v,null),It(s,o,"target",v.target,v,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(u);break}m=Kc(""+m),s.setAttribute(u,m);break;case"onClick":m!=null&&(s.onclick=Ui);break;case"onScroll":m!=null&&st("scroll",s);break;case"onScrollEnd":m!=null&&st("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}u=Kc(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,""+m):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":m===!0?s.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(u,m):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(u,m):s.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(u):s.setAttribute(u,m);break;case"popover":st("beforetoggle",s),st("toggle",s),$c(s,"popover",m);break;case"xlinkActuate":gn(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":gn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":gn(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":gn(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":gn(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":gn(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":gn(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":gn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":gn(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":$c(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ap.get(u)||u,$c(s,u,m))}}function Qx(s,o,u,m,v,x){switch(u){case"style":hh(s,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof m=="string"?_r(s,m):(typeof m=="number"||typeof m=="bigint")&&_r(s,""+m);break;case"onScroll":m!=null&&st("scroll",s);break;case"onScrollEnd":m!=null&&st("scrollend",s);break;case"onClick":m!=null&&(s.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sh.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=s[Vn]||null,x=x!=null?x[u]:null,typeof x=="function"&&s.removeEventListener(o,x,v),typeof m=="function")){typeof x!="function"&&x!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,m,v);break e}u in s?s[u]=m:m===!0?s.setAttribute(u,""):$c(s,u,m)}}}function Zn(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",s),st("load",s);var m=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var A=u[x];if(A!=null)switch(x){case"src":m=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(s,o,x,A,u,null)}}v&&It(s,o,"srcSet",u.srcSet,u,null),m&&It(s,o,"src",u.src,u,null);return;case"input":st("invalid",s);var P=x=A=v=null,B=null,Z=null;for(m in u)if(u.hasOwnProperty(m)){var oe=u[m];if(oe!=null)switch(m){case"name":v=oe;break;case"type":A=oe;break;case"checked":B=oe;break;case"defaultChecked":Z=oe;break;case"value":x=oe;break;case"defaultValue":P=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:It(s,o,m,oe,u,null)}}rp(s,x,P,B,Z,A,v,!1);return;case"select":st("invalid",s),m=A=x=null;for(v in u)if(u.hasOwnProperty(v)&&(P=u[v],P!=null))switch(v){case"value":x=P;break;case"defaultValue":A=P;break;case"multiple":m=P;default:It(s,o,v,P,u,null)}o=x,u=A,s.multiple=!!m,o!=null?Ka(s,!!m,o,!1):u!=null&&Ka(s,!!m,u,!0);return;case"textarea":st("invalid",s),x=v=m=null;for(A in u)if(u.hasOwnProperty(A)&&(P=u[A],P!=null))switch(A){case"value":m=P;break;case"defaultValue":v=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:It(s,o,A,P,u,null)}Wa(s,m,v,x);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(m=u[B],m!=null))switch(B){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:It(s,o,B,m,u,null)}return;case"dialog":st("beforetoggle",s),st("toggle",s),st("cancel",s),st("close",s);break;case"iframe":case"object":st("load",s);break;case"video":case"audio":for(m=0;m<Gh.length;m++)st(Gh[m],s);break;case"image":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"embed":case"source":case"link":st("error",s),st("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(m=u[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:It(s,o,Z,m,u,null)}return;default:if(Gc(o)){for(oe in u)u.hasOwnProperty(oe)&&(m=u[oe],m!==void 0&&Qx(s,o,oe,m,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(m=u[P],m!=null&&It(s,o,P,m,u,null))}function P9(s,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,A=null,P=null,B=null,Z=null,oe=null;for(ie in u){var de=u[ie];if(u.hasOwnProperty(ie)&&de!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=de;default:m.hasOwnProperty(ie)||It(s,o,ie,null,m,de)}}for(var ne in m){var ie=m[ne];if(de=u[ne],m.hasOwnProperty(ne)&&(ie!=null||de!=null))switch(ne){case"type":x=ie;break;case"name":v=ie;break;case"checked":Z=ie;break;case"defaultChecked":oe=ie;break;case"value":A=ie;break;case"defaultValue":P=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==de&&It(s,o,ne,ie,m,de)}}qc(s,A,P,B,Z,oe,x,v);return;case"select":ie=A=P=ne=null;for(x in u)if(B=u[x],u.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":ie=B;default:m.hasOwnProperty(x)||It(s,o,x,null,m,B)}for(v in m)if(x=m[v],B=u[v],m.hasOwnProperty(v)&&(x!=null||B!=null))switch(v){case"value":ne=x;break;case"defaultValue":P=x;break;case"multiple":A=x;default:x!==B&&It(s,o,v,x,m,B)}o=P,u=A,m=ie,ne!=null?Ka(s,!!u,ne,!1):!!m!=!!u&&(o!=null?Ka(s,!!u,o,!0):Ka(s,!!u,u?[]:"",!1));return;case"textarea":ie=ne=null;for(P in u)if(v=u[P],u.hasOwnProperty(P)&&v!=null&&!m.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:It(s,o,P,null,m,v)}for(A in m)if(v=m[A],x=u[A],m.hasOwnProperty(A)&&(v!=null||x!=null))switch(A){case"value":ne=v;break;case"defaultValue":ie=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&It(s,o,A,v,m,x)}ip(s,ne,ie);return;case"option":for(var Ne in u)if(ne=u[Ne],u.hasOwnProperty(Ne)&&ne!=null&&!m.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:It(s,o,Ne,null,m,ne)}for(B in m)if(ne=m[B],ie=u[B],m.hasOwnProperty(B)&&ne!==ie&&(ne!=null||ie!=null))switch(B){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:It(s,o,B,ne,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in u)ne=u[Ue],u.hasOwnProperty(Ue)&&ne!=null&&!m.hasOwnProperty(Ue)&&It(s,o,Ue,null,m,ne);for(Z in m)if(ne=m[Z],ie=u[Z],m.hasOwnProperty(Z)&&ne!==ie&&(ne!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:It(s,o,Z,ne,m,ie)}return;default:if(Gc(o)){for(var Ct in u)ne=u[Ct],u.hasOwnProperty(Ct)&&ne!==void 0&&!m.hasOwnProperty(Ct)&&Qx(s,o,Ct,void 0,m,ne);for(oe in m)ne=m[oe],ie=u[oe],!m.hasOwnProperty(oe)||ne===ie||ne===void 0&&ie===void 0||Qx(s,o,oe,ne,m,ie);return}}for(var K in u)ne=u[K],u.hasOwnProperty(K)&&ne!=null&&!m.hasOwnProperty(K)&&It(s,o,K,null,m,ne);for(de in m)ne=m[de],ie=u[de],!m.hasOwnProperty(de)||ne===ie||ne==null&&ie==null||It(s,o,de,ne,m,ie)}function LN(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var v=u[m],x=v.transferSize,A=v.initiatorType,P=v.duration;if(x&&P&&LN(A)){for(A=0,P=v.responseEnd,m+=1;m<u.length;m++){var B=u[m],Z=B.startTime;if(Z>P)break;var oe=B.transferSize,de=B.initiatorType;oe&&LN(de)&&(B=B.responseEnd,A+=oe*(B<P?1:(P-Z)/(B-Z)))}if(--m,o+=8*(x+A)/(v.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Xx=null,Jx=null;function og(s){return s.nodeType===9?s:s.ownerDocument}function UN(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BN(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Zx(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var eb=null;function M9(){var s=window.event;return s&&s.type==="popstate"?s===eb?!1:(eb=s,!0):(eb=null,!1)}var FN=typeof setTimeout=="function"?setTimeout:void 0,O9=typeof clearTimeout=="function"?clearTimeout:void 0,zN=typeof Promise=="function"?Promise:void 0,V9=typeof queueMicrotask=="function"?queueMicrotask:typeof zN<"u"?function(s){return zN.resolve(null).then(s).catch(L9)}:FN;function L9(s){setTimeout(function(){throw s})}function vo(s){return s==="head"}function HN(s,o){var u=o,m=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(m===0){s.removeChild(v),Nu(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Wh(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,Wh(u);for(var x=u.firstChild;x;){var A=x.nextSibling,P=x.nodeName;x[ys]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=A}}else u==="body"&&Wh(s.ownerDocument.body);u=v}while(u);Nu(o)}function $N(s,o){var u=s;s=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=m}while(u)}function tb(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":tb(u),Hc(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function U9(s,o,u,m){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ys])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(x=s.getAttribute("rel"),x==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(x!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(x=s.getAttribute("src"),(x!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===x)return s}else return s;if(s=Ni(s.nextSibling),s===null)break}return null}function B9(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ni(s.nextSibling),s===null))return null;return s}function qN(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Ni(s.nextSibling),s===null))return null;return s}function nb(s){return s.data==="$?"||s.data==="$~"}function rb(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function F9(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Ni(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var ib=null;function GN(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return Ni(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function KN(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function WN(s,o,u){switch(o=og(u),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Wh(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);Hc(s)}var Ii=new Map,YN=new Set;function lg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var va=te.d;te.d={f:z9,r:H9,D:$9,C:q9,L:G9,m:K9,X:Y9,S:W9,M:Q9};function z9(){var s=va.f(),o=Zp();return s||o}function H9(s){var o=yi(s);o!==null&&o.tag===5&&o.type==="form"?hA(o):va.r(s)}var Tu=typeof document>"u"?null:document;function QN(s,o,u){var m=Tu;if(m&&typeof o=="string"&&o){var v=wr(o);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),YN.has(v)||(YN.add(v),s={rel:s,crossOrigin:u,href:o},m.querySelector(v)===null&&(o=m.createElement("link"),Zn(o,"link",s),pn(o),m.head.appendChild(o)))}}function $9(s){va.D(s),QN("dns-prefetch",s,null)}function q9(s,o){va.C(s,o),QN("preconnect",s,o)}function G9(s,o,u){va.L(s,o,u);var m=Tu;if(m&&s&&o){var v='link[rel="preload"][as="'+wr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+wr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+wr(u.imageSizes)+'"]')):v+='[href="'+wr(s)+'"]';var x=v;switch(o){case"style":x=Su(s);break;case"script":x=Au(s)}Ii.has(x)||(s=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Ii.set(x,s),m.querySelector(v)!==null||o==="style"&&m.querySelector(Yh(x))||o==="script"&&m.querySelector(Qh(x))||(o=m.createElement("link"),Zn(o,"link",s),pn(o),m.head.appendChild(o)))}}function K9(s,o){va.m(s,o);var u=Tu;if(u&&s){var m=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+wr(m)+'"][href="'+wr(s)+'"]',x=v;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Au(s)}if(!Ii.has(x)&&(s=g({rel:"modulepreload",href:s},o),Ii.set(x,s),u.querySelector(v)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qh(x)))return}m=u.createElement("link"),Zn(m,"link",s),pn(m),u.head.appendChild(m)}}}function W9(s,o,u){va.S(s,o,u);var m=Tu;if(m&&s){var v=xs(m).hoistableStyles,x=Su(s);o=o||"default";var A=v.get(x);if(!A){var P={loading:0,preload:null};if(A=m.querySelector(Yh(x)))P.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Ii.get(x))&&sb(s,u);var B=A=m.createElement("link");pn(B),Zn(B,"link",s),B._p=new Promise(function(Z,oe){B.onload=Z,B.onerror=oe}),B.addEventListener("load",function(){P.loading|=1}),B.addEventListener("error",function(){P.loading|=2}),P.loading|=4,cg(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:P},v.set(x,A)}}}function Y9(s,o){va.X(s,o);var u=Tu;if(u&&s){var m=xs(u).hoistableScripts,v=Au(s),x=m.get(v);x||(x=u.querySelector(Qh(v)),x||(s=g({src:s,async:!0},o),(o=Ii.get(v))&&ab(s,o),x=u.createElement("script"),pn(x),Zn(x,"link",s),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function Q9(s,o){va.M(s,o);var u=Tu;if(u&&s){var m=xs(u).hoistableScripts,v=Au(s),x=m.get(v);x||(x=u.querySelector(Qh(v)),x||(s=g({src:s,async:!0,type:"module"},o),(o=Ii.get(v))&&ab(s,o),x=u.createElement("script"),pn(x),Zn(x,"link",s),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(v,x))}}function XN(s,o,u,m){var v=(v=Se.current)?lg(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Su(u.href),u=xs(v).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=Su(u.href);var x=xs(v).hoistableStyles,A=x.get(s);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(s,A),(x=v.querySelector(Yh(s)))&&!x._p&&(A.instance=x,A.state.loading=5),Ii.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ii.set(s,u),x||X9(v,s,u,A.state))),o&&m===null)throw Error(r(528,""));return A}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Au(u),u=xs(v).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Su(s){return'href="'+wr(s)+'"'}function Yh(s){return'link[rel="stylesheet"]['+s+"]"}function JN(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function X9(s,o,u,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Zn(o,"link",u),pn(o),s.head.appendChild(o))}function Au(s){return'[src="'+wr(s)+'"]'}function Qh(s){return"script[async]"+s}function ZN(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+wr(u.href)+'"]');if(m)return o.instance=m,pn(m),m;var v=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),pn(m),Zn(m,"style",v),cg(m,u.precedence,s),o.instance=m;case"stylesheet":v=Su(u.href);var x=s.querySelector(Yh(v));if(x)return o.state.loading|=4,o.instance=x,pn(x),x;m=JN(u),(v=Ii.get(v))&&sb(m,v),x=(s.ownerDocument||s).createElement("link"),pn(x);var A=x;return A._p=new Promise(function(P,B){A.onload=P,A.onerror=B}),Zn(x,"link",m),o.state.loading|=4,cg(x,u.precedence,s),o.instance=x;case"script":return x=Au(u.src),(v=s.querySelector(Qh(x)))?(o.instance=v,pn(v),v):(m=u,(v=Ii.get(x))&&(m=g({},u),ab(m,v)),s=s.ownerDocument||s,v=s.createElement("script"),pn(v),Zn(v,"link",m),s.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,cg(m,u.precedence,s));return o.instance}function cg(s,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=m.length?m[m.length-1]:null,x=v,A=0;A<m.length;A++){var P=m[A];if(P.dataset.precedence===o)x=P;else if(x!==v)break}x?x.parentNode.insertBefore(s,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function sb(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function ab(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ug=null;function eI(s,o,u){if(ug===null){var m=new Map,v=ug=new Map;v.set(u,m)}else v=ug,m=v.get(u),m||(m=new Map,v.set(u,m));if(m.has(s))return m;for(m.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var x=u[v];if(!(x[ys]||x[mn]||s==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(o)||"";A=s+A;var P=m.get(A);P?P.push(x):m.set(A,[x])}}return m}function tI(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function J9(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function nI(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Z9(s,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=Su(m.href),x=o.querySelector(Yh(v));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=dg.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=x,pn(x);return}x=o.ownerDocument||o,m=JN(m),(v=Ii.get(v))&&sb(m,v),x=x.createElement("link"),pn(x);var A=x;A._p=new Promise(function(P,B){A.onload=P,A.onerror=B}),Zn(x,"link",m),u.instance=x}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=dg.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var ob=0;function eU(s,o){return s.stylesheets&&s.count===0&&fg(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var m=setTimeout(function(){if(s.stylesheets&&fg(s,s.stylesheets),s.unsuspend){var x=s.unsuspend;s.unsuspend=null,x()}},6e4+o);0<s.imgBytes&&ob===0&&(ob=62500*D9());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&fg(s,s.stylesheets),s.unsuspend)){var x=s.unsuspend;s.unsuspend=null,x()}},(s.imgBytes>ob?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(v)}}:null}function dg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hg=null;function fg(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hg=new Map,o.forEach(tU,s),hg=null,dg.call(s))}function tU(s,o){if(!(o.state.loading&4)){var u=hg.get(s);if(u)var m=u.get(null);else{u=new Map,hg.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var A=v[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),m=A)}m&&u.set(null,m)}v=o.instance,A=v.getAttribute("data-precedence"),x=u.get(A)||m,x===m&&u.set(null,v),u.set(A,v),this.count++,m=dg.bind(this),v.addEventListener("load",m),v.addEventListener("error",m),x?x.parentNode.insertBefore(v,x.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),o.state.loading|=4}}var Xh={$$typeof:j,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function nU(s,o,u,m,v,x,A,P,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.hiddenUpdates=fr(null),this.identifierPrefix=m,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function rI(s,o,u,m,v,x,A,P,B,Z,oe,de){return s=new nU(s,o,u,A,B,Z,oe,de,P),o=1,x===!0&&(o|=24),x=Xr(3,null,null,o),s.current=x,x.stateNode=s,o=Bv(),o.refCount++,s.pooledCache=o,o.refCount++,x.memoizedState={element:m,isDehydrated:u,cache:o},$v(x),s}function iI(s){return s?(s=ru,s):ru}function sI(s,o,u,m,v,x){v=iI(v),m.context===null?m.context=v:m.pendingContext=v,m=ao(o),m.payload={element:u},x=x===void 0?null:x,x!==null&&(m.callback=x),u=oo(s,m,o),u!==null&&(Nr(u,s,o),Ch(u,s,o))}function aI(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function lb(s,o){aI(s,o),(s=s.alternate)&&aI(s,o)}function oI(s){if(s.tag===13||s.tag===31){var o=Cl(s,67108864);o!==null&&Nr(o,s,67108864),lb(s,67108864)}}function lI(s){if(s.tag===13||s.tag===31){var o=ni();o=ps(o);var u=Cl(s,o);u!==null&&Nr(u,s,o),lb(s,o)}}var mg=!0;function rU(s,o,u,m){var v=G.T;G.T=null;var x=te.p;try{te.p=2,cb(s,o,u,m)}finally{te.p=x,G.T=v}}function iU(s,o,u,m){var v=G.T;G.T=null;var x=te.p;try{te.p=8,cb(s,o,u,m)}finally{te.p=x,G.T=v}}function cb(s,o,u,m){if(mg){var v=ub(m);if(v===null)Yx(s,o,m,pg,u),uI(s,m);else if(aU(v,s,o,u,m))m.stopPropagation();else if(uI(s,m),o&4&&-1<sU.indexOf(s)){for(;v!==null;){var x=yi(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=Kr(x.pendingLanes);if(A!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var B=1<<31-Ht(A);P.entanglements[1]|=B,A&=~B}js(x),(gt&6)===0&&(Xp=sn()+500,qh(0))}}break;case 31:case 13:P=Cl(x,2),P!==null&&Nr(P,x,2),Zp(),lb(x,2)}if(x=ub(m),x===null&&Yx(s,o,m,pg,u),x===v)break;v=x}v!==null&&m.stopPropagation()}else Yx(s,o,m,null,u)}}function ub(s){return s=vi(s),db(s)}var pg=null;function db(s){if(pg=null,s=vs(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return pg=s,null}function cI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hr()){case qn:return 2;case br:return 8;case An:case dr:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var hb=!1,xo=null,bo=null,wo=null,Jh=new Map,Zh=new Map,_o=[],sU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uI(s,o){switch(s){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":Jh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zh.delete(o.pointerId)}}function ef(s,o,u,m,v,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},o!==null&&(o=yi(o),o!==null&&oI(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),s)}function aU(s,o,u,m,v){switch(o){case"focusin":return xo=ef(xo,s,o,u,m,v),!0;case"dragenter":return bo=ef(bo,s,o,u,m,v),!0;case"mouseover":return wo=ef(wo,s,o,u,m,v),!0;case"pointerover":var x=v.pointerId;return Jh.set(x,ef(Jh.get(x)||null,s,o,u,m,v)),!0;case"gotpointercapture":return x=v.pointerId,Zh.set(x,ef(Zh.get(x)||null,s,o,u,m,v)),!0}return!1}function dI(s){var o=vs(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Vi(s.priority,function(){lI(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,Vi(s.priority,function(){lI(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gg(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ub(s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);fh=m,u.target.dispatchEvent(m),fh=null}else return o=yi(u),o!==null&&oI(o),s.blockedOn=u,!1;o.shift()}return!0}function hI(s,o,u){gg(s)&&u.delete(o)}function oU(){hb=!1,xo!==null&&gg(xo)&&(xo=null),bo!==null&&gg(bo)&&(bo=null),wo!==null&&gg(wo)&&(wo=null),Jh.forEach(hI),Zh.forEach(hI)}function yg(s,o){s.blockedOn===o&&(s.blockedOn=null,hb||(hb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oU)))}var vg=null;function fI(s){vg!==s&&(vg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vg===s&&(vg=null);for(var o=0;o<s.length;o+=3){var u=s[o],m=s[o+1],v=s[o+2];if(typeof m!="function"){if(db(m||u)===null)continue;break}var x=yi(u);x!==null&&(s.splice(o,3),o-=3,ux(x,{pending:!0,data:v,method:u.method,action:m},m,v))}}))}function Nu(s){function o(B){return yg(B,s)}xo!==null&&yg(xo,s),bo!==null&&yg(bo,s),wo!==null&&yg(wo,s),Jh.forEach(o),Zh.forEach(o);for(var u=0;u<_o.length;u++){var m=_o[u];m.blockedOn===s&&(m.blockedOn=null)}for(;0<_o.length&&(u=_o[0],u.blockedOn===null);)dI(u),u.blockedOn===null&&_o.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var v=u[m],x=u[m+1],A=v[Vn]||null;if(typeof x=="function")A||fI(u);else if(A){var P=null;if(x&&x.hasAttribute("formAction")){if(v=x,A=x[Vn]||null)P=A.formAction;else if(db(v)!==null)continue}else P=A.action;typeof P=="function"?u[m+1]=P:(u.splice(m,3),m-=3),fI(u)}}}function mI(){function s(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function o(){v!==null&&(v(),v=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),v!==null&&(v(),v=null)}}}function fb(s){this._internalRoot=s}xg.prototype.render=fb.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=ni();sI(u,m,s,o,null,null)},xg.prototype.unmount=fb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;sI(s.current,2,null,s,null,null),Zp(),o[gs]=null}};function xg(s){this._internalRoot=s}xg.prototype.unstable_scheduleHydration=function(s){if(s){var o=rh();s={blockedOn:null,target:s,priority:o};for(var u=0;u<_o.length&&o!==0&&o<_o[u].priority;u++);_o.splice(u,0,s),u===0&&dI(s)}};var pI=e.version;if(pI!=="19.2.1")throw Error(r(527,pI,"19.2.1"));te.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var lU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{qr=bg.inject(lU),Nn=bg}catch{}}return nf.createRoot=function(s,o){if(!i(s))throw Error(r(299));var u=!1,m="",v=_A,x=EA,A=TA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=rI(s,1,!1,null,null,u,m,null,v,x,A,mI),s[gs]=o.current,Wx(s),new fb(o)},nf.hydrateRoot=function(s,o,u){if(!i(s))throw Error(r(299));var m=!1,v="",x=_A,A=EA,P=TA,B=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&(B=u.formState)),o=rI(s,1,!0,o,u??null,m,v,B,x,A,P,mI),o.context=iI(null),u=o.current,m=ni(),m=ps(m),v=ao(m),v.callback=null,oo(u,v,m),u=m,o.current.lanes=u,Mt(o,u),js(o),s[gs]=o.current,Wx(s),new xg(o)},nf.version="19.2.1",nf}var SI;function vU(){if(SI)return gb.exports;SI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gb.exports=yU(),gb.exports}var xU=vU();var AI="popstate";function bU(t={}){function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return xw("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bf(i)}return _U(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wU(){return Math.random().toString(36).substring(2,10)}function NI(t,e){return{usr:t.state,key:t.key,idx:e}}function xw(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?kd(e):e,state:n,key:e&&e.key||r||wU()}}function Bf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _U(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let I=p(),R=I==null?null:I-f;f=I,d&&d({action:c,location:S.location,delta:R})}function b(I,R){c="PUSH";let D=xw(S.location,I,R);f=p()+1;let j=NI(D,f),z=S.createHref(D);try{l.pushState(j,"",z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(z)}a&&d&&d({action:c,location:S.location,delta:1})}function _(I,R){c="REPLACE";let D=xw(S.location,I,R);f=p();let j=NI(D,f),z=S.createHref(D);l.replaceState(j,"",z),a&&d&&d({action:c,location:S.location,delta:0})}function T(I){return EU(I)}let S={get action(){return c},get location(){return t(i,l)},listen(I){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(AI,g),d=I,()=>{i.removeEventListener(AI,g),d=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let R=T(I);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:_,go(I){return l.go(I)}};return S}function EU(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Sj(t,e,n="/"){return TU(t,e,n,!1)}function TU(t,e,n,r){let i=typeof e=="string"?kd(e):e,a=Ca(i.pathname||"/",n);if(a==null)return null;let l=Aj(t);SU(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=OU(a);c=DU(l[d],f,r)}return c}function Aj(t,e=[],n=[],r="",i=!1){let a=(l,c,d=i,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Wt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=Na([r,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Aj(l.children,e,b,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:jU(g,l.index),routesMeta:b})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of Nj(l.path))a(l,c,!0,d)}),e}function Nj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Nj(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function SU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var AU=/^:[\w-]+$/,NU=3,IU=2,CU=1,RU=10,kU=-2,II=t=>t==="*";function jU(t,e){let n=t.split("/"),r=n.length;return n.some(II)&&(r+=kU),e&&(r+=IU),n.filter(i=>!II(i)).reduce((i,a)=>i+(AU.test(a)?NU:a===""?CU:RU),r)}function PU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DU(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=xy({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),b=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=xy({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Na([a,g.pathname]),pathnameBase:FU(Na([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=Na([a,g.pathnameBase]))}return l}function xy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:g},b)=>{if(p==="*"){let T=c[b]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const _=c[b];return g&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function MU(t,e=!1,n=!0){ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ca(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var VU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LU=t=>VU.test(t);function UU(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?kd(t):t,a;if(n)if(LU(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ji(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?a=CI(n.substring(1),"/"):a=CI(n,e)}else a=e;return{pathname:a,search:zU(r),hash:HU(i)}}function CI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bb(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function K_(t){let e=BU(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function W_(t,e,n,r=!1){let i;typeof t=="string"?i=kd(t):(i={...t},Wt(!i.pathname||!i.pathname.includes("?"),bb("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),bb("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),bb("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}c=g>=0?e[g]:"/"}let d=UU(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Na=t=>t.join("/").replace(/\/\/+/g,"/"),FU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $U(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ij=["POST","PUT","PATCH","DELETE"];new Set(Ij);var qU=["GET",...Ij];new Set(qU);var jd=w.createContext(null);jd.displayName="DataRouter";var d0=w.createContext(null);d0.displayName="DataRouterState";w.createContext(!1);var Cj=w.createContext({isTransitioning:!1});Cj.displayName="ViewTransition";var GU=w.createContext(new Map);GU.displayName="Fetchers";var KU=w.createContext(null);KU.displayName="Await";var us=w.createContext(null);us.displayName="Navigation";var vm=w.createContext(null);vm.displayName="Location";var ds=w.createContext({outlet:null,matches:[],isDataRoute:!1});ds.displayName="Route";var Y_=w.createContext(null);Y_.displayName="RouteError";function WU(t,{relative:e}={}){Wt(Pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(us),{hash:i,pathname:a,search:l}=xm(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Na([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Pd(){return w.useContext(vm)!=null}function Ua(){return Wt(Pd(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(vm).location}var Rj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kj(t){w.useContext(us).static||w.useLayoutEffect(t)}function Pc(){let{isDataRoute:t}=w.useContext(ds);return t?o8():YU()}function YU(){Wt(Pd(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(jd),{basename:e,navigator:n}=w.useContext(us),{matches:r}=w.useContext(ds),{pathname:i}=Ua(),a=JSON.stringify(K_(r)),l=w.useRef(!1);return kj(()=>{l.current=!0}),w.useCallback((d,f={})=>{if(ji(l.current,Rj),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=W_(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Na([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,a,i,t])}w.createContext(null);function Q_(){let{matches:t}=w.useContext(ds),e=t[t.length-1];return e?e.params:{}}function xm(t,{relative:e}={}){let{matches:n}=w.useContext(ds),{pathname:r}=Ua(),i=JSON.stringify(K_(n));return w.useMemo(()=>W_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function QU(t,e){return jj(t,e)}function jj(t,e,n,r,i){Wt(Pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=w.useContext(us),{matches:l}=w.useContext(ds),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",g=c&&c.route;{let D=g&&g.path||"";Pj(f,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let b=Ua(),_;if(e){let D=typeof e=="string"?kd(e):e;Wt(p==="/"||D.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),_=D}else _=b;let T=_.pathname||"/",S=T;if(p!=="/"){let D=p.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=Sj(t,{pathname:S});ji(g||I!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ji(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=t8(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Na([p,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:Na([p,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),l,n,r,i);return e&&R?w.createElement(vm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function XU(){let t=a8(),e=$U(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,l)}var JU=w.createElement(XU,null),ZU=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(ds.Provider,{value:this.props.routeContext},w.createElement(Y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function e8({routeContext:t,match:e,children:n}){let r=w.useContext(jd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ds.Provider,{value:t},n)}function t8(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n?.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(n)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:b,errors:_}=n,T=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let f=n&&r?(p,g)=>{r(p,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:g})}:void 0;return a.reduceRight((p,g,b)=>{let _,T=!1,S=null,I=null;n&&(_=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||JU,c&&(d<0&&b===0?(Pj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):d===b&&(T=!0,I=g.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,b+1)),D=()=>{let j;return _?j=S:T?j=I:g.route.Component?j=w.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,w.createElement(e8,{match:g,routeContext:{outlet:p,matches:R,isDataRoute:n!=null},children:j})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?w.createElement(ZU,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:f}):D()},null)}function X_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n8(t){let e=w.useContext(jd);return Wt(e,X_(t)),e}function r8(t){let e=w.useContext(d0);return Wt(e,X_(t)),e}function i8(t){let e=w.useContext(ds);return Wt(e,X_(t)),e}function J_(t){let e=i8(t),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function s8(){return J_("useRouteId")}function a8(){let t=w.useContext(Y_),e=r8("useRouteError"),n=J_("useRouteError");return t!==void 0?t:e.errors?.[n]}function o8(){let{router:t}=n8("useNavigate"),e=J_("useNavigate"),n=w.useRef(!1);return kj(()=>{n.current=!0}),w.useCallback(async(i,a={})=>{ji(n.current,Rj),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var RI={};function Pj(t,e,n){!e&&!RI[t]&&(RI[t]=!0,ji(!1,n))}w.memo(l8);function l8({routes:t,future:e,state:n,unstable_onError:r}){return jj(t,void 0,n,r,e)}function Dj({to:t,replace:e,state:n,relative:r}){Wt(Pd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(us);ji(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(ds),{pathname:l}=Ua(),c=Pc(),d=W_(t,K_(a),l,r==="path"),f=JSON.stringify(d);return w.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function cn(t){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Wt(!Pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=kd(n));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:b="default"}=n,_=w.useMemo(()=>{let T=Ca(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:g,key:b},navigationType:r}},[l,d,f,p,g,b,r]);return ji(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:w.createElement(us.Provider,{value:c},w.createElement(vm.Provider,{children:e,value:_}))}function kI({children:t,location:e}){return QU(bw(t),e)}function bw(t,e=[]){let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let a=[...e,i];if(r.type===w.Fragment){n.push.apply(n,bw(r.props.children,a));return}Wt(r.type===cn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bw(r.props.children,a)),n.push(l)}),n}var Gg="get",Kg="application/x-www-form-urlencoded";function h0(t){return t!=null&&typeof t.tagName=="string"}function u8(t){return h0(t)&&t.tagName.toLowerCase()==="button"}function d8(t){return h0(t)&&t.tagName.toLowerCase()==="form"}function h8(t){return h0(t)&&t.tagName.toLowerCase()==="input"}function f8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function m8(t,e){return t.button===0&&(!e||e==="_self")&&!f8(t)}var wg=null;function p8(){if(wg===null)try{new FormData(document.createElement("form"),0),wg=!1}catch{wg=!0}return wg}var g8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wb(t){return t!=null&&!g8.has(t)?(ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kg}"`),null):t}function y8(t,e){let n,r,i,a,l;if(d8(t)){let c=t.getAttribute("action");r=c?Ca(c,e):null,n=t.getAttribute("method")||Gg,i=wb(t.getAttribute("enctype"))||Kg,a=new FormData(t)}else if(u8(t)||h8(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ca(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Gg,i=wb(t.getAttribute("formenctype"))||wb(c.getAttribute("enctype"))||Kg,a=new FormData(c,t),!p8()){let{name:f,type:p,value:g}=t;if(p==="image"){let b=f?`${f}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else f&&a.append(f,g)}}else{if(h0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gg,r=null,i=Kg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Z_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function v8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ca(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function x8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b8(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function w8(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await x8(a,n);return l.links?l.links():[]}return[]}));return S8(r.flat(1).filter(b8).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jI(t,e,n,r,i,a){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):a==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _8(t,e,{includeHydrateFallback:n}={}){return E8(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function E8(t){return[...new Set(t)]}function T8(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function S8(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(T8(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function Mj(){let t=w.useContext(jd);return Z_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function A8(){let t=w.useContext(d0);return Z_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var eE=w.createContext(void 0);eE.displayName="FrameworkContext";function Oj(){let t=w.useContext(eE);return Z_(t,"You must render this element inside a <HydratedRouter> element"),t}function N8(t,e){let n=w.useContext(eE),[r,i]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=R=>{R.forEach(D=>{l(D.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return b.current&&I.observe(b.current),()=>{I.disconnect()}}},[t]),w.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:rf(c,_),onBlur:rf(d,T),onMouseEnter:rf(f,_),onMouseLeave:rf(p,T),onTouchStart:rf(g,_)}]:[!1,b,{}]}function rf(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function I8({page:t,...e}){let{router:n}=Mj(),r=w.useMemo(()=>Sj(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(R8,{page:t,matches:r,...e}):null}function C8(t){let{manifest:e,routeModules:n}=Oj(),[r,i]=w.useState([]);return w.useEffect(()=>{let a=!1;return w8(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function R8({page:t,matches:e,...n}){let r=Ua(),{manifest:i,routeModules:a}=Oj(),{basename:l}=Mj(),{loaderData:c,matches:d}=A8(),f=w.useMemo(()=>jI(t,e,d,i,r,"data"),[t,e,d,i,r]),p=w.useMemo(()=>jI(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,S=!1;if(e.forEach(R=>{let D=i.routes[R.route.id];!D||!D.hasLoader||(!f.some(j=>j.route.id===R.route.id)&&R.route.id in c&&a[R.route.id]?.shouldRevalidate||D.hasClientLoader?S=!0:T.add(R.route.id))}),T.size===0)return[];let I=v8(t,l,"data");return S&&T.size>0&&I.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[l,c,r,i,f,e,t,a]),b=w.useMemo(()=>_8(p,i),[p,i]),_=C8(p);return w.createElement(w.Fragment,null,g.map(T=>w.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>w.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:S})=>w.createElement("link",{key:T,nonce:n.nonce,...S})))}function k8(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vj&&(window.__reactRouterVersion="7.9.6")}catch{}function j8({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=bU({window:n,v5Compat:!0}));let i=r.current,[a,l]=w.useState({action:i.action,location:i.location}),c=w.useCallback(d=>{w.startTransition(()=>l(d))},[l]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.createElement(c8,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Lj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:g,...b},_){let{basename:T}=w.useContext(us),S=typeof f=="string"&&Lj.test(f),I,R=!1;if(typeof f=="string"&&S&&(I=f,Vj))try{let O=new URL(window.location.href),U=f.startsWith("//")?new URL(O.protocol+f):new URL(f),L=Ca(U.pathname,T);U.origin===O.origin&&L!=null?f=L+U.search+U.hash:R=!0}catch{ji(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=WU(f,{relative:i}),[j,z,$]=N8(r,b),Y=O8(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:g});function k(O){e&&e(O),O.defaultPrevented||Y(O)}let C=w.createElement("a",{...b,...$,href:I||D,onClick:R||a?e:k,ref:k8(_,z),target:d,"data-discover":!S&&n==="render"?"true":void 0});return j&&!S?w.createElement(w.Fragment,null,C,w.createElement(I8,{page:D})):C});tt.displayName="Link";var P8=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...f},p){let g=xm(l,{relative:f.relative}),b=Ua(),_=w.useContext(d0),{navigator:T,basename:S}=w.useContext(us),I=_!=null&&F8(g)&&c===!0,R=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,D=b.pathname,j=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(D=D.toLowerCase(),j=j?j.toLowerCase():null,R=R.toLowerCase()),j&&S&&(j=Ca(j,S)||j);const z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let $=D===R||!i&&D.startsWith(R)&&D.charAt(z)==="/",Y=j!=null&&(j===R||!i&&j.startsWith(R)&&j.charAt(R.length)==="/"),k={isActive:$,isPending:Y,isTransitioning:I},C=$?e:void 0,O;typeof r=="function"?O=r(k):O=[r,$?"active":null,Y?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(k):a;return w.createElement(tt,{...f,"aria-current":C,className:O,ref:p,style:U,to:l,viewTransition:c},typeof d=="function"?d(k):d)});P8.displayName="NavLink";var D8=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=Gg,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...b},_)=>{let T=U8(),S=B8(c,{relative:f}),I=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&Lj.test(c),D=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let z=j.nativeEvent.submitter,$=z?.getAttribute("formmethod")||l;T(z||j.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:i,state:a,relative:f,preventScrollReset:p,viewTransition:g})};return w.createElement("form",{ref:_,method:I,action:S,onSubmit:r?d:D,...b,"data-discover":!R&&t==="render"?"true":void 0})});D8.displayName="Form";function M8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uj(t){let e=w.useContext(jd);return Wt(e,M8(t)),e}function O8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=Pc(),d=Ua(),f=xm(t,{relative:a});return w.useCallback(p=>{if(m8(p,e)){p.preventDefault();let g=n!==void 0?n:Bf(d)===Bf(f);c(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,f,n,r,e,t,i,a,l])}var V8=0,L8=()=>`__${String(++V8)}__`;function U8(){let{router:t}=Uj("useSubmit"),{basename:e}=w.useContext(us),n=s8();return w.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:d,body:f}=y8(r,e);if(i.navigate===!1){let p=i.fetcherKey||L8();await t.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function B8(t,{relative:e}={}){let{basename:n}=w.useContext(us),r=w.useContext(ds);Wt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...xm(t||".",{relative:e})},l=Ua();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Na([n,a.pathname])),Bf(a)}function F8(t,{relative:e}={}){let n=w.useContext(Cj);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Uj("useViewTransitionState"),i=xm(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ca(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ca(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xy(i.pathname,l)!=null||xy(i.pathname,a)!=null}var bm=Tj();const Bj=Ej(bm),z8=()=>{};var PI={};const Fj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let b=(c&15)<<2|f>>6,_=f&63;d||(_=64,l||(b=64)),r.push(n[p],n[g],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new $8;const b=a<<2|c>>4;if(r.push(b),f!==64){const _=c<<4&240|f>>2;if(r.push(_),g!==64){const T=f<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q8=function(t){const e=Fj(t);return zj.encodeByteArray(e,!0)},by=function(t){return q8(t).replace(/\./g,"")},Hj=function(t){try{return zj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $j(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const G8=()=>$j().__FIREBASE_DEFAULTS__,K8=()=>{if(typeof process>"u"||typeof PI>"u")return;const t=PI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hj(t[1]);return e&&JSON.parse(e)},f0=()=>{try{return z8()||G8()||K8()||W8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qj=t=>f0()?.emulatorHosts?.[t],Gj=t=>{const e=qj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kj=()=>f0()?.config,Wj=t=>f0()?.[`_${t}`];class Y8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function m0(t){return(await fetch(t,{credentials:"include"})).ok}function Yj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[by(JSON.stringify(n)),by(JSON.stringify(l)),""].join(".")}const Ef={};function Q8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ef))Ef[e]?t.emulator.push(e):t.prod.push(e);return t}function X8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let DI=!1;function tE(t,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Ef[t]===e||Ef[t]||DI)return;Ef[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=Q8().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{DI=!0,l()},b}function p(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=X8(r),_=n("text"),T=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),I=document.getElementById(S)||document.createElement("a"),R=n("preprendIcon"),D=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const j=b.element;c(j),p(I,S);const z=f();d(D,R),j.append(D,T,I,z),document.body.appendChild(j)}a?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function Qj(){const t=f0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tB(){const t=jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jj(){return!Qj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zj(){return!Qj()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function nE(){try{return typeof indexedDB=="object"}catch{return!1}}function eP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function nB(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const rB="FirebaseError";class Oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rB,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?iB(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Oi(i,c,r)}}function iB(t,e){return t.replace(sB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sB=/\{\$([^}]+)}/g;function aB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(MI(a)&&MI(l)){if(!Pi(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MI(t){return t!==null&&typeof t=="object"}function wm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oB(t,e){const n=new lB(t,e);return n.subscribe.bind(n)}class lB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_b),i.error===void 0&&(i.error=_b),i.complete===void 0&&(i.complete=_b);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _b(){}const uB=1e3,dB=2,hB=14400*1e3,fB=.5;function OI(t,e=uB,n=dB){const r=e*Math.pow(n,t),i=Math.round(fB*r*(Math.random()-.5)*2);return Math.min(hB,r+i)}function dt(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ql="[DEFAULT]";class mB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gB(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pB(t){return t===ql?void 0:t}function gB(t){return t.instantiationMode==="EAGER"}class yB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const vB={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},xB=lt.INFO,bB={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},wB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=xB,this._logHandler=wB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const _B=(t,e)=>e.some(n=>t instanceof n);let VI,LI;function EB(){return VI||(VI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TB(){return LI||(LI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tP=new WeakMap,ww=new WeakMap,nP=new WeakMap,Eb=new WeakMap,rE=new WeakMap;function SB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Uo(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&tP.set(n,t)}).catch(()=>{}),rE.set(e,t),e}function AB(t){if(ww.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});ww.set(t,e)}let _w={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ww.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NB(t){_w=t(_w)}function IB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tb(this),e,...n);return nP.set(r,e.sort?e.sort():[e]),Uo(r)}:TB().includes(t)?function(...e){return t.apply(Tb(this),e),Uo(tP.get(this))}:function(...e){return Uo(t.apply(Tb(this),e))}}function CB(t){return typeof t=="function"?IB(t):(t instanceof IDBTransaction&&AB(t),_B(t,EB())?new Proxy(t,_w):t)}function Uo(t){if(t instanceof IDBRequest)return SB(t);if(Eb.has(t))return Eb.get(t);const e=CB(t);return e!==t&&(Eb.set(t,e),rE.set(e,t)),e}const Tb=t=>rE.get(t);function rP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=Uo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Uo(l.result),d.oldVersion,d.newVersion,Uo(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const RB=["get","getKey","getAll","getAllKeys","count"],kB=["put","add","delete","clear"],Sb=new Map;function UI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sb.get(e))return Sb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RB.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return Sb.set(e,a),a}NB(t=>({...t,get:(e,n,r)=>UI(e,n)||t.get(e,n,r),has:(e,n)=>!!UI(e,n)||t.has(e,n)}));class jB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PB(t){return t.getComponent()?.type==="VERSION"}const Ew="@firebase/app",BI="0.14.6";const Ra=new p0("@firebase/app"),DB="@firebase/app-compat",MB="@firebase/analytics-compat",OB="@firebase/analytics",VB="@firebase/app-check-compat",LB="@firebase/app-check",UB="@firebase/auth",BB="@firebase/auth-compat",FB="@firebase/database",zB="@firebase/data-connect",HB="@firebase/database-compat",$B="@firebase/functions",qB="@firebase/functions-compat",GB="@firebase/installations",KB="@firebase/installations-compat",WB="@firebase/messaging",YB="@firebase/messaging-compat",QB="@firebase/performance",XB="@firebase/performance-compat",JB="@firebase/remote-config",ZB="@firebase/remote-config-compat",eF="@firebase/storage",tF="@firebase/storage-compat",nF="@firebase/firestore",rF="@firebase/ai",iF="@firebase/firestore-compat",sF="firebase",aF="12.6.0";const wy="[DEFAULT]",oF={[Ew]:"fire-core",[DB]:"fire-core-compat",[OB]:"fire-analytics",[MB]:"fire-analytics-compat",[LB]:"fire-app-check",[VB]:"fire-app-check-compat",[UB]:"fire-auth",[BB]:"fire-auth-compat",[FB]:"fire-rtdb",[zB]:"fire-data-connect",[HB]:"fire-rtdb-compat",[$B]:"fire-fn",[qB]:"fire-fn-compat",[GB]:"fire-iid",[KB]:"fire-iid-compat",[WB]:"fire-fcm",[YB]:"fire-fcm-compat",[QB]:"fire-perf",[XB]:"fire-perf-compat",[JB]:"fire-rc",[ZB]:"fire-rc-compat",[eF]:"fire-gcs",[tF]:"fire-gcs-compat",[nF]:"fire-fst",[iF]:"fire-fst-compat",[rF]:"fire-vertex","fire-js":"fire-js",[sF]:"fire-js-all"};const _y=new Map,lF=new Map,Tw=new Map;function FI(t,e){try{t.container.addComponent(e)}catch(n){Ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ss(t){const e=t.name;if(Tw.has(e))return Ra.debug(`There were multiple attempts to register component ${e}.`),!1;Tw.set(e,t);for(const n of _y.values())FI(n,t);for(const n of lF.values())FI(n,t);return!0}function Qs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cF(t,e,n=wy){Qs(t,e).clearInstance(n)}function Cr(t){return t==null?!1:t.settings!==void 0}const uF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bo=new Dc("app","Firebase",uF);class dF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}const Mc=aF;function iP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Bo.create("bad-app-name",{appName:String(i)});if(n||(n=Kj()),!n)throw Bo.create("no-options");const a=_y.get(i);if(a){if(Pi(n,a.options)&&Pi(r,a.config))return a;throw Bo.create("duplicate-app",{appName:i})}const l=new yB(i);for(const d of Tw.values())l.addComponent(d);const c=new dF(n,r,l);return _y.set(i,c),c}function g0(t=wy){const e=_y.get(t);if(!e&&t===wy&&Kj())return iP();if(!e)throw Bo.create("no-app",{appName:t});return e}function Or(t,e,n){let r=oF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ra.warn(l.join(" "));return}ss(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hF="firebase-heartbeat-database",fF=1,Ff="firebase-heartbeat-store";let Ab=null;function sP(){return Ab||(Ab=rP(hF,fF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ff)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bo.create("idb-open",{originalErrorMessage:t.message})})),Ab}async function mF(t){try{const n=(await sP()).transaction(Ff),r=await n.objectStore(Ff).get(aP(t));return await n.done,r}catch(e){if(e instanceof Oi)Ra.warn(e.message);else{const n=Bo.create("idb-get",{originalErrorMessage:e?.message});Ra.warn(n.message)}}}async function zI(t,e){try{const r=(await sP()).transaction(Ff,"readwrite");await r.objectStore(Ff).put(e,aP(t)),await r.done}catch(n){if(n instanceof Oi)Ra.warn(n.message);else{const r=Bo.create("idb-set",{originalErrorMessage:n?.message});Ra.warn(r.message)}}}function aP(t){return`${t.name}!${t.options.appId}`}const pF=1024,gF=30;class yF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HI();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>gF){const i=bF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ra.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HI(),{heartbeatsToSend:n,unsentEntries:r}=vF(this._heartbeatsCache.heartbeats),i=by(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ra.warn(e),""}}}function HI(){return new Date().toISOString().substring(0,10)}function vF(t,e=pF){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),$I(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$I(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nE()?eP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $I(t){return by(JSON.stringify({version:2,heartbeats:t})).length}function bF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function wF(t){ss(new Di("platform-logger",e=>new jB(e),"PRIVATE")),ss(new Di("heartbeat",e=>new yF(e),"PRIVATE")),Or(Ew,BI,t),Or(Ew,BI,"esm2020"),Or("fire-js","")}wF("");function oP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _F=oP,lP=new Dc("auth","Firebase",oP());const Ey=new p0("@firebase/auth");function EF(t,...e){Ey.logLevel<=lt.WARN&&Ey.warn(`Auth (${Mc}): ${t}`,...e)}function Wg(t,...e){Ey.logLevel<=lt.ERROR&&Ey.error(`Auth (${Mc}): ${t}`,...e)}function Mi(t,...e){throw sE(t,...e)}function ns(t,...e){return sE(t,...e)}function iE(t,e,n){const r={..._F(),[e]:n};return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function Ia(t){return iE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mi(t,"argument-error"),iE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lP.create(t,...e)}function Be(t,e,...n){if(!t)throw sE(e,...n)}function wa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wg(e),new Error(e)}function ka(t,e){t||wa(e)}function Sw(){return typeof self<"u"&&self.location?.href||""}function SF(){return qI()==="http:"||qI()==="https:"}function qI(){return typeof self<"u"&&self.location?.protocol||null}function AF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||Xj()||"connection"in navigator)?navigator.onLine:!0}function NF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class _m{constructor(e,n){this.shortDelay=e,this.longDelay=n,ka(n>e,"Short delay should be less than long delay!"),this.isMobile=J8()||eB()}get(){return AF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function aE(t,e){ka(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class cP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RF=new _m(3e4,6e4);function sl(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xs(t,e,n,r,i={}){return uP(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=wm({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:d,...a};return Z8()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&il(t.emulatorConfig.host)&&(f.credentials="include"),cP.fetch()(await dP(t,t.config.apiHost,n,c),f)})}async function uP(t,e,n){t._canInitEmulator=!1;const r={...IF,...e};try{const i=new jF(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw _g(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _g(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw _g(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw _g(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw iE(t,p,f);Mi(t,p)}}catch(i){if(i instanceof Oi)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function Em(t,e,n,r,i={}){const a=await Xs(t,e,n,r,i);return"mfaPendingCredential"in a&&Mi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function dP(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?aE(t.config,i):`${t.config.apiScheme}://${i}`;return CF.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function kF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ns(this.auth,"network-request-failed")),RF.get())})}}function _g(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ns(t,e,r);return i.customData._tokenResponse=n,i}function GI(t){return t!==void 0&&t.enterprise!==void 0}class PF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DF(t,e){return Xs(t,"GET","/v2/recaptchaConfig",sl(t,e))}async function MF(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function Ty(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}function Tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OF(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=oE(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Tf(Nb(i.auth_time)),issuedAtTime:Tf(Nb(i.iat)),expirationTime:Tf(Nb(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nb(t){return Number(t)*1e3}function oE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hj(n);return i?JSON.parse(i):(Wg("Failed to decode base64 JWT payload"),null)}catch(i){return Wg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KI(t){const e=oE(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Oi&&VF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function VF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class LF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Aw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sy(t){const e=t.auth,n=await t.getIdToken(),r=await dc(t,Ty(e,{idToken:n}));Be(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?hP(i.providerUserInfo):[],l=BF(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,f=c?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Aw(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function UF(t){const e=dt(t);await Sy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function FF(t,e){const n=await uP(t,{},async()=>{const r=wm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await dP(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&il(t.emulatorConfig.host)&&(d.credentials="include"),cP.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zF(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",sl(t,e))}class Yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=KI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await FF(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Yu;return r&&(Be(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Be(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yu,this.toJSON())}_performRefresh(){return wa("not implemented")}}function To(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new LF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Aw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OF(this,e)}reload(){return UF(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Ia(this.auth));const e=await this.getIdToken();return await dc(this,MF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:_,providerData:T,stsTokenManager:S}=n;Be(g&&S,e,"internal-error");const I=Yu.fromJSON(this.name,S);Be(typeof g=="string",e,"internal-error"),To(r,e.name),To(i,e.name),Be(typeof b=="boolean",e,"internal-error"),Be(typeof _=="boolean",e,"internal-error"),To(a,e.name),To(l,e.name),To(c,e.name),To(d,e.name),To(f,e.name),To(p,e.name);const R=new Zi({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:I,createdAt:f,lastLoginAt:p});return T&&Array.isArray(T)&&(R.providerData=T.map(D=>({...D}))),d&&(R._redirectEventId=d),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Yu;i.updateFromServerResponse(n);const a=new Zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?hP(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new Yu;c.updateFromIdToken(r);const d=new Zi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Aw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}const WI=new Map;function _a(t){ka(t instanceof Function,"Expected a class definition");let e=WI.get(t);return e?(ka(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WI.set(t,e),e)}class fP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fP.type="NONE";const YI=fP;function Yg(t,e,n){return`firebase:${t}:${e}:${n}`}class Qu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Yg(this.userKey,i.apiKey,a),this.fullPersistenceKey=Yg("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ty(this.auth,{idToken:e}).catch(()=>{});return n?Zi._fromGetAccountInfoResponse(this.auth,n,e):null}return Zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qu(_a(YI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||_a(YI);const l=Yg(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let g;if(typeof p=="string"){const b=await Ty(e,{idToken:p}).catch(()=>{});if(!b)break;g=await Zi._fromGetAccountInfoResponse(e,b,p)}else g=Zi._fromJSON(e,p);f!==a&&(c=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Qu(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Qu(a,e,r))}}function QI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xP(e))return"Blackberry";if(bP(e))return"Webos";if(pP(e))return"Safari";if((e.includes("chrome/")||gP(e))&&!e.includes("edge/"))return"Chrome";if(vP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mP(t=jn()){return/firefox\//i.test(t)}function pP(t=jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gP(t=jn()){return/crios\//i.test(t)}function yP(t=jn()){return/iemobile/i.test(t)}function vP(t=jn()){return/android/i.test(t)}function xP(t=jn()){return/blackberry/i.test(t)}function bP(t=jn()){return/webos/i.test(t)}function lE(t=jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HF(t=jn()){return lE(t)&&!!window.navigator?.standalone}function $F(){return tB()&&document.documentMode===10}function wP(t=jn()){return lE(t)||vP(t)||bP(t)||xP(t)||/windows phone/i.test(t)||yP(t)}function _P(t,e=[]){let n;switch(t){case"Browser":n=QI(jn());break;case"Worker":n=`${QI(jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mc}/${r}`}class qF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function GF(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",sl(t,e))}const KF=6;class WF{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class YF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XI(this),this.idTokenSubscription=new XI(this),this.beforeStateQueue=new qF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_a(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ty(this,{idToken:e}),r=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sy(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Ia(this));const n=e?dt(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GF(this),n=new WF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zF(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_a(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await Qu.create(this,[_a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_P(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function al(t){return dt(t)}class XI{constructor(e){this.auth=e,this.observer=null,this.addObserver=oB(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let y0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(t){y0=t}function EP(t){return y0.loadJS(t)}function XF(){return y0.recaptchaEnterpriseScript}function JF(){return y0.gapiScript}function ZF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ez{constructor(){this.enterprise=new tz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nz="recaptcha-enterprise",TP="NO_RECAPTCHA";class rz{constructor(e){this.type=nz,this.auth=al(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{DF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new PF(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;GI(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(TP)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ez().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&GI(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=XF();d.length!==0&&(d+=c),EP(d).then(()=>{i(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function JI(t,e,n,r=!1,i=!1){const a=new rz(t);let l;if(i)l=TP;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Nw(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await JI(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await JI(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}function iz(t,e){const n=Qs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Pi(a,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function sz(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_a);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function az(t,e,n){const r=al(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=SP(e),{host:l,port:c}=oz(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(Pi(f,r.config.emulator)&&Pi(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,il(l)?(m0(`${a}//${l}${d}`),tE("Auth",!0)):lz()}function SP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oz(t){const e=SP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ZI(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:ZI(l)}}}function ZI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class cE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,n){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function cz(t,e){return Xs(t,"POST","/v1/accounts:update",e)}async function uz(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}async function dz(t,e){return Em(t,"POST","/v1/accounts:signInWithPassword",sl(t,e))}async function hz(t,e){return Em(t,"POST","/v1/accounts:signInWithEmailLink",sl(t,e))}async function fz(t,e){return Em(t,"POST","/v1/accounts:signInWithEmailLink",sl(t,e))}class zf extends cE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nw(e,n,"signInWithPassword",dz);case"emailLink":return hz(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nw(e,r,"signUpPassword",uz);case"emailLink":return fz(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xu(t,e){return Em(t,"POST","/v1/accounts:signInWithIdp",sl(t,e))}const mz="http://localhost";class hc extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new hc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Xu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xu(e,n)}buildRequest(){const e={requestUri:mz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wm(n)}return e}}function pz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gz(t){const e=pf(gf(t)).link,n=e?pf(gf(e)).deep_link_id:null,r=pf(gf(t)).deep_link_id;return(r?pf(gf(r)).link:null)||r||n||e||t}class uE{constructor(e){const n=pf(gf(e)),r=n.apiKey??null,i=n.oobCode??null,a=pz(n.mode??null);Be(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gz(e);try{return new uE(n)}catch{return null}}}class Dd{constructor(){this.providerId=Dd.PROVIDER_ID}static credential(e,n){return zf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uE.parseLink(n);return Be(r,"argument-error"),zf._fromEmailAndCode(e,r.code,r.tenantId)}}Dd.PROVIDER_ID="password";Dd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tm extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class jo extends Tm{constructor(){super("facebook.com")}static credential(e){return hc._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";jo.PROVIDER_ID="facebook.com";class ba extends Tm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hc._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ba.credential(n,r)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";class Po extends Tm{constructor(){super("github.com")}static credential(e){return hc._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com";Po.PROVIDER_ID="github.com";class Do extends Tm{constructor(){super("twitter.com")}static credential(e,n){return hc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Do.credential(n,r)}catch{return null}}}Do.TWITTER_SIGN_IN_METHOD="twitter.com";Do.PROVIDER_ID="twitter.com";async function yz(t,e){return Em(t,"POST","/v1/accounts:signUp",sl(t,e))}class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Zi._fromIdTokenResponse(e,r,i),l=eC(r);return new fc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eC(r);return new fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ay extends Oi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ay.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ay(e,n,r,i)}}function AP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ay._fromErrorAndOperation(t,a,e,r):a})}async function vz(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",r)}async function xz(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(Ia(r));const i="reauthenticate";try{const a=await dc(t,AP(r,i,e,t),n);Be(a.idToken,r,"internal-error");const l=oE(a.idToken);Be(l,r,"internal-error");const{sub:c}=l;return Be(t.uid===c,r,"user-mismatch"),fc._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),a}}async function NP(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ia(t));const r="signIn",i=await AP(t,r,e),a=await fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function bz(t,e){return NP(al(t),e)}async function IP(t){const e=al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wz(t,e,n){if(Cr(t.app))return Promise.reject(Ia(t));const r=al(t),l=await Nw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yz).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&IP(t),d}),c=await fc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function _z(t,e,n){return Cr(t.app)?Promise.reject(Ia(t)):bz(dt(t),Dd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IP(t),r})}async function Ez(t,e){return Xs(t,"POST","/v1/accounts:update",e)}async function CP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=dt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await dc(r,Ez(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Tz(t,e){return Sz(dt(t),null,e)}async function Sz(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const l=await dc(t,cz(r,a));await t._updateTokensIfNecessary(l,!0)}function Az(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function Nz(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Iz(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function Cz(t){return dt(t).signOut()}async function Rz(t){return dt(t).delete()}const Ny="__sak";class RP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ny,"1"),this.storage.removeItem(Ny),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kz=1e3,jz=10;class kP extends RP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);$F()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kP.type="LOCAL";const Pz=kP;class jP extends RP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jP.type="SESSION";const PP=jP;function Dz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class v0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new v0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,a)),d=await Dz(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v0.receivers=[];function hE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Mz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=hE("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Bs(){return window}function Oz(t){Bs().location.href=t}function DP(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function Vz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lz(){return navigator?.serviceWorker?.controller||null}function Uz(){return DP()?self:null}const MP="firebaseLocalStorageDb",Bz=1,Iy="firebaseLocalStorage",OP="fbase_key";class Sm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function x0(t,e){return t.transaction([Iy],e?"readwrite":"readonly").objectStore(Iy)}function Fz(){const t=indexedDB.deleteDatabase(MP);return new Sm(t).toPromise()}function Iw(){const t=indexedDB.open(MP,Bz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Iy,{keyPath:OP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Iy)?e(r):(r.close(),await Fz(),e(await Iw()))})})}async function tC(t,e,n){const r=x0(t,!0).put({[OP]:e,value:n});return new Sm(r).toPromise()}async function zz(t,e){const n=x0(t,!1).get(e),r=await new Sm(n).toPromise();return r===void 0?null:r.value}function nC(t,e){const n=x0(t,!0).delete(e);return new Sm(n).toPromise()}const Hz=800,$z=3;class VP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$z)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v0._getInstance(Uz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Vz(),!this.activeServiceWorker)return;this.sender=new Mz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iw();return await tC(e,Ny,"1"),await nC(e,Ny),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=x0(i,!1).getAll();return new Sm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VP.type="LOCAL";const qz=VP;new _m(3e4,6e4);function LP(t,e){return e?_a(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class fE extends cE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gz(t){return NP(t.auth,new fE(t),t.bypassAuthState)}function Kz(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),xz(n,new fE(t),t.bypassAuthState)}async function Wz(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),vz(n,new fE(t),t.bypassAuthState)}class UP{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gz;case"linkViaPopup":case"linkViaRedirect":return Wz;case"reauthViaPopup":case"reauthViaRedirect":return Kz;default:Mi(this.auth,"internal-error")}}resolve(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yz=new _m(2e3,1e4);async function Qz(t,e,n){if(Cr(t.app))return Promise.reject(ns(t,"operation-not-supported-in-this-environment"));const r=al(t);TF(t,e,dE);const i=LP(r,n);return new Zl(r,"signInViaPopup",e,i).executeNotNull()}class Zl extends UP{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){ka(this.filter.length===1,"Popup operations only handle one event");const e=hE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yz.get())};e()}}Zl.currentPopupAction=null;const Xz="pendingRedirect",Qg=new Map;class Jz extends UP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qg.get(this.auth._key());if(!e){try{const r=await Zz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qg.set(this.auth._key(),e)}return this.bypassAuthState||Qg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zz(t,e){const n=n7(e),r=t7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function e7(t,e){Qg.set(t._key(),e)}function t7(t){return _a(t._redirectPersistence)}function n7(t){return Yg(Xz,t.config.apiKey,t.name)}async function r7(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ia(t));const r=al(t),i=LP(r,e),l=await new Jz(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const i7=600*1e3;class s7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!BP(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i7&&this.cachedEventUids.clear(),this.cachedEventUids.has(rC(e))}saveEventToCache(e){this.cachedEventUids.add(rC(e)),this.lastProcessedEventTime=Date.now()}}function rC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BP({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function a7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BP(t);default:return!1}}async function o7(t,e={}){return Xs(t,"GET","/v1/projects",e)}const l7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c7=/^https?/;async function u7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o7(t);for(const n of e)try{if(d7(n))return}catch{}Mi(t,"unauthorized-domain")}function d7(t){const e=Sw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!c7.test(n))return!1;if(l7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const h7=new _m(3e4,6e4);function iC(){const t=Bs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f7(t){return new Promise((e,n)=>{function r(){iC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iC(),n(ns(t,"network-request-failed"))},timeout:h7.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)r();else{const i=ZF("iframefcb");return Bs()[i]=()=>{gapi.load?r():n(ns(t,"network-request-failed"))},EP(`${JF()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw Xg=null,e})}let Xg=null;function m7(t){return Xg=Xg||f7(t),Xg}const p7=new _m(5e3,15e3),g7="__/auth/iframe",y7="emulator/auth/iframe",v7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b7(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aE(e,y7):`https://${t.config.authDomain}/${g7}`,r={apiKey:e.apiKey,appName:t.name,v:Mc},i=x7.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wm(r).slice(1)}`}async function w7(t){const e=await m7(t),n=Bs().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:b7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v7,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ns(t,"network-request-failed"),c=Bs().setTimeout(()=>{a(l)},p7.get());function d(){Bs().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(l)})}))}const _7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E7=500,T7=600,S7="_blank",A7="http://localhost";class sC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N7(t,e,n,r=E7,i=T7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={..._7,width:r.toString(),height:i.toString(),top:a,left:l},f=jn().toLowerCase();n&&(c=gP(f)?S7:n),mP(f)&&(e=e||A7,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[_,T])=>`${b}${_}=${T},`,"");if(HF(f)&&c!=="_self")return I7(e||"",c),new sC(null);const g=window.open(e||"",c,p);Be(g,t,"popup-blocked");try{g.focus()}catch{}return new sC(g)}function I7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const C7="__/auth/handler",R7="emulator/auth/handler",k7=encodeURIComponent("fac");async function aC(t,e,n,r,i,a){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mc,eventId:i};if(e instanceof dE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",aB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Tm){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${k7}=${encodeURIComponent(d)}`:"";return`${j7(t)}?${wm(c).slice(1)}${f}`}function j7({config:t}){return t.emulator?aE(t,R7):`https://${t.authDomain}/${C7}`}const Ib="webStorageSupport";class P7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PP,this._completeRedirectFn=r7,this._overrideRedirectResult=e7}async _openPopup(e,n,r,i){ka(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await aC(e,n,r,Sw(),i);return N7(e,a,hE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await aC(e,n,r,Sw(),i);return Oz(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ka(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await w7(e),r=new s7(e);return n.register("authEvent",i=>(Be(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ib,{type:Ib},i=>{const a=i?.[0]?.[Ib];a!==void 0&&n(!!a),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wP()||pP()||lE()}}const D7=P7;var oC="@firebase/auth",lC="1.11.1";class M7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V7(t){ss(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_P(t)},f=new YF(r,i,a,d);return sz(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ss(new Di("auth-internal",e=>{const n=al(e.getProvider("auth").getImmediate());return(r=>new M7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(oC,lC,O7(t)),Or(oC,lC,"esm2020")}const L7=300,U7=Wj("authIdTokenMaxAge")||L7;let cC=null;const B7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>U7)return;const i=n?.token;cC!==i&&(cC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function F7(t=g0()){const e=Qs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iz(t,{popupRedirectResolver:D7,persistence:[qz,Pz,PP]}),r=Wj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=B7(a.toString());Nz(n,l,()=>l(n.currentUser)),Az(n,c=>l(c))}}const i=qj("auth");return i&&az(n,`http://${i}`),n}function z7(){return document.getElementsByTagName("head")?.[0]??document}QF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ns("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V7("Browser");var uC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fo,FP;(function(){var t;function e(k,C){function O(){}O.prototype=C.prototype,k.F=C.prototype,k.prototype=new O,k.prototype.constructor=k,k.D=function(U,L,H){for(var V=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)V[Ee-2]=arguments[Ee];return C.prototype[L].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,O){O||(O=0);const U=Array(16);if(typeof C=="string")for(var L=0;L<16;++L)U[L]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(L=0;L<16;++L)U[L]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=k.g[0],O=k.g[1],L=k.g[2];let H=k.g[3],V;V=C+(H^O&(L^H))+U[0]+3614090360&4294967295,C=O+(V<<7&4294967295|V>>>25),V=H+(L^C&(O^L))+U[1]+3905402710&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(O^H&(C^O))+U[2]+606105819&4294967295,L=H+(V<<17&4294967295|V>>>15),V=O+(C^L&(H^C))+U[3]+3250441966&4294967295,O=L+(V<<22&4294967295|V>>>10),V=C+(H^O&(L^H))+U[4]+4118548399&4294967295,C=O+(V<<7&4294967295|V>>>25),V=H+(L^C&(O^L))+U[5]+1200080426&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(O^H&(C^O))+U[6]+2821735955&4294967295,L=H+(V<<17&4294967295|V>>>15),V=O+(C^L&(H^C))+U[7]+4249261313&4294967295,O=L+(V<<22&4294967295|V>>>10),V=C+(H^O&(L^H))+U[8]+1770035416&4294967295,C=O+(V<<7&4294967295|V>>>25),V=H+(L^C&(O^L))+U[9]+2336552879&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(O^H&(C^O))+U[10]+4294925233&4294967295,L=H+(V<<17&4294967295|V>>>15),V=O+(C^L&(H^C))+U[11]+2304563134&4294967295,O=L+(V<<22&4294967295|V>>>10),V=C+(H^O&(L^H))+U[12]+1804603682&4294967295,C=O+(V<<7&4294967295|V>>>25),V=H+(L^C&(O^L))+U[13]+4254626195&4294967295,H=C+(V<<12&4294967295|V>>>20),V=L+(O^H&(C^O))+U[14]+2792965006&4294967295,L=H+(V<<17&4294967295|V>>>15),V=O+(C^L&(H^C))+U[15]+1236535329&4294967295,O=L+(V<<22&4294967295|V>>>10),V=C+(L^H&(O^L))+U[1]+4129170786&4294967295,C=O+(V<<5&4294967295|V>>>27),V=H+(O^L&(C^O))+U[6]+3225465664&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^O&(H^C))+U[11]+643717713&4294967295,L=H+(V<<14&4294967295|V>>>18),V=O+(H^C&(L^H))+U[0]+3921069994&4294967295,O=L+(V<<20&4294967295|V>>>12),V=C+(L^H&(O^L))+U[5]+3593408605&4294967295,C=O+(V<<5&4294967295|V>>>27),V=H+(O^L&(C^O))+U[10]+38016083&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^O&(H^C))+U[15]+3634488961&4294967295,L=H+(V<<14&4294967295|V>>>18),V=O+(H^C&(L^H))+U[4]+3889429448&4294967295,O=L+(V<<20&4294967295|V>>>12),V=C+(L^H&(O^L))+U[9]+568446438&4294967295,C=O+(V<<5&4294967295|V>>>27),V=H+(O^L&(C^O))+U[14]+3275163606&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^O&(H^C))+U[3]+4107603335&4294967295,L=H+(V<<14&4294967295|V>>>18),V=O+(H^C&(L^H))+U[8]+1163531501&4294967295,O=L+(V<<20&4294967295|V>>>12),V=C+(L^H&(O^L))+U[13]+2850285829&4294967295,C=O+(V<<5&4294967295|V>>>27),V=H+(O^L&(C^O))+U[2]+4243563512&4294967295,H=C+(V<<9&4294967295|V>>>23),V=L+(C^O&(H^C))+U[7]+1735328473&4294967295,L=H+(V<<14&4294967295|V>>>18),V=O+(H^C&(L^H))+U[12]+2368359562&4294967295,O=L+(V<<20&4294967295|V>>>12),V=C+(O^L^H)+U[5]+4294588738&4294967295,C=O+(V<<4&4294967295|V>>>28),V=H+(C^O^L)+U[8]+2272392833&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^O)+U[11]+1839030562&4294967295,L=H+(V<<16&4294967295|V>>>16),V=O+(L^H^C)+U[14]+4259657740&4294967295,O=L+(V<<23&4294967295|V>>>9),V=C+(O^L^H)+U[1]+2763975236&4294967295,C=O+(V<<4&4294967295|V>>>28),V=H+(C^O^L)+U[4]+1272893353&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^O)+U[7]+4139469664&4294967295,L=H+(V<<16&4294967295|V>>>16),V=O+(L^H^C)+U[10]+3200236656&4294967295,O=L+(V<<23&4294967295|V>>>9),V=C+(O^L^H)+U[13]+681279174&4294967295,C=O+(V<<4&4294967295|V>>>28),V=H+(C^O^L)+U[0]+3936430074&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^O)+U[3]+3572445317&4294967295,L=H+(V<<16&4294967295|V>>>16),V=O+(L^H^C)+U[6]+76029189&4294967295,O=L+(V<<23&4294967295|V>>>9),V=C+(O^L^H)+U[9]+3654602809&4294967295,C=O+(V<<4&4294967295|V>>>28),V=H+(C^O^L)+U[12]+3873151461&4294967295,H=C+(V<<11&4294967295|V>>>21),V=L+(H^C^O)+U[15]+530742520&4294967295,L=H+(V<<16&4294967295|V>>>16),V=O+(L^H^C)+U[2]+3299628645&4294967295,O=L+(V<<23&4294967295|V>>>9),V=C+(L^(O|~H))+U[0]+4096336452&4294967295,C=O+(V<<6&4294967295|V>>>26),V=H+(O^(C|~L))+U[7]+1126891415&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~O))+U[14]+2878612391&4294967295,L=H+(V<<15&4294967295|V>>>17),V=O+(H^(L|~C))+U[5]+4237533241&4294967295,O=L+(V<<21&4294967295|V>>>11),V=C+(L^(O|~H))+U[12]+1700485571&4294967295,C=O+(V<<6&4294967295|V>>>26),V=H+(O^(C|~L))+U[3]+2399980690&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~O))+U[10]+4293915773&4294967295,L=H+(V<<15&4294967295|V>>>17),V=O+(H^(L|~C))+U[1]+2240044497&4294967295,O=L+(V<<21&4294967295|V>>>11),V=C+(L^(O|~H))+U[8]+1873313359&4294967295,C=O+(V<<6&4294967295|V>>>26),V=H+(O^(C|~L))+U[15]+4264355552&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~O))+U[6]+2734768916&4294967295,L=H+(V<<15&4294967295|V>>>17),V=O+(H^(L|~C))+U[13]+1309151649&4294967295,O=L+(V<<21&4294967295|V>>>11),V=C+(L^(O|~H))+U[4]+4149444226&4294967295,C=O+(V<<6&4294967295|V>>>26),V=H+(O^(C|~L))+U[11]+3174756917&4294967295,H=C+(V<<10&4294967295|V>>>22),V=L+(C^(H|~O))+U[2]+718787259&4294967295,L=H+(V<<15&4294967295|V>>>17),V=O+(H^(L|~C))+U[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+H&4294967295}r.prototype.v=function(k,C){C===void 0&&(C=k.length);const O=C-this.blockSize,U=this.C;let L=this.h,H=0;for(;H<C;){if(L==0)for(;H<=O;)i(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<C;)if(U[L++]=k.charCodeAt(H++),L==this.blockSize){i(this,U),L=0;break}}else for(;H<C;)if(U[L++]=k[H++],L==this.blockSize){i(this,U),L=0;break}}this.h=L,this.o+=C},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var O=k.length-8;O<k.length;++O)k[O]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,O=0;O<4;++O)for(let U=0;U<32;U+=8)k[C++]=this.g[O]>>>U&255;return k};function a(k,C){var O=c;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=C(k)}function l(k,C){this.h=C;const O=[];let U=!0;for(let L=k.length-1;L>=0;L--){const H=k[L]|0;U&&H==C||(O[L]=H,U=!1)}this.g=O}var c={};function d(k){return-128<=k&&k<128?a(k,function(C){return new l([C|0],C<0?-1:0)}):new l([k|0],k<0?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return I(f(-k));const C=[];let O=1;for(let U=0;k>=O;U++)C[U]=k/O|0,O*=4294967296;return new l(C,0)}function p(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return I(p(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=f(Math.pow(C,8));let U=g;for(let H=0;H<k.length;H+=8){var L=Math.min(8,k.length-H);const V=parseInt(k.substring(H,H+L),C);L<8?(L=f(Math.pow(C,L)),U=U.j(L).add(f(V))):(U=U.j(O),U=U.add(f(V)))}return U}var g=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-I(this).m();let k=0,C=1;for(let O=0;O<this.g.length;O++){const U=this.i(O);k+=(U>=0?U:4294967296+U)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(S(this))return"-"+I(this).toString(k);const C=f(Math.pow(k,6));var O=this;let U="";for(;;){const L=z(O,C).g;O=R(O,L.j(C));let H=((O.g.length>0?O.g[0]:O.h)>>>0).toString(k);if(O=L,T(O))return H+U;for(;H.length<6;)H="0"+H;U=H+U}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=R(this,k),S(k)?-1:T(k)?0:1};function I(k){const C=k.g.length,O=[];for(let U=0;U<C;U++)O[U]=~k.g[U];return new l(O,~k.h).add(b)}t.abs=function(){return S(this)?I(this):this},t.add=function(k){const C=Math.max(this.g.length,k.g.length),O=[];let U=0;for(let L=0;L<=C;L++){let H=U+(this.i(L)&65535)+(k.i(L)&65535),V=(H>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);U=V>>>16,H&=65535,V&=65535,O[L]=V<<16|H}return new l(O,O[O.length-1]&-2147483648?-1:0)};function R(k,C){return k.add(I(C))}t.j=function(k){if(T(this)||T(k))return g;if(S(this))return S(k)?I(this).j(I(k)):I(I(this).j(k));if(S(k))return I(this.j(I(k)));if(this.l(_)<0&&k.l(_)<0)return f(this.m()*k.m());const C=this.g.length+k.g.length,O=[];for(var U=0;U<2*C;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<k.g.length;L++){const H=this.i(U)>>>16,V=this.i(U)&65535,Ee=k.i(L)>>>16,ke=k.i(L)&65535;O[2*U+2*L]+=V*ke,D(O,2*U+2*L),O[2*U+2*L+1]+=H*ke,D(O,2*U+2*L+1),O[2*U+2*L+1]+=V*Ee,D(O,2*U+2*L+1),O[2*U+2*L+2]+=H*Ee,D(O,2*U+2*L+2)}for(k=0;k<C;k++)O[k]=O[2*k+1]<<16|O[2*k];for(k=C;k<2*C;k++)O[k]=0;return new l(O,0)};function D(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function j(k,C){this.g=k,this.h=C}function z(k,C){if(T(C))throw Error("division by zero");if(T(k))return new j(g,g);if(S(k))return C=z(I(k),C),new j(I(C.g),I(C.h));if(S(C))return C=z(k,I(C)),new j(I(C.g),C.h);if(k.g.length>30){if(S(k)||S(C))throw Error("slowDivide_ only works with positive integers.");for(var O=b,U=C;U.l(k)<=0;)O=$(O),U=$(U);var L=Y(O,1),H=Y(U,1);for(U=Y(U,2),O=Y(O,2);!T(U);){var V=H.add(U);V.l(k)<=0&&(L=L.add(O),H=V),U=Y(U,1),O=Y(O,1)}return C=R(k,L.j(C)),new j(L,C)}for(L=g;k.l(C)>=0;){for(O=Math.max(1,Math.floor(k.m()/C.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),H=f(O),V=H.j(C);S(V)||V.l(k)>0;)O-=U,H=f(O),V=H.j(C);T(H)&&(H=b),L=L.add(H),k=R(k,V)}return new j(L,k)}t.B=function(k){return z(this,k).h},t.and=function(k){const C=Math.max(this.g.length,k.g.length),O=[];for(let U=0;U<C;U++)O[U]=this.i(U)&k.i(U);return new l(O,this.h&k.h)},t.or=function(k){const C=Math.max(this.g.length,k.g.length),O=[];for(let U=0;U<C;U++)O[U]=this.i(U)|k.i(U);return new l(O,this.h|k.h)},t.xor=function(k){const C=Math.max(this.g.length,k.g.length),O=[];for(let U=0;U<C;U++)O[U]=this.i(U)^k.i(U);return new l(O,this.h^k.h)};function $(k){const C=k.g.length+1,O=[];for(let U=0;U<C;U++)O[U]=k.i(U)<<1|k.i(U-1)>>>31;return new l(O,k.h)}function Y(k,C){const O=C>>5;C%=32;const U=k.g.length-O,L=[];for(let H=0;H<U;H++)L[H]=C>0?k.i(H+O)>>>C|k.i(H+O+1)<<32-C:k.i(H+O);return new l(L,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,FP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Fo=l}).apply(typeof uC<"u"?uC:typeof self<"u"?self:typeof window<"u"?window:{});var Eg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zP,yf,HP,Jg,Cw,$P,qP,GP;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eg=="object"&&Eg];for(var E=0;E<y.length;++E){var N=y[E];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(y,E){if(E)e:{var N=r;y=y.split(".");for(var M=0;M<y.length-1;M++){var X=y[M];if(!(X in N))break e;N=N[X]}y=y[y.length-1],M=N[y],E=E(M),E!=M&&E!=null&&e(N,y,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(E){var N=[],M;for(M in E)Object.prototype.hasOwnProperty.call(E,M)&&N.push([M,E[M]]);return N}});var a=a||{},l=this||self;function c(y){var E=typeof y;return E=="object"&&y!=null||E=="function"}function d(y,E,N){return y.call.apply(y.bind,arguments)}function f(y,E,N){return f=d,f.apply(null,arguments)}function p(y,E){var N=Array.prototype.slice.call(arguments,1);return function(){var M=N.slice();return M.push.apply(M,arguments),y.apply(this,M)}}function g(y,E){function N(){}N.prototype=E.prototype,y.Z=E.prototype,y.prototype=new N,y.prototype.constructor=y,y.Ob=function(M,X,re){for(var ve=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ve[Ke-2]=arguments[Ke];return E.prototype[X].apply(M,ve)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function _(y){const E=y.length;if(E>0){const N=Array(E);for(let M=0;M<E;M++)N[M]=y[M];return N}return[]}function T(y,E){for(let M=1;M<arguments.length;M++){const X=arguments[M];var N=typeof X;if(N=N!="object"?N:X?Array.isArray(X)?"array":N:"null",N=="array"||N=="object"&&typeof X.length=="number"){N=y.length||0;const re=X.length||0;y.length=N+re;for(let ve=0;ve<re;ve++)y[N+ve]=X[ve]}else y.push(X)}}class S{constructor(E,N){this.i=E,this.j=N,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function I(y){l.setTimeout(()=>{throw y},0)}function R(){var y=k;let E=null;return y.g&&(E=y.g,y.g=y.g.next,y.g||(y.h=null),E.next=null),E}class D{constructor(){this.h=this.g=null}add(E,N){const M=j.get();M.set(E,N),this.h?this.h.next=M:this.g=M,this.h=M}}var j=new S(()=>new z,y=>y.reset());class z{constructor(){this.next=this.g=this.h=null}set(E,N){this.h=E,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Y=!1,k=new D,C=()=>{const y=Promise.resolve(void 0);$=()=>{y.then(O)}};function O(){for(var y;y=R();){try{y.h.call(y.g)}catch(N){I(N)}var E=j;E.j(y),E.h<100&&(E.h++,y.next=E.g,E.g=y)}Y=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,E){this.type=y,this.g=this.target=E,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,E=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const N=()=>{};l.addEventListener("test",N,E),l.removeEventListener("test",N,E)}catch{}return y})();function V(y){return/^[\s\xa0]*$/.test(y)}function Ee(y,E){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,E)}g(Ee,L),Ee.prototype.init=function(y,E){const N=this.type=y.type,M=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=E,E=y.relatedTarget,E||(N=="mouseover"?E=y.fromElement:N=="mouseout"&&(E=y.toElement)),this.relatedTarget=E,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),G=0;function te(y,E,N,M,X){this.listener=y,this.proxy=null,this.src=E,this.type=N,this.capture=!!M,this.ha=X,this.key=++G,this.da=this.fa=!1}function W(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function be(y,E,N){for(const M in y)E.call(N,y[M],M,y)}function Te(y,E){for(const N in y)E.call(void 0,y[N],N,y)}function F(y){const E={};for(const N in y)E[N]=y[N];return E}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(y,E){let N,M;for(let X=1;X<arguments.length;X++){M=arguments[X];for(N in M)y[N]=M[N];for(let re=0;re<ae.length;re++)N=ae[re],Object.prototype.hasOwnProperty.call(M,N)&&(y[N]=M[N])}}function ue(y){this.src=y,this.g={},this.h=0}ue.prototype.add=function(y,E,N,M,X){const re=y.toString();y=this.g[re],y||(y=this.g[re]=[],this.h++);const ve=Se(y,E,M,X);return ve>-1?(E=y[ve],N||(E.fa=!1)):(E=new te(E,this.src,re,!!M,X),E.fa=N,y.push(E)),E};function ge(y,E){const N=E.type;if(N in y.g){var M=y.g[N],X=Array.prototype.indexOf.call(M,E,void 0),re;(re=X>=0)&&Array.prototype.splice.call(M,X,1),re&&(W(E),y.g[N].length==0&&(delete y.g[N],y.h--))}}function Se(y,E,N,M){for(let X=0;X<y.length;++X){const re=y[X];if(!re.da&&re.listener==E&&re.capture==!!N&&re.ha==M)return X}return-1}var he="closure_lm_"+(Math.random()*1e6|0),we={};function De(y,E,N,M,X){if(Array.isArray(E)){for(let re=0;re<E.length;re++)De(y,E[re],N,M,X);return null}return N=hn(N),y&&y[ke]?y.J(E,N,c(M)?!!M.capture:!1,X):He(y,E,N,!1,M,X)}function He(y,E,N,M,X,re){if(!E)throw Error("Invalid event type");const ve=c(X)?!!X.capture:!!X;let Ke=Ve(y);if(Ke||(y[he]=Ke=new ue(y)),N=Ke.add(E,N,M,ve,re),N.proxy)return N;if(M=$e(),N.proxy=M,M.src=y,M.listener=N,y.addEventListener)H||(X=ve),X===void 0&&(X=!1),y.addEventListener(E.toString(),M,X);else if(y.attachEvent)y.attachEvent(zt(E.toString()),M);else if(y.addListener&&y.removeListener)y.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return N}function $e(){function y(N){return E.call(y.src,y.listener,N)}const E=zr;return y}function Qe(y,E,N,M,X){if(Array.isArray(E))for(var re=0;re<E.length;re++)Qe(y,E[re],N,M,X);else M=c(M)?!!M.capture:!!M,N=hn(N),y&&y[ke]?(y=y.i,re=String(E).toString(),re in y.g&&(E=y.g[re],N=Se(E,N,M,X),N>-1&&(W(E[N]),Array.prototype.splice.call(E,N,1),E.length==0&&(delete y.g[re],y.h--)))):y&&(y=Ve(y))&&(E=y.g[E.toString()],y=-1,E&&(y=Se(E,N,M,X)),(N=y>-1?E[y]:null)&&Qt(N))}function Qt(y){if(typeof y!="number"&&y&&!y.da){var E=y.src;if(E&&E[ke])ge(E.i,y);else{var N=y.type,M=y.proxy;E.removeEventListener?E.removeEventListener(N,M,y.capture):E.detachEvent?E.detachEvent(zt(N),M):E.addListener&&E.removeListener&&E.removeListener(M),(N=Ve(E))?(ge(N,y),N.h==0&&(N.src=null,E[he]=null)):W(y)}}}function zt(y){return y in we?we[y]:we[y]="on"+y}function zr(y,E){if(y.da)y=!0;else{E=new Ee(E,this);const N=y.listener,M=y.ha||y.src;y.fa&&Qt(y),y=N.call(M,E)}return y}function Ve(y){return y=y[he],y instanceof ue?y:null}var et="__closure_events_fn_"+(Math.random()*1e9>>>0);function hn(y){return typeof y=="function"?y:(y[et]||(y[et]=function(E){return y.handleEvent(E)}),y[et])}function Le(){U.call(this),this.i=new ue(this),this.M=this,this.G=null}g(Le,U),Le.prototype[ke]=!0,Le.prototype.removeEventListener=function(y,E,N,M){Qe(this,y,E,N,M)};function Xt(y,E){var N,M=y.G;if(M)for(N=[];M;M=M.G)N.push(M);if(y=y.M,M=E.type||E,typeof E=="string")E=new L(E,y);else if(E instanceof L)E.target=E.target||y;else{var X=E;E=new L(M,y),se(E,X)}X=!0;let re,ve;if(N)for(ve=N.length-1;ve>=0;ve--)re=E.g=N[ve],X=mi(re,M,!0,E)&&X;if(re=E.g=y,X=mi(re,M,!0,E)&&X,X=mi(re,M,!1,E)&&X,N)for(ve=0;ve<N.length;ve++)re=E.g=N[ve],X=mi(re,M,!1,E)&&X}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var y=this.i;for(const E in y.g){const N=y.g[E];for(let M=0;M<N.length;M++)W(N[M]);delete y.g[E],y.h--}}this.G=null},Le.prototype.J=function(y,E,N,M){return this.i.add(String(y),E,!1,N,M)},Le.prototype.K=function(y,E,N,M){return this.i.add(String(y),E,!0,N,M)};function mi(y,E,N,M){if(E=y.i.g[String(E)],!E)return!0;E=E.concat();let X=!0;for(let re=0;re<E.length;++re){const ve=E[re];if(ve&&!ve.da&&ve.capture==N){const Ke=ve.listener,an=ve.ha||ve.src;ve.fa&&ge(y.i,ve),X=Ke.call(an,M)!==!1&&X}}return X&&!M.defaultPrevented}function Sn(y,E){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(y,E||0)}function xr(y){y.g=Sn(()=>{y.g=null,y.i&&(y.i=!1,xr(y))},y.l);const E=y.h;y.h=null,y.m.apply(null,E)}class sn extends U{constructor(E,N){super(),this.m=E,this.l=N,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:xr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(y){U.call(this),this.h=y,this.g={}}g(Hr,U);var qn=[];function br(y){be(y.g,function(E,N){this.g.hasOwnProperty(N)&&Qt(E)},y),y.g={}}Hr.prototype.N=function(){Hr.Z.N.call(this),br(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=l.JSON.stringify,dr=l.JSON.parse,Mn=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function qa(){}function $r(){}var qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nn(){L.call(this,"d")}g(Nn,L);function hr(){L.call(this,"c")}g(hr,L);var Ht={},Fc=null;function ms(){return Fc=Fc||new Le}Ht.Ia="serverreachability";function Gr(y){L.call(this,Ht.Ia,y)}g(Gr,L);function pi(y){const E=ms();Xt(E,new Gr(E))}Ht.STAT_EVENT="statevent";function ea(y,E){L.call(this,Ht.STAT_EVENT,y),this.stat=E}g(ea,L);function Jt(y){const E=ms();Xt(E,new ea(E,y))}Ht.Ja="timingevent";function Kr(y,E){L.call(this,Ht.Ja,y),this.size=E}g(Kr,L);function Oe(y,E){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},E)}function yt(){this.g=!0}yt.prototype.ua=function(){this.g=!1};function fn(y,E,N,M,X,re){y.info(function(){if(y.g)if(re){var ve="",Ke=re.split("&");for(let pt=0;pt<Ke.length;pt++){var an=Ke[pt].split("=");if(an.length>1){const $t=an[0];an=an[1];const bi=$t.split("_");ve=bi.length>=2&&bi[1]=="type"?ve+($t+"="+an+"&"):ve+($t+"=redacted&")}}}else ve=null;else ve=re;return"XMLHTTP REQ ("+M+") [attempt "+X+"]: "+E+`
`+N+`
`+ve})}function On(y,E,N,M,X,re,ve){y.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+X+"]: "+E+`
`+N+`
`+re+" "+ve})}function fr(y,E,N,M){y.info(function(){return"XMLHTTP TEXT ("+E+"): "+rr(y,N)+(M?" "+M:"")})}function Mt(y,E){y.info(function(){return"TIMEOUT: "+E})}yt.prototype.info=function(){};function rr(y,E){if(!y.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(y=0;y<re.length;y++)if(Array.isArray(re[y])){var N=re[y];if(!(N.length<2)){var M=N[1];if(Array.isArray(M)&&!(M.length<1)){var X=M[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ve=1;ve<M.length;ve++)M[ve]=""}}}}return An(re)}catch{return E}}var gi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kn;function ps(){}g(ps,qa),ps.prototype.g=function(){return new XMLHttpRequest},Kn=new ps;function Wn(y){return encodeURIComponent(String(y))}function rh(y){var E=1;y=y.split(":");const N=[];for(;E>0&&y.length;)N.push(y.shift()),E--;return y.length&&N.push(y.join(":")),N}function Vi(y,E,N,M){this.j=y,this.i=E,this.l=N,this.S=M||1,this.V=new Hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}var mn={},Vn={};function gs(y,E,N){y.M=1,y.A=vl(gn(E)),y.u=N,y.R=!0,zc(y,null)}function zc(y,E){y.F=Date.now(),ys(y),y.B=gn(y.A);var N=y.B,M=y.S;Array.isArray(M)||(M=[String(M)]),Gc(N.i,"t",M),y.C=0,N=y.j.L,y.h=new Li,y.g=mp(y.j,N?E:null,!y.u),y.P>0&&(y.O=new sn(f(y.Y,y,y.g),y.P)),E=y.V,N=y.g,M=y.ba;var X="readystatechange";Array.isArray(X)||(X&&(qn[0]=X.toString()),X=qn);for(let re=0;re<X.length;re++){const ve=De(N,X[re],M||E.handleEvent,!1,E.h||E);if(!ve)break;E.g[ve.key]=ve}E=y.J?F(y.J):{},y.u?(y.v||(y.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,E)):(y.v="GET",y.g.ea(y.B,y.v,null,E)),pi(),fn(y.i,y.v,y.B,y.l,y.S,y.u)}Vi.prototype.ba=function(y){y=y.target;const E=this.O;E&&Fi(y)==3?E.j():this.Y(y)},Vi.prototype.Y=function(y){try{if(y==this.g)e:{const Ke=Fi(this.g),an=this.g.ya(),pt=this.g.ca();if(!(Ke<3)&&(Ke!=3||this.g&&(this.h.h||this.g.la()||Yn(this.g)))){this.K||Ke!=4||an==7||(an==8||pt<=0?pi(3):pi(2)),vs(this);var E=this.g.ca();this.X=E;var N=bv(this);if(this.o=E==200,On(this.i,this.v,this.B,this.l,this.S,Ke,E),this.o){if(this.U&&!this.L){t:{if(this.g){var M,X=this.g;if((M=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(M)){var re=M;break t}}re=null}if(y=re)fr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xs(this,y);else{this.o=!1,this.m=3,Jt(12),Wr(this),yi(this);break e}}if(this.R){y=!0;let $t;for(;!this.K&&this.C<N.length;)if($t=tp(this,N),$t==Vn){Ke==4&&(this.m=4,Jt(14),y=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if($t==mn){this.m=4,Jt(15),fr(this.i,this.l,N,"[Invalid Chunk]"),y=!1;break}else fr(this.i,this.l,$t,null),xs(this,$t);if(ep(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||N.length!=0||this.h.h||(this.m=1,Jt(16),y=!1),this.o=this.o&&y,!y)fr(this.i,this.l,N,"[Invalid Chunked Response]"),Wr(this),yi(this);else if(N.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),vh(ve),ve.P=!0,Jt(11))}}else fr(this.i,this.l,N,null),xs(this,N);Ke==4&&Wr(this),this.o&&!this.K&&(Ke==4?up(this.j,this):(this.o=!1,ys(this)))}else na(this.g),E==400&&N.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Wr(this),yi(this)}}}catch{}finally{}};function bv(y){if(!ep(y))return y.g.la();const E=Yn(y.g);if(E==="")return"";let N="";const M=E.length,X=Fi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Wr(y),yi(y),"";y.h.i=new l.TextDecoder}for(let re=0;re<M;re++)y.h.h=!0,N+=y.h.i.decode(E[re],{stream:!(X&&re==M-1)});return E.length=0,y.h.g+=N,y.C=0,y.h.g}function ep(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function tp(y,E){var N=y.C,M=E.indexOf(`
`,N);return M==-1?Vn:(N=Number(E.substring(N,M)),isNaN(N)?mn:(M+=1,M+N>E.length?Vn:(E=E.slice(M,M+N),y.C=M+N,E)))}Vi.prototype.cancel=function(){this.K=!0,Wr(this)};function ys(y){y.T=Date.now()+y.H,Hc(y,y.H)}function Hc(y,E){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Oe(f(y.aa,y),E)}function vs(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Vi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Mt(this.i,this.B),this.M!=2&&(pi(),Jt(17)),Wr(this),this.m=2,yi(this)):Hc(this,this.T-y)};function yi(y){y.j.I==0||y.K||up(y.j,y)}function Wr(y){vs(y);var E=y.O;E&&typeof E.dispose=="function"&&E.dispose(),y.O=null,br(y.V),y.g&&(E=y.g,y.g=null,E.abort(),E.dispose())}function xs(y,E){try{var N=y.j;if(N.I!=0&&(N.g==y||ws(N.h,y))){if(!y.L&&ws(N.h,y)&&N.I==3){try{var M=N.Ba.g.parse(E)}catch{M=null}if(Array.isArray(M)&&M.length==3){var X=M;if(X[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<y.F)Xc(N),Za(N);else break e;Sl(N),Jt(18)}}else N.xa=X[1],0<N.xa-N.K&&X[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Oe(f(N.Va,N),6e3));bs(N.h)<=1&&N.ta&&(N.ta=void 0)}else Ns(N,11)}else if((y.L||N.g==y)&&Xc(N),!V(E))for(X=N.Ba.g.parse(E),E=0;E<X.length;E++){let pt=X[E];const $t=pt[0];if(!($t<=N.K))if(N.K=$t,pt=pt[1],N.I==2)if(pt[0]=="c"){N.M=pt[1],N.ba=pt[2];const bi=pt[3];bi!=null&&(N.ka=bi,N.j.info("VER="+N.ka));const Is=pt[4];Is!=null&&(N.za=Is,N.j.info("SVER="+N.za));const zi=pt[5];zi!=null&&typeof zi=="number"&&zi>0&&(M=1.5*zi,N.O=M,N.j.info("backChannelRequestTimeoutMs_="+M)),M=N;const Hi=y.g;if(Hi){const Al=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Al){var re=M.h;re.g||Al.indexOf("spdy")==-1&&Al.indexOf("quic")==-1&&Al.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ah(re,re.h),re.h=null))}if(M.G){const Jc=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Jc&&(M.wa=Jc,bt(M.J,M.G,Jc))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-y.F,N.j.info("Handshake RTT: "+N.T+"ms")),M=N;var ve=y;if(M.na=fp(M,M.L?M.ba:null,M.W),ve.L){oh(M.h,ve);var Ke=ve,an=M.O;an&&(Ke.H=an),Ke.D&&(vs(Ke),ys(Ke)),M.g=ve}else lp(M);N.i.length>0&&As(N)}else pt[0]!="stop"&&pt[0]!="close"||Ns(N,7);else N.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Ns(N,7):gh(N):pt[0]!="noop"&&N.l&&N.l.qa(pt),N.A=0)}}pi(4)}catch{}}var pn=class{constructor(y,E){this.g=y,this.map=E}};function ih(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sh(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function bs(y){return y.h?1:y.g?y.g.size:0}function ws(y,E){return y.h?y.h==E:y.g?y.g.has(E):!1}function ah(y,E){y.g?y.g.add(E):y.h=E}function oh(y,E){y.h&&y.h==E?y.h=null:y.g&&y.g.has(E)&&y.g.delete(E)}ih.prototype.cancel=function(){if(this.i=lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function lh(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let E=y.i;for(const N of y.g.values())E=E.concat(N.G);return E}return _(y.i)}var np=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $c(y,E){if(y){y=y.split("&");for(let N=0;N<y.length;N++){const M=y[N].indexOf("=");let X,re=null;M>=0?(X=y[N].substring(0,M),re=y[N].substring(M+1)):X=y[N],E(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Yr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;y instanceof Yr?(this.l=y.l,Ln(this,y.j),this.o=y.o,this.g=y.g,Ga(this,y.u),this.h=y.h,ch(this,ap(y.i)),this.m=y.m):y&&(E=String(y).match(np))?(this.l=!1,Ln(this,E[1]||"",!0),this.o=_s(E[2]||""),this.g=_s(E[3]||"",!0),Ga(this,E[4]),this.h=_s(E[5]||"",!0),ch(this,E[6]||"",!0),this.m=_s(E[7]||"")):(this.l=!1,this.i=new Wa(null,this.l))}Yr.prototype.toString=function(){const y=[];var E=this.j;E&&y.push(xl(E,qc,!0),":");var N=this.g;return(N||E=="file")&&(y.push("//"),(E=this.o)&&y.push(xl(E,qc,!0),"@"),y.push(Wn(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&y.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&y.push("/"),y.push(xl(N,N.charAt(0)=="/"?uh:rp,!0))),(N=this.i.toString())&&y.push("?",N),(N=this.m)&&y.push("#",xl(N,ip)),y.join("")},Yr.prototype.resolve=function(y){const E=gn(this);let N=!!y.j;N?Ln(E,y.j):N=!!y.o,N?E.o=y.o:N=!!y.g,N?E.g=y.g:N=y.u!=null;var M=y.h;if(N)Ga(E,y.u);else if(N=!!y.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var X=E.h.lastIndexOf("/");X!=-1&&(M=E.h.slice(0,X+1)+M)}if(X=M,X==".."||X==".")M="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){M=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ve=0;ve<X.length;){const Ke=X[ve++];Ke=="."?M&&ve==X.length&&re.push(""):Ke==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),M&&ve==X.length&&re.push("")):(re.push(Ke),M=!0)}M=re.join("/")}else M=X}return N?E.h=M:N=y.i.toString()!=="",N?ch(E,ap(y.i)):N=!!y.m,N&&(E.m=y.m),E};function gn(y){return new Yr(y)}function Ln(y,E,N){y.j=N?_s(E,!0):E,y.j&&(y.j=y.j.replace(/:$/,""))}function Ga(y,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);y.u=E}else y.u=null}function ch(y,E,N){E instanceof Wa?(y.i=E,Kc(y.i,y.l)):(N||(E=xl(E,Ka)),y.i=new Wa(E,y.l))}function bt(y,E,N){y.i.set(E,N)}function vl(y){return bt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function _s(y,E){return y?E?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function xl(y,E,N){return typeof y=="string"?(y=encodeURI(y).replace(E,wr),N&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function wr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var qc=/[#\/\?@]/g,rp=/[#\?:]/g,uh=/[#\?]/g,Ka=/[#\?@]/g,ip=/#/g;function Wa(y,E){this.h=this.g=null,this.i=y||null,this.j=!!E}function _r(y){y.g||(y.g=new Map,y.h=0,y.i&&$c(y.i,function(E,N){y.add(decodeURIComponent(E.replace(/\+/g," ")),N)}))}t=Wa.prototype,t.add=function(y,E){_r(this),this.i=null,y=Ya(this,y);let N=this.g.get(y);return N||this.g.set(y,N=[]),N.push(E),this.h+=1,this};function sp(y,E){_r(y),E=Ya(y,E),y.g.has(E)&&(y.i=null,y.h-=y.g.get(E).length,y.g.delete(E))}function dh(y,E){return _r(y),E=Ya(y,E),y.g.has(E)}t.forEach=function(y,E){_r(this),this.g.forEach(function(N,M){N.forEach(function(X){y.call(E,X,M,this)},this)},this)};function hh(y,E){_r(y);let N=[];if(typeof E=="string")dh(y,E)&&(N=N.concat(y.g.get(Ya(y,E))));else for(y=Array.from(y.g.values()),E=0;E<y.length;E++)N=N.concat(y[E]);return N}t.set=function(y,E){return _r(this),this.i=null,y=Ya(this,y),dh(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[E]),this.h+=1,this},t.get=function(y,E){return y?(y=hh(this,y),y.length>0?String(y[0]):E):E};function Gc(y,E,N){sp(y,E),N.length>0&&(y.i=null,y.g.set(Ya(y,E),_(N)),y.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],E=Array.from(this.g.keys());for(let M=0;M<E.length;M++){var N=E[M];const X=Wn(N);N=hh(this,N);for(let re=0;re<N.length;re++){let ve=X;N[re]!==""&&(ve+="="+Wn(N[re])),y.push(ve)}}return this.i=y.join("&")};function ap(y){const E=new Wa;return E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),E}function Ya(y,E){return E=String(E),y.j&&(E=E.toLowerCase()),E}function Kc(y,E){E&&!y.j&&(_r(y),y.i=null,y.g.forEach(function(N,M){const X=M.toLowerCase();M!=X&&(sp(this,M),Gc(this,X,N))},y)),y.j=E}function Ui(y,E){const N=new yt;if(l.Image){const M=new Image;M.onload=p(vi,N,"TestLoadImage: loaded",!0,E,M),M.onerror=p(vi,N,"TestLoadImage: error",!1,E,M),M.onabort=p(vi,N,"TestLoadImage: abort",!1,E,M),M.ontimeout=p(vi,N,"TestLoadImage: timeout",!1,E,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=y}else E(!1)}function fh(y,E){const N=new yt,M=new AbortController,X=setTimeout(()=>{M.abort(),vi(N,"TestPingServer: timeout",!1,E)},1e4);fetch(y,{signal:M.signal}).then(re=>{clearTimeout(X),re.ok?vi(N,"TestPingServer: ok",!0,E):vi(N,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),vi(N,"TestPingServer: error",!1,E)})}function vi(y,E,N,M,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),M(N)}catch{}}function Qa(){this.g=new Mn}function Es(y){this.i=y.Sb||null,this.h=y.ab||!1}g(Es,qa),Es.prototype.g=function(){return new bl(this.i,this.h)};function bl(y,E){Le.call(this),this.H=y,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(bl,Le),t=bl.prototype,t.open=function(y,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=E,this.readyState=1,Bi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(E.body=y),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xa(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var E=y.value?y.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!y.done}))&&(this.response=this.responseText+=E)}y.done?Xa(this):Bi(this),this.readyState==3&&Wc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Xa(this))},t.Na=function(y){this.g&&(this.response=y,Xa(this))},t.ga=function(){this.g&&Xa(this)};function Xa(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Bi(y)}t.setRequestHeader=function(y,E){this.A.append(y,E)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],E=this.h.entries();for(var N=E.next();!N.done;)N=N.value,y.push(N[0]+": "+N[1]),N=E.next();return y.join(`\r
`)};function Bi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function xi(y){let E="";return be(y,function(N,M){E+=M,E+=":",E+=N,E+=`\r
`}),E}function wl(y,E,N){e:{for(M in N){var M=!1;break e}M=!0}M||(N=xi(N),typeof y=="string"?N!=null&&Wn(N):bt(y,E,N))}function At(y){Le.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(At,Le);var Ts=/^https?$/i,mh=["POST","PUT"];t=At.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,E,N,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);E=E?E.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kn.g(),this.g.onreadystatechange=b(f(this.Ca,this));try{this.B=!0,this.g.open(E,String(y),!0),this.B=!1}catch(re){_l(this,re);return}if(y=N||"",N=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var X in M)N.set(X,M[X]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const re of M.keys())N.set(re,M.get(re));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(N.keys()).find(re=>re.toLowerCase()=="content-type"),X=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(mh,E,void 0)>=0)||M||X||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of N)this.g.setRequestHeader(re,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(re){_l(this,re)}};function _l(y,E){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=E,y.o=5,ph(y),ta(y)}function ph(y){y.A||(y.A=!0,Xt(y,"complete"),Xt(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,Xt(this,"complete"),Xt(this,"abort"),ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ta(this,!0)),At.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?El(this):this.Xa())},t.Xa=function(){El(this)};function El(y){if(y.h&&typeof a<"u"){if(y.v&&Fi(y)==4)setTimeout(y.Ca.bind(y),0);else if(Xt(y,"readystatechange"),Fi(y)==4){y.h=!1;try{const re=y.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var N;if(!(N=E)){var M;if(M=re===0){let ve=String(y.D).match(np)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),M=!Ts.test(ve?ve.toLowerCase():"")}N=M}if(N)Xt(y,"complete"),Xt(y,"success");else{y.o=6;try{var X=Fi(y)>2?y.g.statusText:""}catch{X=""}y.l=X+" ["+y.ca()+"]",ph(y)}}finally{ta(y)}}}}function ta(y,E){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const N=y.g;y.g=null,E||Xt(y,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var E=this.g.responseText;return y&&E.indexOf(y)==0&&(E=E.substring(y.length)),dr(E)}};function Yn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function na(y){const E={};y=(y.g&&Fi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<y.length;M++){if(V(y[M]))continue;var N=rh(y[M]);const X=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const re=E[X]||[];E[X]=re,re.push(N)}Te(E,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(y,E,N){return N&&N.internalChannelParams&&N.internalChannelParams[y]||E}function Ja(y){this.za=0,this.i=[],this.j=new yt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ss("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ss("baseRetryDelayMs",5e3,y),this.Za=Ss("retryDelaySeedMs",1e4,y),this.Ta=Ss("forwardChannelMaxRetries",2,y),this.va=Ss("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new ih(y&&y.concurrentRequestLimit),this.Ba=new Qa,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ja.prototype,t.ka=8,t.I=1,t.connect=function(y,E,N,M){Jt(0),this.W=y,this.H=E||{},N&&M!==void 0&&(this.H.OSID=N,this.H.OAID=M),this.F=this.X,this.J=fp(this,null,this.W),As(this)};function gh(y){if(Yc(y),y.I==3){var E=y.V++,N=gn(y.J);if(bt(N,"SID",y.M),bt(N,"RID",E),bt(N,"TYPE","terminate"),Tl(y,N),E=new Vi(y,y.j,E),E.M=2,E.A=vl(gn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=E.A,N=!0),N||(E.g=mp(E.j,null),E.g.ea(E.A)),E.F=Date.now(),ys(E)}hp(y)}function Za(y){y.g&&(vh(y),y.g.cancel(),y.g=null)}function Yc(y){Za(y),y.v&&(l.clearTimeout(y.v),y.v=null),Xc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function As(y){if(!sh(y.h)&&!y.m){y.m=!0;var E=y.Ea;$||C(),Y||($(),Y=!0),k.add(E,y),y.D=0}}function Qc(y,E){return bs(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=E.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Oe(f(y.Ea,y,E),dp(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const X=new Vi(this,this.j,y);let re=this.o;if(this.U&&(re?(re=F(re),se(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var E=0,N=0;N<this.i.length;N++){t:{var M=this.i[N];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(E+=M,E>4096){E=N;break e}if(E===4096||N===this.i.length-1){E=N+1;break e}}E=1e3}else E=1e3;E=op(this,X,E),N=gn(this.J),bt(N,"RID",y),bt(N,"CVER",22),this.G&&bt(N,"X-HTTP-Session-Id",this.G),Tl(this,N),re&&(this.R?E="headers="+Wn(xi(re))+"&"+E:this.u&&wl(N,this.u,re)),ah(this.h,X),this.Ra&&bt(N,"TYPE","init"),this.S?(bt(N,"$req",E),bt(N,"SID","null"),X.U=!0,gs(X,N,null)):gs(X,N,E),this.I=2}}else this.I==3&&(y?yh(this,y):this.i.length==0||sh(this.h)||yh(this))};function yh(y,E){var N;E?N=E.l:N=y.V++;const M=gn(y.J);bt(M,"SID",y.M),bt(M,"RID",N),bt(M,"AID",y.K),Tl(y,M),y.u&&y.o&&wl(M,y.u,y.o),N=new Vi(y,y.j,N,y.D+1),y.u===null&&(N.J=y.o),E&&(y.i=E.G.concat(y.i)),E=op(y,N,1e3),N.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),ah(y.h,N),gs(N,M,E)}function Tl(y,E){y.H&&be(y.H,function(N,M){bt(E,M,N)}),y.l&&be({},function(N,M){bt(E,M,N)})}function op(y,E,N){N=Math.min(y.i.length,N);const M=y.l?f(y.l.Ka,y.l,y):null;e:{var X=y.i;let Ke=-1;for(;;){const an=["count="+N];Ke==-1?N>0?(Ke=X[0].g,an.push("ofs="+Ke)):Ke=0:an.push("ofs="+Ke);let pt=!0;for(let $t=0;$t<N;$t++){var re=X[$t].g;const bi=X[$t].map;if(re-=Ke,re<0)Ke=Math.max(0,X[$t].g-100),pt=!1;else try{re="req"+re+"_"||"";try{var ve=bi instanceof Map?bi:Object.entries(bi);for(const[Is,zi]of ve){let Hi=zi;c(zi)&&(Hi=An(zi)),an.push(re+Is+"="+encodeURIComponent(Hi))}}catch(Is){throw an.push(re+"type="+encodeURIComponent("_badmap")),Is}}catch{M&&M(bi)}}if(pt){ve=an.join("&");break e}}ve=void 0}return y=y.i.splice(0,N),E.G=y,ve}function lp(y){if(!y.g&&!y.v){y.Y=1;var E=y.Da;$||C(),Y||($(),Y=!0),k.add(E,y),y.A=0}}function Sl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Oe(f(y.Da,y),dp(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,cp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Oe(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),Za(this),cp(this))};function vh(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function cp(y){y.g=new Vi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var E=gn(y.na);bt(E,"RID","rpc"),bt(E,"SID",y.M),bt(E,"AID",y.K),bt(E,"CI",y.F?"0":"1"),!y.F&&y.ia&&bt(E,"TO",y.ia),bt(E,"TYPE","xmlhttp"),Tl(y,E),y.u&&y.o&&wl(E,y.u,y.o),y.O&&(y.g.H=y.O);var N=y.g;y=y.ba,N.M=1,N.A=vl(gn(E)),N.u=null,N.R=!0,zc(N,y)}t.Va=function(){this.C!=null&&(this.C=null,Za(this),Sl(this),Jt(19))};function Xc(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function up(y,E){var N=null;if(y.g==E){Xc(y),vh(y),y.g=null;var M=2}else if(ws(y.h,E))N=E.G,oh(y.h,E),M=1;else return;if(y.I!=0){if(E.o)if(M==1){N=E.u?E.u.length:0,E=Date.now()-E.F;var X=y.D;M=ms(),Xt(M,new Kr(M,N)),As(y)}else lp(y);else if(X=E.m,X==3||X==0&&E.X>0||!(M==1&&Qc(y,E)||M==2&&Sl(y)))switch(N&&N.length>0&&(E=y.h,E.i=E.i.concat(N)),X){case 1:Ns(y,5);break;case 4:Ns(y,10);break;case 3:Ns(y,6);break;default:Ns(y,2)}}}function dp(y,E){let N=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(N*=2),N*E}function Ns(y,E){if(y.j.info("Error code "+E),E==2){var N=f(y.bb,y),M=y.Ua;const X=!M;M=new Yr(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(M,"https"),vl(M),X?Ui(M.toString(),N):fh(M.toString(),N)}else Jt(2);y.I=0,y.l&&y.l.pa(E),hp(y),Yc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function hp(y){if(y.I=0,y.ja=[],y.l){const E=lh(y.h);(E.length!=0||y.i.length!=0)&&(T(y.ja,E),T(y.ja,y.i),y.h.i.length=0,_(y.i),y.i.length=0),y.l.oa()}}function fp(y,E,N){var M=N instanceof Yr?gn(N):new Yr(N);if(M.g!="")E&&(M.g=E+"."+M.g),Ga(M,M.u);else{var X=l.location;M=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;const re=new Yr(null);M&&Ln(re,M),E&&(re.g=E),X&&Ga(re,X),N&&(re.h=N),M=re}return N=y.G,E=y.wa,N&&E&&bt(M,N,E),bt(M,"VER",y.ka),Tl(y,M),M}function mp(y,E,N){if(E&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=y.Aa&&!y.ma?new At(new Es({ab:N})):new At(y.ma),E.Fa(y.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pp(){}t=pp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eo(){}eo.prototype.g=function(y,E){return new mr(y,E)};function mr(y,E){Le.call(this),this.g=new Ja(E),this.l=y,this.h=E&&E.messageUrlParams||null,y=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(y?y["X-WebChannel-Content-Type"]=E.messageContentType:y={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(y?y["X-WebChannel-Client-Profile"]=E.sa:y={"X-WebChannel-Client-Profile":E.sa}),this.g.U=y,(y=E&&E.Qb)&&!V(y)&&(this.g.u=y),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.G=E,y=this.h,y!==null&&E in y&&(y=this.h,E in y&&delete y[E])),this.j=new ra(this)}g(mr,Le),mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){gh(this.g)},mr.prototype.o=function(y){var E=this.g;if(typeof y=="string"){var N={};N.__data__=y,y=N}else this.v&&(N={},N.__data__=An(y),y=N);E.i.push(new pn(E.Ya++,y)),E.I==3&&As(E)},mr.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,mr.Z.N.call(this)};function gp(y){Nn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var E=y.__sm__;if(E){e:{for(const N in E){y=N;break e}y=void 0}(this.i=y)&&(y=this.i,E=E!==null&&y in E?E[y]:void 0),this.data=E}else this.data=y}g(gp,Nn);function yp(){hr.call(this),this.status=1}g(yp,hr);function ra(y){this.g=y}g(ra,pp),ra.prototype.ra=function(){Xt(this.g,"a")},ra.prototype.qa=function(y){Xt(this.g,new gp(y))},ra.prototype.pa=function(y){Xt(this.g,new yp)},ra.prototype.oa=function(){Xt(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,GP=function(){return new eo},qP=function(){return ms()},$P=Ht,Cw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,Jg=gi,Gn.COMPLETE="complete",HP=Gn,$r.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",Le.prototype.listen=Le.prototype.J,yf=$r,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,zP=At}).apply(typeof Eg<"u"?Eg:typeof self<"u"?self:typeof window<"u"?window:{});const dC="@firebase/firestore",hC="4.9.2";let zn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let Md="12.3.0";const qo=new p0("@firebase/firestore");function Uu(){return qo.logLevel}function H7(t){qo.setLogLevel(t)}function fe(t,...e){if(qo.logLevel<=lt.DEBUG){const n=e.map(mE);qo.debug(`Firestore (${Md}): ${t}`,...n)}}function un(t,...e){if(qo.logLevel<=lt.ERROR){const n=e.map(mE);qo.error(`Firestore (${Md}): ${t}`,...n)}}function ci(t,...e){if(qo.logLevel<=lt.WARN){const n=e.map(mE);qo.warn(`Firestore (${Md}): ${t}`,...n)}}function mE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KP(t,r,n)}function KP(t,e,n){let r=`FIRESTORE (${Md}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw un(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KP(e,i,r)}function $7(t,e){t||_e(57014,e)}function xe(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $n{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class q7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class G7{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $n,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $n)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new WP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new zn(e)}}class K7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class Q7{getToken(){return Promise.resolve(new Rw(""))}invalidateToken(){}start(e,n){}shutdown(){}}function X7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class b0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X7(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function kw(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Cb(i)===Cb(a)?Fe(i,a):Cb(i)?1:-1}return Fe(t.length,e.length)}const J7=55296,Z7=57343;function Cb(t){const e=t.charCodeAt(0);return e>=J7&&e<=Z7}function id(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function QP(t){return t+"\0"}const jw="__name__";class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Ds.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Ds.isNumericId(e),i=Ds.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):kw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fo.fromString(e.substring(4,e.length-2))}}class nt extends Ds{construct(e,n,r){return new nt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const eH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Ds{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return eH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jw}static keyField(){return new Bt([jw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}function pE(t,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XP(t,e,n,r){if(e===!0&&r===!0)throw new ce(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fC(t){if(!ye.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mC(t){if(ye.isDocumentKey(t))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function w0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function rt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=w0(t);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ZP(t,e){if(e<=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function Oc(t,e){if(!JP(t))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}const pC=-62135596800,gC=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gC);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pC)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gC}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:En("string",vt._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new vt(0,0))}static max(){return new Pe(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sd=-1;class ad{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Pw(t){return t.fields.find((e=>e.kind===2))}function Gl(t){return t.fields.filter((e=>e.kind!==2))}function tH(t,e){let n=Fe(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=nH(t.fields[r],e.fields[r]),n!==0)return n;return Fe(t.fields.length,e.fields.length)}ad.UNKNOWN_ID=-1;class sc{constructor(e,n){this.fieldPath=e,this.kind=n}}function nH(t,e){const n=Bt.comparator(t.fieldPath,e.fieldPath);return n!==0?n:Fe(t.kind,e.kind)}class od{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new od(0,ui.min())}}function eD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new ui(i,ye.empty(),e)}function tD(t){return new ui(t.readTime,t.key,sd)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(Pe.min(),ye.empty(),sd)}static max(){return new ui(Pe.max(),ye.empty(),sd)}}function gE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==nD)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Q.reject(n)}static resolve(e){return new Q(((n,r)=>{n(e)}))}static reject(e){return new Q(((n,r)=>{r(e)}))}static waitFor(e){return new Q(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(d=>r(d)))})),l=!0,a===i&&n()}))}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next((i=>i?Q.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Q(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;n(e[f]).next((p=>{l[f]=p,++c,c===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Q(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}const ri="SimpleDb";class _0{static open(e,n,r,i){try{return new _0(n,e.transaction(i,r))}catch(a){throw new Sf(n,a)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new $n,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Sf(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=yE(r.target.error);this.S.reject(new Sf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(fe(ri,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new iH(n)}}class Fs{static delete(e){return fe(ri,"Removing database:",e),Yl($j().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!nE())return!1;if(Fs.F())return!0;const e=jn(),n=Fs.M(e),r=0<n&&n<10,i=iD(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Fs.M(jn())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(fe(ri,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const l=a.target.result;n(l)},i.onblocked=()=>{r(new Sf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const l=a.target.error;l.name==="VersionError"?r(new ce(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ce(ee.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new Sf(e,l))},i.onupgradeneeded=a=>{fe(ri,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const l=a.target.result;this.N.k(l,i.transaction,a.oldVersion,this.version).next((()=>{fe(ri,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const a=n==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=_0.open(this.db,e,a?"readonly":"readwrite",r),d=i(c).next((f=>(c.C(),f))).catch((f=>(c.abort(f),Q.reject(f)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,f=d.name!=="FirebaseError"&&l<3;if(fe(ri,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function iD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class rH{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Yl(this.U.delete())}}class Sf extends ce{constructor(e,n){super(ee.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ll(t){return t.name==="IndexedDbTransactionError"}class iH{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(fe(ri,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(fe(ri,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yl(r)}add(e){return fe(ri,"ADD",this.store.name,e,e),Yl(this.store.add(e))}get(e){return Yl(this.store.get(e)).next((n=>(n===void 0&&(n=null),fe(ri,"GET",this.store.name,e,n),n)))}delete(e){return fe(ri,"DELETE",this.store.name,e),Yl(this.store.delete(e))}count(){return fe(ri,"COUNT",this.store.name),Yl(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(r.range);return new Q(((l,c)=>{a.onerror=d=>{c(d.target.error)},a.onsuccess=d=>{l(d.target.result)}}))}{const a=this.cursor(r),l=[];return this.H(a,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q(((i,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{i(l.target.result)}}))}Z(e,n){fe(ri,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((a,l,c)=>c.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Q(((r,i)=>{n.onerror=a=>{const l=yE(a.target.error);i(l)},n.onsuccess=a=>{const l=a.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():r()})):r()}}))}H(e,n){const r=[];return new Q(((i,a)=>{e.onerror=l=>{a(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void i();const d=new rH(c),f=n(c.primaryKey,c.value,d);if(f instanceof Q){const p=f.catch((g=>(d.done(),Q.reject(g))));r.push(p)}d.isDone?i():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Q.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yl(t){return new Q(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=yE(r.target.error);n(i)}}))}let yC=!1;function yE(t){const e=Fs.M(jn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yC||(yC=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Af="IndexBackfiller";class sH{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){fe(Af,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();fe(Af,`Documents written: ${n}`)}catch(n){ll(n)?fe(Af,"Ignoring IndexedDB error during index backfill: ",n):await ol(n)}await this.re(6e4)}))}}class aH{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,a=!0;return Q.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!r.has(l))return fe(Af,`Processing collection: ${l}`),this.oe(e,l,i).next((c=>{i-=c,r.add(l)}));a=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((a=>{const l=a.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(i,a))).next((c=>(fe(Af,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c)))).next((()=>l.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,a)=>{const l=tD(a);gE(l,r)>0&&(r=l)})),new ui(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class kr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kr.ce=-1;const zo=-1;function Am(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function sD(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Cy="";function cr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vC(e)),e=oH(t.get(n),e);return vC(e)}function oH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Cy:n+="";break;default:n+=a}}return n}function vC(t){return t+Cy+""}function Vs(t){const e=t.length;if(Re(e>=2,64408,{path:t}),e===2)return Re(t.charAt(0)===Cy&&t.charAt(1)==="",56145,{path:t}),nt.emptyPath();const n=e-2,r=[];let i="";for(let a=0;a<e;){const l=t.indexOf(Cy,a);switch((l<0||l>n)&&_e(50515,{path:t}),t.charAt(l+1)){case"":const c=t.substring(a,l);let d;i.length===0?d=c:(i+=c,d=i,i=""),r.push(d);break;case"":i+=t.substring(a,l),i+="\0";break;case"":i+=t.substring(a,l+1);break;default:_e(61167,{path:t})}a=l+2}return new nt(r)}const Kl="remoteDocuments",Nm="owner",Iu="owner",$f="mutationQueues",lH="userId",Qi="mutations",xC="batchId",ec="userMutationsIndex",bC=["userId","batchId"];function Zg(t,e){return[t,cr(e)]}function aD(t,e,n){return[t,cr(e),n]}const cH={},ld="documentMutations",Ry="remoteDocumentsV14",uH=["prefixPath","collectionGroup","readTime","documentId"],ey="documentKeyIndex",dH=["prefixPath","collectionGroup","documentId"],oD="collectionGroupIndex",hH=["collectionGroup","readTime","prefixPath","documentId"],qf="remoteDocumentGlobal",Dw="remoteDocumentGlobalKey",cd="targets",lD="queryTargetsIndex",fH=["canonicalId","targetId"],ud="targetDocuments",mH=["targetId","path"],vE="documentTargetsIndex",pH=["path","targetId"],ky="targetGlobalKey",ac="targetGlobal",Gf="collectionParents",gH=["collectionId","parent"],dd="clientMetadata",yH="clientId",E0="bundles",vH="bundleId",T0="namedQueries",xH="name",xE="indexConfiguration",bH="indexId",Mw="collectionGroupIndex",wH="collectionGroup",Nf="indexState",_H=["indexId","uid"],cD="sequenceNumberIndex",EH=["uid","sequenceNumber"],If="indexEntries",TH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],uD="documentKeyIndex",SH=["indexId","uid","orderedDocumentKey"],S0="documentOverlays",AH=["userId","collectionPath","documentId"],Ow="collectionPathOverlayIndex",NH=["userId","collectionPath","largestBatchId"],dD="collectionGroupOverlayIndex",IH=["userId","collectionGroup","largestBatchId"],bE="globals",CH="name",hD=[$f,Qi,ld,Kl,cd,Nm,ac,ud,dd,qf,Gf,E0,T0],RH=[...hD,S0],fD=[$f,Qi,ld,Ry,cd,Nm,ac,ud,dd,qf,Gf,E0,T0,S0],mD=fD,wE=[...mD,xE,Nf,If],kH=wE,pD=[...wE,bE],jH=pD;class Vw extends rD{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Dn(t,e){const n=xe(t);return Fs.O(n.le,e)}function wC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gD(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function yD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Dt{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tg(this.root,e,this.comparator,!0)}}class Tg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=a??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new er(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class St{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _C(this.data.getIterator())}getIteratorFrom(e){return new _C(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class _C{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cu(t){return t.hasNext()?t.getNext():void 0}class jr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new jr([])}unionWith(e){let n=new St(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return id(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class vD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function PH(){return typeof atob<"u"}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vD("Invalid base64 string: "+a):a}})(e);return new en(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const DH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=DH.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pa(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}const xD="server_timestamp",bD="__type__",wD="__previous_value__",_D="__local_write_time__";function A0(t){return(t?.mapValue?.fields||{})[bD]?.stringValue===xD}function N0(t){const e=t.mapValue.fields[wD];return A0(e)?N0(e):e}function Kf(t){const e=ja(t.mapValue.fields[_D].timestampValue);return new vt(e.seconds,e.nanos)}class MH{constructor(e,n,r,i,a,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Wf="(default)";class Go{constructor(e,n){this.projectId=e,this.database=n||Wf}static empty(){return new Go("","")}get isDefaultDatabase(){return this.database===Wf}isEqual(e){return e instanceof Go&&e.projectId===this.projectId&&e.database===this.database}}const _E="__type__",ED="__max__",Vo={mapValue:{fields:{__type__:{stringValue:ED}}}},EE="__vector__",hd="value",ty={nullValue:"NULL_VALUE"};function Ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A0(t)?4:TD(t)?9007199254740991:I0(t)?10:11:_e(28295,{value:t})}function Gs(t,e){if(t===e)return!0;const n=Ko(t);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kf(t).isEqual(Kf(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ja(i.timestampValue),c=ja(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Pa(i.bytesValue).isEqual(Pa(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Gt(i.geoPointValue.latitude)===Gt(a.geoPointValue.latitude)&&Gt(i.geoPointValue.longitude)===Gt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Gt(i.integerValue)===Gt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Gt(i.doubleValue),c=Gt(a.doubleValue);return l===c?Hf(l)===Hf(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return id(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(wC(l)!==wC(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Gs(l[d],c[d])))return!1;return!0})(t,e);default:return _e(52216,{left:t})}}function Yf(t,e){return(t.values||[]).find((n=>Gs(n,e)))!==void 0}function Wo(t,e){if(t===e)return 0;const n=Ko(t),r=Ko(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Gt(a.integerValue||a.doubleValue),d=Gt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return EC(t.timestampValue,e.timestampValue);case 4:return EC(Kf(t),Kf(e));case 5:return kw(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=Pa(a),d=Pa(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=Fe(c[f],d[f]);if(p!==0)return p}return Fe(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Fe(Gt(a.latitude),Gt(l.latitude));return c!==0?c:Fe(Gt(a.longitude),Gt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TC(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},d=l.fields||{},f=c[hd]?.arrayValue,p=d[hd]?.arrayValue,g=Fe(f?.values?.length||0,p?.values?.length||0);return g!==0?g:TC(f,p)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Vo.mapValue&&l===Vo.mapValue)return 0;if(a===Vo.mapValue)return 1;if(l===Vo.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=kw(d[g],p[g]);if(b!==0)return b;const _=Wo(c[d[g]],f[p[g]]);if(_!==0)return _}return Fe(d.length,p.length)})(t.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function EC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=ja(t),r=ja(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function TC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Wo(n[i],r[i]);if(a)return a}return Fe(n.length,r.length)}function fd(t){return Lw(t)}function Lw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ja(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Pa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Lw(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Lw(n.fields[l])}`;return i+"}"})(t.mapValue):_e(61005,{value:t})}function ny(t){switch(Ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=N0(t);return e?16+ny(e):16;case 5:return 2*t.stringValue.length;case 6:return Pa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+ny(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return cl(r.fields,((a,l)=>{i+=a.length+ny(l)})),i})(t.mapValue);default:throw _e(13486,{value:t})}}function mc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Uw(t){return!!t&&"integerValue"in t}function Qf(t){return!!t&&"arrayValue"in t}function SC(t){return!!t&&"nullValue"in t}function AC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ry(t){return!!t&&"mapValue"in t}function I0(t){return(t?.mapValue?.fields||{})[_E]?.stringValue===EE}function Cf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Cf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cf(t.arrayValue.values[n]);return e}return{...t}}function TD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ED}const SD={mapValue:{fields:{[_E]:{stringValue:EE},[hd]:{arrayValue:{}}}}};function OH(t){return"nullValue"in t?ty:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?mc(Go.empty(),ye.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?I0(t)?SD:{mapValue:{}}:_e(35942,{value:t})}function VH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?mc(Go.empty(),ye.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?SD:"mapValue"in t?I0(t)?{mapValue:{}}:Vo:_e(61959,{value:t})}function NC(t,e){const n=Wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function IC(t,e){const n=Wo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ry(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Cf(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ry(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ry(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new nr(Cf(this.value))}}function AD(t){const e=[];return cl(t.fields,((n,r)=>{const i=new Bt([n]);if(ry(r)){const a=AD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new jr(e)}class Lt{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Lt(e,0,Pe.min(),Pe.min(),Pe.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new Lt(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new Lt(e,2,n,Pe.min(),Pe.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,Pe.min(),Pe.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yo{constructor(e,n){this.position=e,this.inclusive=n}}function CC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),n.key):r=Wo(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function RC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}class Xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function LH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class ND{}class ct extends ND{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UH(e,n,r):n==="array-contains"?new zH(e,r):n==="in"?new PD(e,r):n==="not-in"?new HH(e,r):n==="array-contains-any"?new $H(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BH(e,r):new FH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&Ko(this.value)===Ko(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Et extends ND{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Et(e,n)}matches(e){return md(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function md(t){return t.op==="and"}function Bw(t){return t.op==="or"}function TE(t){return ID(t)&&md(t)}function ID(t){for(const e of t.filters)if(e instanceof Et)return!1;return!0}function Fw(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+fd(t.value);if(TE(t))return t.filters.map((e=>Fw(e))).join(",");{const e=t.filters.map((n=>Fw(n))).join(",");return`${t.op}(${e})`}}function CD(t,e){return t instanceof ct?(function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&Gs(r.value,i.value)})(t,e):t instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&CD(l,i.filters[c])),!0):!1})(t,e):void _e(19439)}function RD(t,e){const n=t.filters.concat(e);return Et.create(n,t.op)}function kD(t){return t instanceof ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${fd(n.value)}`})(t):t instanceof Et?(function(n){return n.op.toString()+" {"+n.getFilters().map(kD).join(" ,")+"}"})(t):"Filter"}class UH extends ct{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class BH extends ct{constructor(e,n){super(e,"in",n),this.keys=jD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FH extends ct{constructor(e,n){super(e,"not-in",n),this.keys=jD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jD(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class zH extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qf(n)&&Yf(n.arrayValue,this.value)}}class PD extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yf(this.value.arrayValue,n)}}class HH extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yf(this.value.arrayValue,n)}}class $H extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yf(this.value.arrayValue,r)))}}class qH{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function zw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new qH(t,e,n,r,i,a,l)}function pc(t){const e=xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Am(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fd(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fd(r))).join(",")),e.Te=n}return e.Te}function Im(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RC(t.startAt,e.startAt)&&RC(t.endAt,e.endAt)}function jy(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Py(t,e){return t.filters.filter((n=>n instanceof ct&&n.field.isEqual(e)))}function kC(t,e,n){let r=ty,i=!0;for(const a of Py(t,e)){let l=ty,c=!0;switch(a.op){case"<":case"<=":l=OH(a.value);break;case"==":case"in":case">=":l=a.value;break;case">":l=a.value,c=!1;break;case"!=":case"not-in":l=ty}NC({value:r,inclusive:i},{value:l,inclusive:c})<0&&(r=l,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];NC({value:r,inclusive:i},{value:l,inclusive:n.inclusive})<0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}function jC(t,e,n){let r=Vo,i=!0;for(const a of Py(t,e)){let l=Vo,c=!0;switch(a.op){case">=":case">":l=VH(a.value),c=!1;break;case"==":case"in":case"<=":l=a.value;break;case"<":l=a.value,c=!1;break;case"!=":case"not-in":l=Vo}IC({value:r,inclusive:i},{value:l,inclusive:c})>0&&(r=l,i=c)}if(n!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const l=n.position[a];IC({value:r,inclusive:i},{value:l,inclusive:n.inclusive})>0&&(r=l,i=n.inclusive);break}}return{value:r,inclusive:i}}class Ba{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DD(t,e,n,r,i,a,l,c){return new Ba(t,e,n,r,i,a,l,c)}function Od(t){return new Ba(t)}function PC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SE(t){return t.collectionGroup!==null}function Ju(t){const e=xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new St(Bt.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Xf(a,r))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new Xf(Bt.keyField(),r))}return e.Ie}function ur(t){const e=xe(t);return e.Ee||(e.Ee=OD(e,Ju(t))),e.Ee}function MD(t){const e=xe(t);return e.de||(e.de=OD(e,t.explicitOrderBy)),e.de}function OD(t,e){if(t.limitType==="F")return zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Xf(i.field,a)}));const n=t.endAt?new Yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yo(t.startAt.position,t.startAt.inclusive):null;return zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hw(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dy(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cm(t,e){return Im(ur(t),ur(e))&&t.limitType===e.limitType}function VD(t){return`${pc(ur(t))}|lt:${t.limitType}`}function Bu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>kD(i))).join(", ")}]`),Am(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>fd(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>fd(i))).join(",")),`Target(${r})`})(ur(t))}; limitType=${t.limitType})`}function Rm(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ju(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=CC(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Ju(r),i)||r.endAt&&!(function(l,c,d){const f=CC(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Ju(r),i))})(t,e)}function LD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UD(t){return(e,n)=>{let r=!1;for(const i of Ju(t)){const a=GH(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function GH(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?Wo(d,f):_e(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return yD(this.inner)}size(){return this.innerSize}}const KH=new Dt(ye.comparator);function Pr(){return KH}const BD=new Dt(ye.comparator);function vf(...t){let e=BD;for(const n of t)e=e.insert(n.key,n);return e}function FD(t){let e=BD;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ls(){return Rf()}function zD(){return Rf()}function Rf(){return new Fa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const WH=new Dt(ye.comparator),YH=new St(ye.comparator);function Ge(...t){let e=YH;for(const n of t)e=e.add(n);return e}const QH=new St(Fe);function AE(){return QH}function NE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function HD(t){return{integerValue:""+t}}function $D(t,e){return sD(e)?HD(e):NE(t,e)}class C0{constructor(){this._=void 0}}function XH(t,e,n){return t instanceof pd?(function(i,a){const l={fields:{[bD]:{stringValue:xD},[_D]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&A0(a)&&(a=N0(a)),a&&(l.fields[wD]=a),{mapValue:l}})(n,e):t instanceof gc?GD(t,e):t instanceof yc?KD(t,e):(function(i,a){const l=qD(i,a),c=DC(l)+DC(i.Ae);return Uw(l)&&Uw(i.Ae)?HD(c):NE(i.serializer,c)})(t,e)}function JH(t,e,n){return t instanceof gc?GD(t,e):t instanceof yc?KD(t,e):n}function qD(t,e){return t instanceof gd?(function(r){return Uw(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class pd extends C0{}class gc extends C0{constructor(e){super(),this.elements=e}}function GD(t,e){const n=WD(e);for(const r of t.elements)n.some((i=>Gs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class yc extends C0{constructor(e){super(),this.elements=e}}function KD(t,e){let n=WD(e);for(const r of t.elements)n=n.filter((i=>!Gs(i,r)));return{arrayValue:{values:n}}}class gd extends C0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function DC(t){return Gt(t.integerValue||t.doubleValue)}function WD(t){return Qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class km{constructor(e,n){this.field=e,this.transform=n}}function ZH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof gc&&i instanceof gc||r instanceof yc&&i instanceof yc?id(r.elements,i.elements,Gs):r instanceof gd&&i instanceof gd?Gs(r.Ae,i.Ae):r instanceof pd&&i instanceof pd})(t.transform,e.transform)}class e${constructor(e,n){this.version=e,this.transformResults=n}}class Kt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class R0{}function YD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ld(t.key,Kt.none()):new Vd(t.key,t.data,Kt.none());{const n=t.data,r=nr.empty();let i=new St(Bt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new za(t.key,r,new jr(i.toArray()),Kt.none())}}function t$(t,e,n){t instanceof Vd?(function(i,a,l){const c=i.value.clone(),d=OC(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof za?(function(i,a,l){if(!iy(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=OC(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(QD(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function kf(t,e,n,r){return t instanceof Vd?(function(a,l,c,d){if(!iy(a.precondition,l))return c;const f=a.value.clone(),p=VC(a.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof za?(function(a,l,c,d){if(!iy(a.precondition,l))return c;const f=VC(a.fieldTransforms,d,l),p=l.data;return p.setAll(QD(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,l,c){return iy(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function n$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=qD(r.transform,i||null);a!=null&&(n===null&&(n=nr.empty()),n.set(r.field,a))}return n||null}function MC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&id(r,i,((a,l)=>ZH(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vd extends R0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class za extends R0{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function OC(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,JH(l,c,n[i]))}return r}function VC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,XH(a,l,e))}return r}class Ld extends R0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IE extends R0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&t$(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zD();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const d=YD(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&id(this.mutations,e.mutations,((n,r)=>MC(n,r)))&&id(this.baseMutations,e.baseMutations,((n,r)=>MC(n,r)))}}class RE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return WH})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new RE(e,n,r,i)}}let kE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class XD{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class r${constructor(e,n){this.count=e,this.unchangedNames=n}}var wn,ht;function JD(t){switch(t){case ee.OK:return _e(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function ZD(t){if(t===void 0)return un("GRPC error has no .code"),ee.UNKNOWN;switch(t){case wn.OK:return ee.OK;case wn.CANCELLED:return ee.CANCELLED;case wn.UNKNOWN:return ee.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ee.INTERNAL;case wn.UNAVAILABLE:return ee.UNAVAILABLE;case wn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wn.NOT_FOUND:return ee.NOT_FOUND;case wn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wn.ABORTED:return ee.ABORTED;case wn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wn.DATA_LOSS:return ee.DATA_LOSS;default:return _e(39323,{code:t})}}(ht=wn||(wn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";let $w=null;function eM(){return new TextEncoder}const i$=new Fo([4294967295,4294967295],0);function LC(t){const e=eM().encode(t),n=new FP;return n.update(e),new Uint8Array(n.digest())}function UC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([i,a],0)]}class jE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xf(`Invalid padding: ${n}`);if(r<0)throw new xf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Fo.fromNumber(r)));return i.compare(i$)===1&&(i=new Fo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=LC(e),[r,i]=UC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new jE(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=LC(e),[r,i]=UC(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class jm{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Pm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jm(Pe.min(),i,new Dt(Fe),Pr(),Ge())}}class Pm{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Pm(r,n,Ge(),Ge(),Ge())}}class sy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tM{constructor(e,n){this.targetId=e,this.Ce=n}}class nM{constructor(e,n,r=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class BC{constructor(){this.ve=0,this.Fe=FC(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),r=Ge();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e(38017,{changeType:a})}})),new Pm(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=FC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s${constructor(e){this.Ge=e,this.ze=new Map,this.je=Pr(),this.Je=Sg(),this.He=Sg(),this.Ye=new Dt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(jy(a))if(r===0){const l=new ye(a.path);this.et(n,l,Lt.newNoDocument(l,Pe.min()))}else Re(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}$w?.lt((function(p,g,b,_,T){const S={localCacheCount:p,existenceFilterCount:g.count,databaseId:b.database,projectId:b.projectId},I=g.unchangedNames;return I&&(S.bloomFilter={applied:T===0,hashCount:I?.hashCount??0,bitmapLength:I?.bits?.bitmap?.length??0,padding:I?.bits?.padding??0,mightContain:R=>_?.mightContain(R)??!1}),S})(l,e.Ce,this.Ge.ht(),c,d))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=Pa(r).toUint8Array()}catch(d){if(d instanceof vD)return ci("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new jE(l,i,a)}catch(d){return ci(d instanceof xf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&jy(c.target)){const d=new ye(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Lt.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=Ge();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new jm(e,n,this.Ye,this.je,r);return this.je=Pr(),this.Je=Sg(),this.He=Sg(),this.Ye=new Dt(Fe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new BC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new St(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new St(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new BC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sg(){return new Dt(ye.comparator)}function FC(){return new Dt(ye.comparator)}const a$={asc:"ASCENDING",desc:"DESCENDING"},o$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l$={and:"AND",or:"OR"};class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qw(t,e){return t.useProto3Json||Am(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u$(t,e){return yd(t,e.toTimestamp())}function dn(t){return Re(!!t,49232),Pe.fromTimestamp((function(n){const r=ja(n);return new vt(r.seconds,r.nanos)})(t))}function PE(t,e){return Gw(t,e).canonicalString()}function Gw(t,e){const n=(function(i){return new nt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function iM(t){const e=nt.fromString(t);return Re(fM(e),10190,{key:e.toString()}),e}function Jf(t,e){return PE(t.databaseId,e.path)}function zs(t,e){const n=iM(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(oM(n))}function sM(t,e){return PE(t.databaseId,e)}function aM(t){const e=iM(t);return e.length===4?nt.emptyPath():oM(e)}function Kw(t){return new nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oM(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zC(t,e,n){return{name:Jf(t,e),fields:n.value.mapValue.fields}}function k0(t,e,n){const r=zs(t,e.name),i=dn(e.updateTime),a=e.createTime?dn(e.createTime):Pe.min(),l=new nr({mapValue:{fields:e.fields}}),c=Lt.newFoundDocument(r,i,a,l);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function d$(t,e){return"found"in e?(function(r,i){Re(!!i.found,43571),i.found.name,i.found.updateTime;const a=zs(r,i.found.name),l=dn(i.found.updateTime),c=i.found.createTime?dn(i.found.createTime):Pe.min(),d=new nr({mapValue:{fields:i.found.fields}});return Lt.newFoundDocument(a,l,c,d)})(t,e):"missing"in e?(function(r,i){Re(!!i.missing,3894),Re(!!i.readTime,22933);const a=zs(r,i.missing),l=dn(i.readTime);return Lt.newNoDocument(a,l)})(t,e):_e(7234,{result:e})}function h$(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:_e(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(Re(p===void 0||typeof p=="string",58123),en.fromBase64String(p||"")):(Re(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),en.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?ee.UNKNOWN:ZD(f.code);return new ce(p,f.message||"")})(l);n=new nM(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zs(t,r.document.name),a=dn(r.document.updateTime),l=r.document.createTime?dn(r.document.createTime):Pe.min(),c=new nr({mapValue:{fields:r.document.fields}}),d=Lt.newFoundDocument(i,a,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new sy(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zs(t,r.document),a=r.readTime?dn(r.readTime):Pe.min(),l=Lt.newNoDocument(i,a),c=r.removedTargetIds||[];n=new sy([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zs(t,r.document),a=r.removedTargetIds||[];n=new sy([],a,i,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new r$(i,a),c=r.targetId;n=new tM(c,l)}}return n}function Zf(t,e){let n;if(e instanceof Vd)n={update:zC(t,e.key,e.value)};else if(e instanceof Ld)n={delete:Jf(t,e.key)};else if(e instanceof za)n={update:zC(t,e.key,e.data),updateMask:v$(e.fieldMask)};else{if(!(e instanceof IE))return _e(16599,{Vt:e.type});n={verify:Jf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof pd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw _e(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:u$(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:_e(27497)})(t,e.precondition)),n}function Ww(t,e){const n=e.currentDocument?(function(a){return a.updateTime!==void 0?Kt.updateTime(dn(a.updateTime)):a.exists!==void 0?Kt.exists(a.exists):Kt.none()})(e.currentDocument):Kt.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(l,c){let d=null;if("setToServerValue"in c)Re(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new pd;else if("appendMissingElements"in c){const p=c.appendMissingElements.values||[];d=new gc(p)}else if("removeAllFromArray"in c){const p=c.removeAllFromArray.values||[];d=new yc(p)}else"increment"in c?d=new gd(l,c.increment):_e(16584,{proto:c});const f=Bt.fromServerFormat(c.fieldPath);return new km(f,d)})(t,i))):[];if(e.update){e.update.name;const i=zs(t,e.update.name),a=new nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const f=d.fieldPaths||[];return new jr(f.map((p=>Bt.fromServerFormat(p))))})(e.updateMask);return new za(i,a,l,n,r)}return new Vd(i,a,n,r)}if(e.delete){const i=zs(t,e.delete);return new Ld(i,n)}if(e.verify){const i=zs(t,e.verify);return new IE(i,n)}return _e(1463,{proto:e})}function f$(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?dn(i.updateTime):dn(a);return l.isEqual(Pe.min())&&(l=dn(a)),new e$(l,i.transformResults||[])})(n,e)))):[]}function lM(t,e){return{documents:[sM(t,e.path)]}}function j0(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sM(t,i);const a=(function(f){if(f.length!==0)return hM(Et.create(f,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(b){return{field:Mo(b.field),direction:p$(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=qw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function cM(t,e,n,r){const{ft:i,parent:a}=j0(t,e),l={},c=[];let d=0;return n.forEach((f=>{const p=r?f.alias:"aggregate_"+d++;l[p]=f.alias,f.aggregateType==="count"?c.push({alias:p,count:{}}):f.aggregateType==="avg"?c.push({alias:p,avg:{field:Mo(f.fieldPath)}}):f.aggregateType==="sum"&&c.push({alias:p,sum:{field:Mo(f.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},gt:l,parent:a}}function uM(t){let e=aM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const b=dM(g);return b instanceof Et&&TE(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(T){return new Xf(Fu(T.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let b;return b=typeof g=="object"?g.value:g,Am(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,_=g.values||[];return new Yo(_,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const b=!g.before,_=g.values||[];return new Yo(_,b)})(n.endAt)),DD(e,i,l,a,c,"F",d,f)}function m$(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fu(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fu(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fu(n.unaryFilter.field);return ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fu(n.unaryFilter.field);return ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ct.create(Fu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Et.create(n.compositeFilter.filters.map((r=>dM(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(t):_e(30097,{filter:t})}function p$(t){return a$[t]}function g$(t){return o$[t]}function y$(t){return l$[t]}function Mo(t){return{fieldPath:t.canonicalString()}}function Fu(t){return Bt.fromServerFormat(t.fieldPath)}function hM(t){return t instanceof ct?(function(n){if(n.op==="=="){if(AC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(SC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(SC(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:g$(n.op),value:n.value}}})(t):t instanceof Et?(function(n){const r=n.getFilters().map((i=>hM(i)));return r.length===1?r[0]:{compositeFilter:{op:y$(n.op),filters:r}}})(t):_e(54877,{filter:t})}function v$(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ea{constructor(e,n,r,i,a=Pe.min(),l=Pe.min(),c=en.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mM{constructor(e){this.yt=e}}function x$(t,e){let n;if(e.document)n=k0(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),i=xc(e.noDocument.readTime);n=Lt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e(56709);{const r=ye.fromSegments(e.unknownDocument.path),i=xc(e.unknownDocument.version);n=Lt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const a=new vt(i[0],i[1]);return Pe.fromTimestamp(a)})(e.readTime)),n}function HC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:My(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(a,l){return{name:Jf(a,l.key),fields:l.data.value.mapValue.fields,updateTime:yd(a,l.version.toTimestamp()),createTime:yd(a,l.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vc(e.version)};else{if(!e.isUnknownDocument())return _e(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:vc(e.version)}}return r}function My(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xc(t){const e=new vt(t.seconds,t.nanoseconds);return Pe.fromTimestamp(e)}function Ql(t,e){const n=(e.baseMutations||[]).map((a=>Ww(t.yt,a)));for(let a=0;a<e.mutations.length-1;++a){const l=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const c=e.mutations[a+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const r=e.mutations.map((a=>Ww(t.yt,a))),i=vt.fromMillis(e.localWriteTimeMs);return new CE(e.batchId,i,n,r)}function bf(t){const e=xc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?xc(t.lastLimboFreeSnapshotVersion):Pe.min();let r;return r=(function(a){return a.documents!==void 0})(t.query)?(function(a){const l=a.documents.length;return Re(l===1,1966,{count:l}),ur(Od(aM(a.documents[0])))})(t.query):(function(a){return ur(uM(a))})(t.query),new Ea(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,en.fromBase64String(t.resumeToken))}function pM(t,e){const n=vc(e.snapshotVersion),r=vc(e.lastLimboFreeSnapshotVersion);let i;i=jy(e.target)?lM(t.yt,e.target):j0(t.yt,e.target).ft;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:pc(e.target),readTime:n,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function P0(t){const e=uM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dy(e,e.limit,"L"):e}function Rb(t,e){return new kE(e.largestBatchId,Ww(t.yt,e.overlayMutation))}function $C(t,e){const n=e.path.lastSegment();return[t,cr(e.path.popLast()),n]}function qC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:vc(r.readTime),documentKey:cr(r.documentKey.path),largestBatchId:r.largestBatchId}}class b${getBundleMetadata(e,n){return GC(e).get(n).next((r=>{if(r)return(function(a){return{id:a.bundleId,createTime:xc(a.createTime),version:a.version}})(r)}))}saveBundleMetadata(e,n){return GC(e).put((function(i){return{bundleId:i.id,createTime:vc(dn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return KC(e).get(n).next((r=>{if(r)return(function(a){return{name:a.name,query:P0(a.bundledQuery),readTime:xc(a.readTime)}})(r)}))}saveNamedQuery(e,n){return KC(e).put((function(i){return{name:i.name,readTime:vc(dn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function GC(t){return Dn(t,E0)}function KC(t){return Dn(t,T0)}class D0{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new D0(e,r)}getOverlay(e,n){return sf(e).get($C(this.userId,n)).next((r=>r?Rb(this.serializer,r):null))}getOverlays(e,n){const r=Ls();return Q.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((a,l)=>{const c=new kE(n,l);i.push(this.St(e,c))})),Q.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((l=>i.add(cr(l.getCollectionPath()))));const a=[];return i.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);a.push(sf(e).Z(Ow,c))})),Q.waitFor(a)}getOverlaysForCollection(e,n,r){const i=Ls(),a=cr(n),l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sf(e).J(Ow,l).next((c=>{for(const d of c){const f=Rb(this.serializer,d);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const a=Ls();let l;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return sf(e).ee({index:dD,range:c},((d,f,p)=>{const g=Rb(this.serializer,f);a.size()<i||g.largestBatchId===l?(a.set(g.getKey(),g),l=g.largestBatchId):p.done()})).next((()=>a))}St(e,n){return sf(e).put((function(i,a,l){const[c,d,f]=$C(a,l.mutation.key);return{userId:a,collectionPath:d,documentId:f,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Zf(i.yt,l.mutation)}})(this.serializer,this.userId,n))}}function sf(t){return Dn(t,S0)}class w${bt(e){return Dn(e,bE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?en.fromUint8Array(r):en.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Xl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Gt(e.integerValue));else if("doubleValue"in e){const r=Gt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Hf(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ja(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Pa(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?TD(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):I0(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):_e(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=hd,a=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Gt(a)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ye.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Xl.Kt=new Xl;const Ru=255;function _$(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function WC(t){const e=64-(function(r){let i=0;for(let a=0;a<8;++a){const l=_$(255&r[a]);if(i+=l,l!==8)break}return i})(t);return Math.ceil(e/8)}class E${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=WC(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=WC(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Ru),this.sn(255)}_n(){this.an(Ru),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(a){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,a,!1),new Uint8Array(l.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Ru?(this.sn(Ru),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Ru?(this.an(Ru),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class T${constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class S${constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class af{constructor(){this.cn=new E$,this.ln=new T$(this.cn),this.hn=new S$(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Jl{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Jl(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:ay(this.En),directionalValue:ay(this.dn),orderedDocumentKey:ay(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function So(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=YC(t.En,e.En),n!==0?n:(n=YC(t.dn,e.dn),n!==0?n:ye.comparator(t.In,e.In)))}function YC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function ay(t){return Zj()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function QC(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class XC{constructor(e){this.mn=new St(((n,r)=>Bt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Pw(e);if(n!==void 0&&!this.wn(n))return!1;const r=Gl(e);let i=new Set,a=0,l=0;for(;a<r.length&&this.wn(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!i.has(c.field.canonicalString())){const d=r[a];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++a}for(;a<r.length;++a){const c=r[a];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new St(Bt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new sc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new sc(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new sc(r.field,r.dir==="asc"?0:1)));return new ad(ad.UNKNOWN_ID,this.collectionId,n,od.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function gM(t){if(Re(t instanceof ct||t instanceof Et,20012),t instanceof ct){if(t instanceof PD){const n=t.value.arrayValue?.values?.map((r=>ct.create(t.field,"==",r)))||[];return Et.create(n,"or")}return t}const e=t.filters.map((n=>gM(n)));return Et.create(e,t.op)}function A$(t){if(t.getFilters().length===0)return[];const e=Xw(gM(t));return Re(yM(e),7391),Yw(e)||Qw(e)?[e]:e.getFilters()}function Yw(t){return t instanceof ct}function Qw(t){return t instanceof Et&&TE(t)}function yM(t){return Yw(t)||Qw(t)||(function(n){if(n instanceof Et&&Bw(n)){for(const r of n.getFilters())if(!Yw(r)&&!Qw(r))return!1;return!0}return!1})(t)}function Xw(t){if(Re(t instanceof ct||t instanceof Et,34018),t instanceof ct)return t;if(t.filters.length===1)return Xw(t.filters[0]);const e=t.filters.map((r=>Xw(r)));let n=Et.create(e,t.op);return n=Oy(n),yM(n)?n:(Re(n instanceof Et,64498),Re(md(n),40251),Re(n.filters.length>1,57927),n.filters.reduce(((r,i)=>DE(r,i))))}function DE(t,e){let n;return Re(t instanceof ct||t instanceof Et,38388),Re(e instanceof ct||e instanceof Et,25473),n=t instanceof ct?e instanceof ct?(function(i,a){return Et.create([i,a],"and")})(t,e):JC(t,e):e instanceof ct?JC(e,t):(function(i,a){if(Re(i.filters.length>0&&a.filters.length>0,48005),md(i)&&md(a))return RD(i,a.getFilters());const l=Bw(i)?i:a,c=Bw(i)?a:i,d=l.filters.map((f=>DE(f,c)));return Et.create(d,"or")})(t,e),Oy(n)}function JC(t,e){if(md(e))return RD(e,t.getFilters());{const n=e.filters.map((r=>DE(t,r)));return Et.create(n,"or")}}function Oy(t){if(Re(t instanceof ct||t instanceof Et,11850),t instanceof ct)return t;const e=t.getFilters();if(e.length===1)return Oy(e[0]);if(ID(t))return t;const n=e.map((i=>Oy(i))),r=[];return n.forEach((i=>{i instanceof ct?r.push(i):i instanceof Et&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Et.create(r,t.op)}class N${constructor(){this.Cn=new ME}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(ui.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class ME{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(nt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(nt.comparator)).toArray()}}const ZC="IndexedDbIndexManager",Ag=new Uint8Array(0);class I${constructor(e,n){this.databaseId=n,this.vn=new ME,this.Fn=new Fa((r=>pc(r)),((r,i)=>Im(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const a={collectionId:r,parent:cr(i)};return eR(e).put(a)}return Q.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[QP(n),""],!1,!0);return eR(e).J(i).next((a=>{for(const l of a){if(l.collectionId!==n)break;r.push(Vs(l.parent))}return r}))}addFieldIndex(e,n){const r=of(e),i=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(n);delete i.indexId;const a=r.add(i);if(n.indexState){const l=ju(e);return a.next((c=>{l.put(qC(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return a.next()}deleteFieldIndex(e,n){const r=of(e),i=ju(e),a=ku(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=of(e),r=ku(e),i=ju(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Q.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const a=new XC(r).Dn();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,n){const r=ku(e);let i=!0;const a=new Map;return Q.forEach(this.Mn(n),(l=>this.xn(e,l).next((c=>{i&&(i=!!c),a.set(l,c)})))).next((()=>{if(i){let l=Ge();const c=[];return Q.forEach(a,((d,f)=>{fe(ZC,`Using index ${(function(j){return`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(d)} to execute ${pc(n)}`);const p=(function(j,z){const $=Pw(z);if($===void 0)return null;for(const Y of Py(j,$.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null})(f,d),g=(function(j,z){const $=new Map;for(const Y of Gl(z))for(const k of Py(j,Y.fieldPath))switch(k.op){case"==":case"in":$.set(Y.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return $.set(Y.fieldPath.canonicalString(),k.value),Array.from($.values())}return null})(f,d),b=(function(j,z){const $=[];let Y=!0;for(const k of Gl(z)){const C=k.kind===0?kC(j,k.fieldPath,j.startAt):jC(j,k.fieldPath,j.startAt);$.push(C.value),Y&&(Y=C.inclusive)}return new Yo($,Y)})(f,d),_=(function(j,z){const $=[];let Y=!0;for(const k of Gl(z)){const C=k.kind===0?jC(j,k.fieldPath,j.endAt):kC(j,k.fieldPath,j.endAt);$.push(C.value),Y&&(Y=C.inclusive)}return new Yo($,Y)})(f,d),T=this.On(d,f,b),S=this.On(d,f,_),I=this.Nn(d,f,g),R=this.Bn(d.indexId,p,T,b.inclusive,S,_.inclusive,I);return Q.forEach(R,(D=>r.Y(D,n.limit).next((j=>{j.forEach((z=>{const $=ye.fromSegments(z.documentKey);l.has($)||(l=l.add($),c.push($))}))}))))})).next((()=>c))}return Q.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=A$(Et.create(e.filters,"and")).map((r=>zw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,a,l,c){const d=(n!=null?n.length:1)*Math.max(r.length,a.length),f=d/(n!=null?n.length:1),p=[];for(let g=0;g<d;++g){const b=n?this.Ln(n[g/f]):Ag,_=this.kn(e,b,r[g%f],i),T=this.qn(e,b,a[g%f],l),S=c.map((I=>this.kn(e,b,I,!0)));p.push(...this.createRange(_,T,S))}return p}kn(e,n,r,i){const a=new Jl(e,ye.empty(),n,r);return i?a:a.An()}qn(e,n,r,i){const a=new Jl(e,ye.empty(),n,r);return i?a.An():a}xn(e,n){const r=new XC(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let l=null;for(const c of a)r.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Q.forEach(i,(a=>this.xn(e,a).next((l=>{l?r!==0&&l.fields.length<(function(d){let f=new St(Bt.comparator),p=!1;for(const g of d.filters)for(const b of g.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?p=!0:f=f.add(b.field));for(const g of d.orderBy)g.field.isKeyField()||(f=f.add(g.field));return f.size+(p?1:0)})(a)&&(r=1):r=0})))).next((()=>(function(l){return l.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new af;for(const i of Gl(e)){const a=n.data.field(i.fieldPath);if(a==null)return null;const l=r.Pn(i.kind);Xl.Kt.Dt(a,l)}return r.un()}Ln(e){const n=new af;return Xl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new af;return Xl.Kt.Dt(mc(this.databaseId,n),r.Pn((function(a){const l=Gl(a);return l.length===0?0:l[l.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new af);let a=0;for(const l of Gl(e)){const c=r[a++];for(const d of i)if(this.Un(n,l.fieldPath)&&Qf(c))i=this.Kn(i,l,c);else{const f=d.Pn(l.kind);Xl.Kt.Dt(c,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],a=[];for(const l of r.arrayValue.values||[])for(const c of i){const d=new af;d.seed(c.un()),Xl.Kt.Dt(l,d.Pn(n.kind)),a.push(d)}return a}Un(e,n){return!!e.filters.find((r=>r instanceof ct&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=of(e),i=ju(e);return(n?r.J(Mw,IDBKeyRange.bound(n,n)):r.J()).next((a=>{const l=[];return Q.forEach(a,(c=>i.get([c.indexId,this.uid]).next((d=>{l.push((function(p,g){const b=g?new od(g.sequenceNumber,new ui(xc(g.readTime),new ye(Vs(g.documentKey)),g.largestBatchId)):od.empty(),_=p.fields.map((([T,S])=>new sc(Bt.fromServerFormat(T),S)));return new ad(p.indexId,p.collectionGroup,_,b)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Fe(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=of(e),a=ju(e);return this.Gn(e).next((l=>i.J(Mw,IDBKeyRange.bound(n,n)).next((c=>Q.forEach(c,(d=>a.put(qC(d.indexId,this.uid,l,r))))))))}updateIndexEntries(e,n){const r=new Map;return Q.forEach(n,((i,a)=>{const l=r.get(i.collectionGroup);return(l?Q.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next((c=>(r.set(i.collectionGroup,c),Q.forEach(c,(d=>this.zn(e,i,d).next((f=>{const p=this.jn(a,d);return f.isEqual(p)?Q.resolve():this.Jn(e,a,d,f,p)})))))))}))}Hn(e,n,r,i){return ku(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return ku(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=ku(e);let a=new St(So);return i.ee({index:uD,range:IDBKeyRange.only([r.indexId,this.uid,ay(this.$n(r,n))])},((l,c)=>{a=a.add(new Jl(r.indexId,n,QC(c.arrayValue),QC(c.directionalValue)))})).next((()=>a))}jn(e,n){let r=new St(So);const i=this.Qn(n,e);if(i==null)return r;const a=Pw(n);if(a!=null){const l=e.data.field(a.fieldPath);if(Qf(l))for(const c of l.arrayValue.values||[])r=r.add(new Jl(n.indexId,e.key,this.Ln(c),i))}else r=r.add(new Jl(n.indexId,e.key,Ag,i));return r}Jn(e,n,r,i,a){fe(ZC,"Updating index entries for document '%s'",n.key);const l=[];return(function(d,f,p,g,b){const _=d.getIterator(),T=f.getIterator();let S=Cu(_),I=Cu(T);for(;S||I;){let R=!1,D=!1;if(S&&I){const j=p(S,I);j<0?D=!0:j>0&&(R=!0)}else S!=null?D=!0:R=!0;R?(g(I),I=Cu(T)):D?(b(S),S=Cu(_)):(S=Cu(_),I=Cu(T))}})(i,a,So,(c=>{l.push(this.Hn(e,n,r,c))}),(c=>{l.push(this.Yn(e,n,r,c))})),Q.waitFor(l)}Gn(e){let n=1;return ju(e).ee({index:cD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,a)=>{a.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((l,c)=>So(l,c))).filter(((l,c,d)=>!c||So(l,d[c-1])!==0));const i=[];i.push(e);for(const l of r){const c=So(l,e),d=So(l,n);if(c===0)i[0]=e.An();else if(c>0&&d<0)i.push(l),i.push(l.An());else if(d>0)break}i.push(n);const a=[];for(let l=0;l<i.length;l+=2){if(this.Zn(i[l],i[l+1]))return[];const c=i[l].Vn(this.uid,Ag,ye.empty()),d=i[l+1].Vn(this.uid,Ag,ye.empty());a.push(IDBKeyRange.bound(c,d))}return a}Zn(e,n){return So(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(tR)}getMinOffset(e,n){return Q.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||_e(44426))))).next(tR)}}function eR(t){return Dn(t,Gf)}function ku(t){return Dn(t,If)}function of(t){return Dn(t,xE)}function ju(t){return Dn(t,Nf)}function tR(t){Re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;gE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ui(e.readTime,e.documentKey,n)}const nR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vM=41943040;class ar{static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function xM(t,e,n){const r=t.store(Qi),i=t.store(ld),a=[],l=IDBKeyRange.only(n.batchId);let c=0;const d=r.ee({range:l},((p,g,b)=>(c++,b.delete())));a.push(d.next((()=>{Re(c===1,47070,{batchId:n.batchId})})));const f=[];for(const p of n.mutations){const g=aD(e,p.key.path,n.batchId);a.push(i.delete(g)),f.push(p.key)}return Q.waitFor(a).next((()=>f))}function Vy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e(14731);e=t.noDocument}return JSON.stringify(e).length}ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(vM,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class M0{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Re(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new M0(a,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).ee({index:ec,range:r},((i,a,l)=>{n=!1,l.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const a=zu(e),l=Ao(e);return l.add({}).next((c=>{Re(typeof c=="number",49019);const d=new CE(c,n,r,i),f=(function(_,T,S){const I=S.baseMutations.map((D=>Zf(_.yt,D))),R=S.mutations.map((D=>Zf(_.yt,D)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:I,mutations:R}})(this.serializer,this.userId,d),p=[];let g=new St(((b,_)=>Fe(b.canonicalString(),_.canonicalString())));for(const b of i){const _=aD(this.userId,b.key.path,c);g=g.add(b.key.path.popLast()),p.push(l.put(f)),p.push(a.put(_,cH))}return g.forEach((b=>{p.push(this.indexManager.addToCollectionParentIndex(e,b))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Q.waitFor(p).next((()=>d))}))}lookupMutationBatch(e,n){return Ao(e).get(n).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ql(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Q.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Ao(e).ee({index:ec,range:i},((l,c,d)=>{c.userId===this.userId&&(Re(c.batchId>=r,47524,{tr:r}),a=Ql(this.serializer,c)),d.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=zo;return Ao(e).ee({index:ec,range:n,reverse:!0},((i,a,l)=>{r=a.batchId,l.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,zo],[this.userId,Number.POSITIVE_INFINITY]);return Ao(e).J(ec,n).next((r=>r.map((i=>Ql(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Zg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),a=[];return zu(e).ee({range:i},((l,c,d)=>{const[f,p,g]=l,b=Vs(p);if(f===this.userId&&n.path.isEqual(b))return Ao(e).get(g).next((_=>{if(!_)throw _e(61480,{nr:l,batchId:g});Re(_.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:_.userId,batchId:g}),a.push(Ql(this.serializer,_))}));d.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Fe);const i=[];return n.forEach((a=>{const l=Zg(this.userId,a.path),c=IDBKeyRange.lowerBound(l),d=zu(e).ee({range:c},((f,p,g)=>{const[b,_,T]=f,S=Vs(_);b===this.userId&&a.path.isEqual(S)?r=r.add(T):g.done()}));i.push(d)})),Q.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,a=Zg(this.userId,r),l=IDBKeyRange.lowerBound(a);let c=new St(Fe);return zu(e).ee({range:l},((d,f,p)=>{const[g,b,_]=d,T=Vs(b);g===this.userId&&r.isPrefixOf(T)?T.length===i&&(c=c.add(_)):p.done()})).next((()=>this.rr(e,c)))}rr(e,n){const r=[],i=[];return n.forEach((a=>{i.push(Ao(e).get(a).next((l=>{if(l===null)throw _e(35274,{batchId:a});Re(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:a}),r.push(Ql(this.serializer,l))})))})),Q.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return xM(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Q.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Q.resolve();const r=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),i=[];return zu(e).ee({range:r},((a,l,c)=>{if(a[0]===this.userId){const d=Vs(a[1]);i.push(d)}else c.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((a=>a.canonicalString()))})}))}))}containsKey(e,n){return bM(e,this.userId,n)}_r(e){return wM(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:zo,lastStreamToken:""}))}}function bM(t,e,n){const r=Zg(e,n.path),i=r[1],a=IDBKeyRange.lowerBound(r);let l=!1;return zu(t).ee({range:a,X:!0},((c,d,f)=>{const[p,g,b]=c;p===e&&g===i&&(l=!0),f.done()})).next((()=>l))}function Ao(t){return Dn(t,Qi)}function zu(t){return Dn(t,ld)}function wM(t){return Dn(t,$f)}class bc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bc(0)}static cr(){return new bc(-1)}}class C${constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new bc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Pe.fromTimestamp(new vt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Pu(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const a=[];return Pu(e).ee(((l,c)=>{const d=bf(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(i++,a.push(this.removeTargetData(e,d)))})).next((()=>Q.waitFor(a))).next((()=>i))}forEachTarget(e,n){return Pu(e).ee(((r,i)=>{const a=bf(i);n(a)}))}lr(e){return rR(e).get(ky).next((n=>(Re(n!==null,2888),n)))}hr(e,n){return rR(e).put(ky,n)}Pr(e,n){return Pu(e).put(pM(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=pc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Pu(e).ee({range:i,index:lD},((l,c,d)=>{const f=bf(c);Im(n,f.target)&&(a=f,d.done())})).next((()=>a))}addMatchingKeys(e,n,r){const i=[],a=Oo(e);return n.forEach((l=>{const c=cr(l.path);i.push(a.put({targetId:r,path:c})),i.push(this.referenceDelegate.addReference(e,r,l))})),Q.waitFor(i)}removeMatchingKeys(e,n,r){const i=Oo(e);return Q.forEach(n,(a=>{const l=cr(a.path);return Q.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,a)])}))}removeMatchingKeysForTargetId(e,n){const r=Oo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Oo(e);let a=Ge();return i.ee({range:r,X:!0},((l,c,d)=>{const f=Vs(l[1]),p=new ye(f);a=a.add(p)})).next((()=>a))}containsKey(e,n){const r=cr(n.path),i=IDBKeyRange.bound([r],[QP(r)],!1,!0);let a=0;return Oo(e).ee({index:vE,X:!0,range:i},(([l,c],d,f)=>{l!==0&&(a++,f.done())})).next((()=>a>0))}At(e,n){return Pu(e).get(n).next((r=>r?bf(r):null))}}function Pu(t){return Dn(t,cd)}function rR(t){return Dn(t,ac)}function Oo(t){return Dn(t,ud)}const iR="LruGarbageCollector",_M=1048576;function sR([t,e],[n,r]){const i=Fe(t,n);return i===0?Fe(e,r):i}class R${constructor(e){this.Ir=e,this.buffer=new St(sR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(iR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?fe(iR,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)}))}}class k${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(kr.ce);const r=new R$(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(nR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),Uu()<=lt.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g}))))}}function TM(t,e){return new k$(t,e)}class j${constructor(e,n){this.db=e,this.garbageCollector=TM(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Ng(e,r)}removeReference(e,n,r){return Ng(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ng(e,n)}br(e,n){return(function(i,a){let l=!1;return wM(i).te((c=>bM(i,c,a).next((d=>(d&&(l=!0),Q.resolve(!d)))))).next((()=>l))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Sr(e,((l,c)=>{if(c<=n){const d=this.br(e,l).next((f=>{if(!f)return a++,r.getEntry(e,l).next((()=>(r.removeEntry(l,Pe.min()),Oo(e).delete((function(g){return[0,cr(g.path)]})(l)))))}));i.push(d)}})).next((()=>Q.waitFor(i))).next((()=>r.apply(e))).next((()=>a))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ng(e,n)}Sr(e,n){const r=Oo(e);let i,a=kr.ce;return r.ee({index:vE},(([l,c],{path:d,sequenceNumber:f})=>{l===0?(a!==kr.ce&&n(new ye(Vs(i)),a),a=f,i=d):a=kr.ce})).next((()=>{a!==kr.ce&&n(new ye(Vs(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ng(t,e){return Oo(t).put((function(r,i){return{targetId:0,path:cr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class SM{constructor(){this.changes=new Fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class P${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return zl(e).put(r)}removeEntry(e,n,r){return zl(e).delete((function(a,l){const c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],My(l),c[c.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Lt.newInvalidDocument(n);return zl(e).ee({index:ey,range:IDBKeyRange.only(lf(n))},((i,a)=>{r=this.Cr(n,a)})).next((()=>r))}vr(e,n){let r={size:0,document:Lt.newInvalidDocument(n)};return zl(e).ee({index:ey,range:IDBKeyRange.only(lf(n))},((i,a)=>{r={document:this.Cr(n,a),size:Vy(a)}})).next((()=>r))}getEntries(e,n){let r=Pr();return this.Fr(e,n,((i,a)=>{const l=this.Cr(i,a);r=r.insert(i,l)})).next((()=>r))}Mr(e,n){let r=Pr(),i=new Dt(ye.comparator);return this.Fr(e,n,((a,l)=>{const c=this.Cr(a,l);r=r.insert(a,c),i=i.insert(a,Vy(l))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Q.resolve();let i=new St(lR);n.forEach((d=>i=i.add(d)));const a=IDBKeyRange.bound(lf(i.first()),lf(i.last())),l=i.getIterator();let c=l.getNext();return zl(e).ee({index:ey,range:a},((d,f,p)=>{const g=ye.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;c&&lR(c,g)<0;)r(c,null),c=l.getNext();c&&c.isEqual(g)&&(r(c,f),c=l.hasNext()?l.getNext():null),c?p.j(lf(c)):p.done()})).next((()=>{for(;c;)r(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,a){const l=n.path,c=[l.popLast().toArray(),l.lastSegment(),My(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zl(e).J(IDBKeyRange.bound(c,d,!0)).next((f=>{a?.incrementDocumentReadCount(f.length);let p=Pr();for(const g of f){const b=this.Cr(ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);b.isFoundDocument()&&(Rm(n,b)||i.has(b.key))&&(p=p.insert(b.key,b))}return p}))}getAllFromCollectionGroup(e,n,r,i){let a=Pr();const l=oR(n,r),c=oR(n,ui.max());return zl(e).ee({index:oD,range:IDBKeyRange.bound(l,c,!0)},((d,f,p)=>{const g=this.Cr(ye.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);a=a.insert(g.key,g),a.size===i&&p.done()})).next((()=>a))}newChangeBuffer(e){return new D$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return aR(e).get(Dw).next((n=>(Re(!!n,20021),n)))}Dr(e,n){return aR(e).put(Dw,n)}Cr(e,n){if(n){const r=x$(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Pe.min())))return r}return Lt.newInvalidDocument(e)}}function AM(t){return new P$(t)}class D$ extends SM{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Fa((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new St(((a,l)=>Fe(a.canonicalString(),l.canonicalString())));return this.changes.forEach(((a,l)=>{const c=this.Br.get(a);if(n.push(this.Nr.removeEntry(e,a,c.readTime)),l.isValidDocument()){const d=HC(this.Nr.serializer,l);i=i.add(a.path.popLast());const f=Vy(d);r+=f-c.size,n.push(this.Nr.addEntry(e,a,d))}else if(r-=c.size,this.trackRemovals){const d=HC(this.Nr.serializer,l.convertToNoDocument(Pe.min()));n.push(this.Nr.addEntry(e,a,d))}})),i.forEach((a=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,a))})),n.push(this.Nr.updateMetadata(e,r)),Q.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((a,l)=>{this.Br.set(a,{size:l,readTime:r.get(a).readTime})})),r)))}}function aR(t){return Dn(t,qf)}function zl(t){return Dn(t,Ry)}function lf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oR(t,e){const n=e.documentKey.path.toArray();return[t,My(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<n.length-2&&a<r.length-2;++a)if(i=Fe(n[a],r[a]),i)return i;return i=Fe(n.length,r.length),i||(i=Fe(n[n.length-2],r[r.length-2]),i||Fe(n[n.length-1],r[r.length-1]))}class M${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&kf(r.mutation,i,jr.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ge()){const i=Ls();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=vf();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ge())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=Pr();const l=Rf(),c=(function(){return Rf()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof za)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),kf(p.mutation,f,p.mutation.getFieldMask(),vt.now())):l.set(f.key,jr.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>c.set(f,new M$(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Rf();let i=new Dt(((l,c)=>l-c)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||jr.empty();p=c.applyToLocalView(f,p),r.set(d,p);const g=(i.get(c.batchId)||Ge()).add(d);i=i.insert(c.batchId,g)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,g=zD();p.forEach((b=>{if(!a.has(b)){const _=YD(n.get(b),r.get(b));_!==null&&g.set(b,_),a=a.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return Q.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Q.resolve(Ls());let c=sd,d=a;return l.next((f=>Q.forEach(f,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,Ge()))).next((p=>({batchId:c,changes:FD(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let i=vf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=vf();return this.indexManager.getCollectionParents(e,a).next((c=>Q.forEach(c,(d=>{const f=(function(g,b){return new Ba(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Lt.newInvalidDocument(p)))}));let c=vf();return l.forEach(((d,f)=>{const p=a.get(d);p!==void 0&&kf(p.mutation,f,jr.empty(),vt.now()),Rm(n,f)&&(c=c.insert(d,f))})),c}))}}class O${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:dn(i.createTime)}})(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:P0(i.bundledQuery),readTime:dn(i.readTime)}})(n)),Q.resolve()}}class V${constructor(){this.overlays=new Dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return Q.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),a=n.length+1,l=new ye(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Dt(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=Ls(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Ls(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return Q.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new kE(n,r));let a=this.qr.get(n);a===void 0&&(a=Ge(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}class L${constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}class OE{constructor(){this.Qr=new St(Fn.$r),this.Ur=new St(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Fn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new nt([])),r=new Fn(n,e),i=new Fn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new nt([])),r=new Fn(n,e),i=new Fn(n,e+1);let a=Ge();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Fn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class U${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new St(Fn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new CE(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Fn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?zo:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fn(n,0),i=new Fn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Fe);return n.forEach((i=>{const a=new Fn(i,0),l=new Fn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{r=r.add(c.Yr)}))})),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const l=new Fn(new ye(a),0);let c=new St(Fe);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Yr)),!0)}),l),Q.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,(i=>{const a=new Fn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Fn(n,0),i=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class B${constructor(e){this.ri=e,this.docs=(function(){return new Dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Lt.newInvalidDocument(i))})),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Pr();const l=n.path,c=new ye(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||gE(tD(p),r)<=0||(i.has(p.key)||Rm(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){_e(9500)}ii(e,n){return Q.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new F$(this)}getSize(e){return Q.resolve(this.size)}}class F$ extends SM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class z${constructor(e){this.persistence=e,this.si=new Fa((n=>pc(n)),Im),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new OE,this.targetCount=0,this.ai=bc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Q.waitFor(a).next((()=>i))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}class VE{constructor(e,n){this.ui={},this.overlays={},this.ci=new kr(0),this.li=!1,this.li=!0,this.hi=new L$,this.referenceDelegate=e(this),this.Pi=new z$(this),this.indexManager=new N$,this.remoteDocumentCache=(function(i){return new B$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mM(n),this.Ii=new O$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new U$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new H$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return Q.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class H$ extends rD{constructor(e){super(),this.currentSequenceNumber=e}}class O0{constructor(e){this.persistence=e,this.Ri=new OE,this.Vi=null}static mi(e){return new O0(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,(r=>{const i=ye.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,Pe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ly{constructor(e,n){this.persistence=e,this.pi=new Fa((r=>cr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=TM(this,n)}static mi(e,n){return new Ly(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Q.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?Q.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,a.removeEntry(l,Pe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ny(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Q.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $${constructor(e){this.serializer=e}k(e,n,r,i){const a=new _0("createOrUpgrade",n);r<1&&i>=1&&((function(d){d.createObjectStore(Nm)})(e),(function(d){d.createObjectStore($f,{keyPath:lH}),d.createObjectStore(Qi,{keyPath:xC,autoIncrement:!0}).createIndex(ec,bC,{unique:!0}),d.createObjectStore(ld)})(e),cR(e),(function(d){d.createObjectStore(Kl)})(e));let l=Q.resolve();return r<3&&i>=3&&(r!==0&&((function(d){d.deleteObjectStore(ud),d.deleteObjectStore(cd),d.deleteObjectStore(ac)})(e),cR(e)),l=l.next((()=>(function(d){const f=d.store(ac),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pe.min().toTimestamp(),targetCount:0};return f.put(ky,p)})(a)))),r<4&&i>=4&&(r!==0&&(l=l.next((()=>(function(d,f){return f.store(Qi).J().next((g=>{d.deleteObjectStore(Qi),d.createObjectStore(Qi,{keyPath:xC,autoIncrement:!0}).createIndex(ec,bC,{unique:!0});const b=f.store(Qi),_=g.map((T=>b.put(T)));return Q.waitFor(_)}))})(e,a)))),l=l.next((()=>{(function(d){d.createObjectStore(dd,{keyPath:yH})})(e)}))),r<5&&i>=5&&(l=l.next((()=>this.yi(a)))),r<6&&i>=6&&(l=l.next((()=>((function(d){d.createObjectStore(qf)})(e),this.wi(a))))),r<7&&i>=7&&(l=l.next((()=>this.Si(a)))),r<8&&i>=8&&(l=l.next((()=>this.bi(e,a)))),r<9&&i>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(l=l.next((()=>this.Di(a)))),r<11&&i>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(E0,{keyPath:vH})})(e),(function(d){d.createObjectStore(T0,{keyPath:xH})})(e)}))),r<12&&i>=12&&(l=l.next((()=>{(function(d){const f=d.createObjectStore(S0,{keyPath:AH});f.createIndex(Ow,NH,{unique:!1}),f.createIndex(dD,IH,{unique:!1})})(e)}))),r<13&&i>=13&&(l=l.next((()=>(function(d){const f=d.createObjectStore(Ry,{keyPath:uH});f.createIndex(ey,dH),f.createIndex(oD,hH)})(e))).next((()=>this.Ci(e,a))).next((()=>e.deleteObjectStore(Kl)))),r<14&&i>=14&&(l=l.next((()=>this.Fi(e,a)))),r<15&&i>=15&&(l=l.next((()=>(function(d){d.createObjectStore(xE,{keyPath:bH,autoIncrement:!0}).createIndex(Mw,wH,{unique:!1}),d.createObjectStore(Nf,{keyPath:_H}).createIndex(cD,EH,{unique:!1}),d.createObjectStore(If,{keyPath:TH}).createIndex(uD,SH,{unique:!1})})(e)))),r<16&&i>=16&&(l=l.next((()=>{n.objectStore(Nf).clear()})).next((()=>{n.objectStore(If).clear()}))),r<17&&i>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(bE,{keyPath:CH})})(e)}))),r<18&&i>=18&&Zj()&&(l=l.next((()=>{n.objectStore(Nf).clear()})).next((()=>{n.objectStore(If).clear()}))),l}wi(e){let n=0;return e.store(Kl).ee(((r,i)=>{n+=Vy(i)})).next((()=>{const r={byteSize:n};return e.store(qf).put(Dw,r)}))}yi(e){const n=e.store($f),r=e.store(Qi);return n.J().next((i=>Q.forEach(i,(a=>{const l=IDBKeyRange.bound([a.userId,zo],[a.userId,a.lastAcknowledgedBatchId]);return r.J(ec,l).next((c=>Q.forEach(c,(d=>{Re(d.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const f=Ql(this.serializer,d);return xM(e,a.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(ud),r=e.store(Kl);return e.store(ac).get(ky).next((i=>{const a=[];return r.ee(((l,c)=>{const d=new nt(l),f=(function(g){return[0,cr(g)]})(d);a.push(n.get(f).next((p=>p?Q.resolve():(g=>n.put({targetId:0,path:cr(g),sequenceNumber:i.highestListenSequenceNumber}))(d))))})).next((()=>Q.waitFor(a)))}))}bi(e,n){e.createObjectStore(Gf,{keyPath:gH});const r=n.store(Gf),i=new ME,a=l=>{if(i.add(l)){const c=l.lastSegment(),d=l.popLast();return r.put({collectionId:c,parent:cr(d)})}};return n.store(Kl).ee({X:!0},((l,c)=>{const d=new nt(l);return a(d.popLast())})).next((()=>n.store(ld).ee({X:!0},(([l,c,d],f)=>{const p=Vs(c);return a(p.popLast())}))))}Di(e){const n=e.store(cd);return n.ee(((r,i)=>{const a=bf(i),l=pM(this.serializer,a);return n.put(l)}))}Ci(e,n){const r=n.store(Kl),i=[];return r.ee(((a,l)=>{const c=n.store(Ry),d=(function(g){return g.document?new ye(nt.fromString(g.document.name).popFirst(5)):g.noDocument?ye.fromSegments(g.noDocument.path):g.unknownDocument?ye.fromSegments(g.unknownDocument.path):_e(36783)})(l).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(c.put(f))})).next((()=>Q.waitFor(i)))}Fi(e,n){const r=n.store(Qi),i=AM(this.serializer),a=new VE(O0.mi,this.serializer.yt);return r.J().next((l=>{const c=new Map;return l.forEach((d=>{let f=c.get(d.userId)??Ge();Ql(this.serializer,d).keys().forEach((p=>f=f.add(p))),c.set(d.userId,f)})),Q.forEach(c,((d,f)=>{const p=new zn(f),g=D0.wt(this.serializer,p),b=a.getIndexManager(p),_=M0.wt(p,this.serializer,b,a.referenceDelegate);return new NM(i,_,g,b).recalculateAndSaveOverlaysForDocumentKeys(new Vw(n,kr.ce),d).next()}))}))}}function cR(t){t.createObjectStore(ud,{keyPath:mH}).createIndex(vE,pH,{unique:!0}),t.createObjectStore(cd,{keyPath:"targetId"}).createIndex(lD,fH,{unique:!0}),t.createObjectStore(ac)}const No="IndexedDbPersistence",kb=18e5,jb=5e3,Pb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",IM="main";class LE{constructor(e,n,r,i,a,l,c,d,f,p,g=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=a,this.window=l,this.document=c,this.xi=f,this.Oi=p,this.Ni=g,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=b=>Promise.resolve(),!LE.v())throw new ce(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new j$(this,i),this.$i=n+IM,this.serializer=new mM(d),this.Ui=new Fs(this.$i,this.Ni,new $$(this.serializer)),this.hi=new w$,this.Pi=new C$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AM(this.serializer),this.Ii=new b$,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,p===!1&&un(No,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ce(ee.FAILED_PRECONDITION,Pb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new kr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ig(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ll(e))return fe(No,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fe(No,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return cf(e).get(Iu).next((n=>Q.resolve(this.es(n))))}ts(e){return Ig(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,kb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Dn(n,dd);return r.J().next((i=>{const a=this.ss(i,kb),l=i.filter((c=>a.indexOf(c)===-1));return Q.forEach(l,(c=>r.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Q.resolve(!0):cf(e).get(Iu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,jb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ce(ee.FAILED_PRECONDITION,Pb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ig(e).J().next((r=>this.ss(r,jb).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,c=this.networkEnabled===i.networkEnabled;if(a||l&&c)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&fe(No,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Nm,dd],(e=>{const n=new Vw(e,kr.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Ig(e).J().next((n=>this.ss(n,kb).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return M0.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new I$(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return D0.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe(No,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",a=(function(d){return d===18?jH:d===17?pD:d===16?kH:d===15?wE:d===14?mD:d===13?fD:d===12?RH:d===11?hD:void _e(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,i,a,(c=>(l=new Vw(c,this.ci?this.ci.next():kr.ce),n==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ce(ee.FAILED_PRECONDITION,nD);return r(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>r(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return cf(e).get(Iu).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,jb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ce(ee.FAILED_PRECONDITION,Pb)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cf(e).put(Iu,n)}static v(){return Fs.v()}Zi(e){const n=cf(e);return n.get(Iu).next((r=>this.es(r)?(fe(No,"Releasing primary lease."),n.delete(Iu)):Q.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(un(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;Jj()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return fe(No,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return un(No,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function cf(t){return Dn(t,Nm)}function Ig(t){return Dn(t,dd)}function UE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class BE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ge(),i=Ge();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new BE(e,n.fromCache,r,i)}}class q${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class CM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Jj()?8:iD(jn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new q$;return this.Ss(e,n,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Uu()<=lt.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Bu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(Uu()<=lt.DEBUG&&fe("QueryEngine","Query:",Bu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Uu()<=lt.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Bu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):Q.resolve())}ys(e,n){if(PC(n))return Q.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Dy(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Ge(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.Ds(n,c);return this.Cs(n,f,l,d.readTime)?this.ys(e,Dy(n,null,"F")):this.vs(e,f,n,d)}))))})))))}ws(e,n,r,i){return PC(n)||i.isEqual(Pe.min())?Q.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?Q.resolve(null):(Uu()<=lt.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bu(n)),this.vs(e,l,n,eD(i,sd)).next((c=>c)))}))}Ds(e,n){let r=new St(UD(e));return n.forEach(((i,a)=>{Rm(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Uu()<=lt.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Bu(n)),this.ps.getDocumentsMatchingQuery(e,n,ui.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const FE="LocalStore",G$=3e8;class K${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Dt(Fe),this.xs=new Fa((a=>pc(a)),Im),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RM(t,e,n,r){return new K$(t,e,n,r)}async function kM(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=Ge();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function W$(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const g=f.batch,b=g.keys();let _=Q.resolve();return b.forEach((T=>{_=_.next((()=>p.getEntry(d,T))).next((S=>{const I=f.docVersions.get(T);Re(I!==null,48541),S.version.compareTo(I)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Ge();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function jM(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Y$(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;c.push(n.Pi.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(a,p.addedDocuments,g))));let _=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(en.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),(function(S,I,R){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=G$?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(b,_,p)&&c.push(n.Pi.updateTargetData(a,_))}));let d=Pr(),f=Ge();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(PM(a,l,e.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!r.isEqual(Pe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(a).next((g=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return Q.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function PM(t,e,n){let r=Ge(),i=Ge();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Pr();return n.forEach(((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Pe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):fe(FE,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function Q$(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zo),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vd(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,Q.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ea(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function xd(t,e,n){const r=xe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ll(l))throw l;fe(FE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Uy(t,e,n){const r=xe(t);let i=Pe.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const g=xe(d),b=g.xs.get(p);return b!==void 0?Q.resolve(g.Ms.get(b)):g.Pi.getTargetData(f,p)})(r,l,ur(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Pe.min(),n?a:Ge()))).next((c=>(OM(r,LD(e),c),{documents:c,Qs:a})))))}function DM(t,e){const n=xe(t),r=xe(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(a=>r.At(a,e).next((l=>l?l.target:null))))}function MM(t,e){const n=xe(t),r=n.Os.get(e)||Pe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,eD(r,sd),Number.MAX_SAFE_INTEGER))).then((i=>(OM(n,e,i),i)))}function OM(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}async function X$(t,e,n,r){const i=xe(t);let a=Ge(),l=Pr();for(const f of n){const p=e.$s(f.metadata.name);f.document&&(a=a.add(p));const g=e.Us(f);g.setReadTime(e.Ks(f.metadata.readTime)),l=l.insert(p,g)}const c=i.Ns.newChangeBuffer({trackRemovals:!0}),d=await vd(i,(function(p){return ur(Od(nt.fromString(`__bundle__/docs/${p}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(f=>PM(f,c,l).next((p=>(c.apply(f),p))).next((p=>i.Pi.removeMatchingKeysForTargetId(f,d.targetId).next((()=>i.Pi.addMatchingKeys(f,a,d.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,p.ks,p.qs))).next((()=>p.ks))))))}async function J$(t,e,n=Ge()){const r=await vd(t,ur(P0(e.bundledQuery))),i=xe(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const l=dn(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ii.saveNamedQuery(a,e);const c=r.withResumeToken(en.EMPTY_BYTE_STRING,l);return i.Ms=i.Ms.insert(c.targetId,c),i.Pi.updateTargetData(a,c).next((()=>i.Pi.removeMatchingKeysForTargetId(a,r.targetId))).next((()=>i.Pi.addMatchingKeys(a,n,r.targetId))).next((()=>i.Ii.saveNamedQuery(a,e)))}))}const VM="firestore_clients";function uR(t,e){return`${VM}_${t}_${e}`}const LM="firestore_mutations";function dR(t,e,n){let r=`${LM}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const UM="firestore_targets";function Db(t,e){return`${UM}_${t}_${e}`}const Ms="SharedClientState";class By{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let a,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ce(i.error.code,i.error.message))),l?new By(e,n,i.state,a):(un(Ms,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,a=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return a&&r.error&&(a=typeof r.error.message=="string"&&typeof r.error.code=="string",a&&(i=new ce(r.error.code,r.error.message))),a?new jf(e,r.state,i):(un(Ms,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fy{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,a=AE();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=sD(r.activeTargetIds[l]),a=a.add(r.activeTargetIds[l]);return i?new Fy(e,a):(un(Ms,`Failed to parse client data for instance '${e}': ${n}`),null)}}class zE{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new zE(n.clientId,n.onlineState):(un(Ms,`Failed to parse online state: ${e}`),null)}}class Jw{constructor(){this.activeTargetIds=AE()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mb{constructor(e,n,r,i,a){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Dt(Fe),this.started=!1,this.Xs=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.eo=uR(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Jw),this.ro=new RegExp(`^${VM}_${l}_([^_]*)$`),this.io=new RegExp(`^${LM}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${UM}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(uR(this.persistenceKey,r));if(i){const a=Fy.Ws(r,i);a&&(this.Zs=this.Zs.insert(a.clientId,a))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Db(this.persistenceKey,e));if(i){const a=jf.Ws(e,i);a&&(r=a.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Db(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return fe(Ms,"READ",e,n),n}setItem(e,n){fe(Ms,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){fe(Ms,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(fe(Ms,"EVENT",n.key,n.newValue),n.key===this.eo)return void un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(a){let l=kr.ce;if(a!=null)try{const c=JSON.parse(a);Re(typeof c=="number",30636,{So:a}),l=c}catch(c){un(Ms,"Failed to read sequence number from WebStorage",c)}return l})(n.newValue);r!==kr.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new By(this.currentUser,e,n,r),a=dR(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Gs())}Po(e){const n=dR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=Db(this.persistenceKey,e),a=new jf(e,n,r);this.setItem(i,a.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Fy.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),a=r[2]!==void 0?r[2]:null;return By.Ws(new zn(a),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return jf.Ws(i,n)}uo(e){return zE.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);fe(Ms,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),a=this.lo(r),l=[],c=[];return a.forEach((d=>{i.has(d)||l.push(d)})),i.forEach((d=>{a.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=AE();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class BM{constructor(){this.Mo=new Jw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Jw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Z${Oo(e){}shutdown(){}}const hR="ConnectivityMonitor";class fR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(hR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(hR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cg=null;function Zw(){return Cg===null?Cg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cg++,"0x"+Cg.toString(16)}const Ob="RestConnection",eq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=Zw(),c=this.zo(e,n.toUriEncodedString());fe(Ob,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:f}=new URL(c),p=il(f);return this.Jo(e,c,d,r,p).then((g=>(fe(Ob,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw ci(Ob,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Md})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=eq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class nq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sr="WebChannelConnection";class rq extends tq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Zw();return new Promise(((c,d)=>{const f=new zP;f.setWithCredentials(!0),f.listenOnce(HP.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Jg.NO_ERROR:const g=f.getResponseJson();fe(sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Jg.TIMEOUT:fe(sr,`RPC '${e}' ${l} timed out`),d(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Jg.HTTP_ERROR:const b=f.getStatus();if(fe(sr,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_?.error;if(T&&T.status&&T.message){const S=(function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(D)>=0?D:ee.UNKNOWN})(T.status);d(new ce(S,T.message))}else d(new ce(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{fe(sr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);fe(sr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Zw(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=GP(),c=qP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=a.join("");fe(sr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,_=!1;const T=new nq({Yo:I=>{_?fe(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(b||(fe(sr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),fe(sr,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},Zo:()=>g.close()}),S=(I,R,D)=>{I.listen(R,(j=>{try{D(j)}catch(z){setTimeout((()=>{throw z}),0)}}))};return S(g,yf.EventType.OPEN,(()=>{_||(fe(sr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(g,yf.EventType.CLOSE,(()=>{_||(_=!0,fe(sr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(g))})),S(g,yf.EventType.ERROR,(I=>{_||(_=!0,ci(sr,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),T.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),S(g,yf.EventType.MESSAGE,(I=>{if(!_){const R=I.data[0];Re(!!R,16349);const D=R,j=D?.error||D[0]?.error;if(j){fe(sr,`RPC '${e}' stream ${i} received error:`,j);const z=j.status;let $=(function(C){const O=wn[C];if(O!==void 0)return ZD(O)})(z),Y=j.message;$===void 0&&($=ee.INTERNAL,Y="Unknown error status: "+z+" with message "+j.message),_=!0,T.a_(new ce($,Y)),g.close()}else fe(sr,`RPC '${e}' stream ${i} received:`,R),T.u_(R)}})),S(c,$P.STAT_EVENT,(I=>{I.stat===Cw.PROXY?fe(sr,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Cw.NOPROXY&&fe(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function FM(){return typeof window<"u"?window:null}function oy(){return typeof document<"u"?document:null}function Vc(t){return new c$(t,!0)}class HE{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const mR="PersistentStream";class zM{constructor(e,n,r,i,a,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(un(n.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ce(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(mR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(mR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iq extends zM{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h$(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Pe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?dn(l.readTime):Pe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Kw(this.serializer),n.addTarget=(function(a,l){let c;const d=l.target;if(c=jy(d)?{documents:lM(a,d)}:{query:j0(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=rM(a,l.resumeToken);const f=qw(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pe.min())>0){c.readTime=yd(a,l.snapshotVersion.toTimestamp());const f=qw(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=m$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Kw(this.serializer),n.removeTarget=e,this.q_(n)}}class sq extends zM{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=f$(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Kw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Zf(this.serializer,r)))};this.q_(n)}}class aq{}class oq extends aq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Gw(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(ee.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Gw(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(ee.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(un(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const wc="RemoteStore";class cq{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ul(this)&&(fe(wc,"Restarting streams for network reachability change."),await(async function(d){const f=xe(d);f.Ea.add(4),await Ud(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Dm(f)})(this))}))})),this.Ra=new lq(r,i)}}async function Dm(t){if(ul(t))for(const e of t.da)await e(!0)}async function Ud(t){for(const e of t.da)await e(!1)}function V0(t,e){const n=xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),GE(n)?qE(n):Fd(n).O_()&&$E(n,e))}function bd(t,e){const n=xe(t),r=Fd(n);n.Ia.delete(e),r.O_()&&HM(n,e),n.Ia.size===0&&(r.O_()?r.L_():ul(n)&&n.Ra.set("Unknown"))}function $E(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fd(t).Y_(e)}function HM(t,e){t.Va.Ue(e),Fd(t).Z_(e)}function qE(t){t.Va=new s$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fd(t).start(),t.Ra.ua()}function GE(t){return ul(t)&&!Fd(t).x_()&&t.Ia.size>0}function ul(t){return xe(t).Ea.size===0}function $M(t){t.Va=void 0}async function uq(t){t.Ra.set("Online")}async function dq(t){t.Ia.forEach(((e,n)=>{$E(t,e)}))}async function hq(t,e){$M(t),GE(t)?(t.Ra.ha(e),qE(t)):t.Ra.set("Unknown")}async function fq(t,e,n){if(t.Ra.set("Online"),e instanceof nM&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){fe(wc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zy(t,r)}else if(e instanceof sy?t.Va.Ze(e):e instanceof tM?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await jM(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(en.EMPTY_BYTE_STRING,p.snapshotVersion)),HM(a,d);const g=new Ea(p.target,d,f,p.sequenceNumber);$E(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){fe(wc,"Failed to raise snapshot:",r),await zy(t,r)}}async function zy(t,e,n){if(!ll(e))throw e;t.Ea.add(1),await Ud(t),t.Ra.set("Offline"),n||(n=()=>jM(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(wc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dm(t)}))}function qM(t,e){return e().catch((n=>zy(t,n,e)))}async function Bd(t){const e=xe(t),n=Qo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zo;for(;mq(e);)try{const i=await Q$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,pq(e,i)}catch(i){await zy(e,i)}GM(e)&&KM(e)}function mq(t){return ul(t)&&t.Ta.length<10}function pq(t,e){t.Ta.push(e);const n=Qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function GM(t){return ul(t)&&!Qo(t).x_()&&t.Ta.length>0}function KM(t){Qo(t).start()}async function gq(t){Qo(t).ra()}async function yq(t){const e=Qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function vq(t,e,n){const r=t.Ta.shift(),i=RE.from(r,e,n);await qM(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Bd(t)}async function xq(t,e){e&&Qo(t).X_&&await(async function(r,i){if((function(l){return JD(l)&&l!==ee.ABORTED})(i.code)){const a=r.Ta.shift();Qo(r).B_(),await qM(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Bd(r)}})(t,e),GM(t)&&KM(t)}async function pR(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),fe(wc,"RemoteStore received new credentials");const r=ul(n);n.Ea.add(3),await Ud(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dm(n)}async function e_(t,e){const n=xe(t);e?(n.Ea.delete(2),await Dm(n)):e||(n.Ea.add(2),await Ud(n),n.Ra.set("Unknown"))}function Fd(t){return t.ma||(t.ma=(function(n,r,i){const a=xe(n);return a.sa(),new iq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:uq.bind(null,t),t_:dq.bind(null,t),r_:hq.bind(null,t),H_:fq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),GE(t)?qE(t):t.Ra.set("Unknown")):(await t.ma.stop(),$M(t))}))),t.ma}function Qo(t){return t.fa||(t.fa=(function(n,r,i){const a=xe(n);return a.sa(),new sq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:gq.bind(null,t),r_:xq.bind(null,t),ta:yq.bind(null,t),na:vq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bd(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(wc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class KE{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new KE(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(t,e){if(un("AsyncQueue",`${e}: ${t}`),ll(t))return new ce(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=vf(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gR{constructor(){this.ga=new Dt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _c{constructor(e,n,r,i,a,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new _c(e,n,oc.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class bq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class wq{constructor(){this.queries=yR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=xe(n),a=i.queries;i.queries=yR(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function yR(){return new Fa((t=>VD(t)),Cm)}async function WE(t,e){const n=xe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new bq,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=zd(l,`Initialization of query '${Bu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&QE(n)}async function YE(t,e){const n=xe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _q(t,e){const n=xe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&QE(n)}function Eq(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function QE(t){t.Ca.forEach((e=>{e.next()}))}var t_,vR;(vR=t_||(t_={})).Ma="default",vR.Cache="cache";class XE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==t_.Cache}}class WM{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}class xR{constructor(e){this.serializer=e}$s(e){return zs(this.serializer,e)}Us(e){return e.metadata.exists?k0(this.serializer,e.document,!1):Lt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return dn(e)}}class JE{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=YM(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=nt.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new xR(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.$s(i.metadata.name);for(const l of i.metadata.queries){const c=(n.get(l)||Ge()).add(a);n.set(l,c)}}return n}async ja(e){const n=await X$(e,new xR(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)await J$(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}}}function YM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class QM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class JM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=UD(e),this.tu=new oc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new gR,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),_=Rm(this.query,g)?g:null,T=!!b&&this.mutatedKeys.has(b.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let I=!1;b&&_?b.data.isEqual(_.data)?T!==S&&(r.track({type:3,doc:_}),I=!0):this.su(b,_)||(r.track({type:2,doc:_}),I=!0,(d&&this.eu(_,d)>0||f&&this.eu(_,f)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),I=!0):b&&!_&&(r.track({type:1,doc:b}),I=!0,(d||f)&&(c=!0)),I&&(_?(l=l.add(_),a=S?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(_,T){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:I})}};return S(_)-S(T)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new _c(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new XM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new QM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _c.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dl="SyncEngine";class Tq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Sq{constructor(e){this.key=e,this.hu=!1}}class Aq{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Fa((c=>VD(c)),Cm),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(ye.comparator),this.Au=new Map,this.Ru=new OE,this.Vu={},this.mu=new Map,this.fu=bc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nq(t,e,n=!0){const r=L0(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ZM(r,e,n,!0),i}async function Iq(t,e){const n=L0(t);await ZM(n,e,!0,!1)}async function ZM(t,e,n,r){const i=await vd(t.localStore,ur(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await ZE(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&V0(t.remoteStore,i),c}async function ZE(t,e,n,r,i){t.pu=(g,b,_)=>(async function(S,I,R,D){let j=I.view.ru(R);j.Cs&&(j=await Uy(S.localStore,I.query,!1).then((({documents:k})=>I.view.ru(k,j))));const z=D&&D.targetChanges.get(I.targetId),$=D&&D.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(j,S.isPrimaryClient,z,$);return n_(S,I.targetId,Y.au),Y.snapshot})(t,g,b,_);const a=await Uy(t.localStore,e,!0),l=new JM(e,a.Qs),c=l.ru(a.documents),d=Pm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);n_(t,n,f.au);const p=new Tq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function Cq(t,e,n){const r=xe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!Cm(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bd(r.remoteStore,i.targetId),wd(r,i.targetId)})).catch(ol)):(wd(r,i.targetId),await xd(r.localStore,i.targetId,!0))}async function Rq(t,e){const n=xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bd(n.remoteStore,r.targetId))}async function kq(t,e,n){const r=rT(t);try{const i=await(function(l,c){const d=xe(l),f=vt.now(),p=c.reduce(((_,T)=>_.add(T.key)),Ge());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let T=Pr(),S=Ge();return d.Ns.getEntries(_,p).next((I=>{T=I,T.forEach(((R,D)=>{D.isValidDocument()||(S=S.add(R))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,T))).next((I=>{g=I;const R=[];for(const D of c){const j=n$(D,g.get(D.key).overlayedDocument);j!=null&&R.push(new za(D.key,j,AD(j.value.mapValue),Kt.exists(!0)))}return d.mutationQueue.addMutationBatch(_,f,R,c)})).next((I=>{b=I;const R=I.applyToLocalDocumentSet(g,S);return d.documentOverlayCache.saveOverlays(_,I.batchId,R)}))})).then((()=>({batchId:b.batchId,changes:FD(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Dt(Fe)),f=f.insert(c,d),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,n),await Ha(r,i.changes),await Bd(r.remoteStore)}catch(i){const a=zd(i,"Failed to persist write");n.reject(a)}}async function eO(t,e){const n=xe(t);try{const r=await Y$(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Re(l.hu,14607):i.removedDocuments.size>0&&(Re(l.hu,42227),l.hu=!1))})),await Ha(n,r,e)}catch(r){await ol(r)}}function bR(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=xe(l);d.onlineState=c;let f=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(c)&&(f=!0)})),f&&QE(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jq(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new Dt(ye.comparator);l=l.insert(a,Lt.newNoDocument(a,Pe.min()));const c=Ge().add(a),d=new jm(Pe.min(),new Map,new Dt(Fe),l,c);await eO(r,d),r.du=r.du.remove(a),r.Au.delete(e),nT(r)}else await xd(r.localStore,e,!1).then((()=>wd(r,e,n))).catch(ol)}async function Pq(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await W$(n.localStore,e);tT(n,r,null),eT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ha(n,i)}catch(i){await ol(i)}}async function Dq(t,e,n){const r=xe(t);try{const i=await(function(l,c){const d=xe(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((g=>(Re(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);tT(r,e,n),eT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ha(r,i)}catch(i){await ol(i)}}async function Mq(t,e){const n=xe(t);ul(n.remoteStore)||fe(dl,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(l){const c=xe(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(n.localStore);if(r===zo)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=zd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function eT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function tT(t,e,n){const r=xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function wd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||tO(t,r)}))}function tO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bd(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),nT(t))}function n_(t,e,n){for(const r of n)r instanceof QM?(t.Ru.addReference(r.key,e),Oq(t,r)):r instanceof XM?(fe(dl,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||tO(t,r.key)):_e(19791,{wu:r})}function Oq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(dl,"New document in limbo: "+n),t.Eu.add(r),nT(t))}function nT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(nt.fromString(e)),r=t.fu.next();t.Au.set(r,new Sq(n)),t.du=t.du.insert(n,r),V0(t.remoteStore,new Ea(ur(Od(n.path)),r,"TargetPurposeLimboResolution",kr.ce))}}async function Ha(t,e,n){const r=xe(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){i.push(f);const p=BE.As(d.targetId,f);a.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,f){const p=xe(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Q.forEach(f,(b=>Q.forEach(b.Es,(_=>p.persistence.referenceDelegate.addReference(g,b.targetId,_))).next((()=>Q.forEach(b.ds,(_=>p.persistence.referenceDelegate.removeReference(g,b.targetId,_)))))))))}catch(g){if(!ll(g))throw g;fe(FE,"Failed to update sequence numbers: "+g)}for(const g of f){const b=g.targetId;if(!g.fromCache){const _=p.Ms.get(b),T=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(b,S)}}})(r.localStore,a))}async function Vq(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){fe(dl,"User change. New user:",e.toKey());const r=await kM(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new ce(ee.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ha(n,r.Ls)}}function Lq(t,e){const n=xe(t),r=n.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let i=Ge();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}async function Uq(t,e){const n=xe(t),r=await Uy(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&n_(n,e.targetId,i.au),i}async function Bq(t,e){const n=xe(t);return MM(n.localStore,e).then((r=>Ha(n,r)))}async function Fq(t,e,n,r){const i=xe(t),a=await(function(c,d){const f=xe(c),p=xe(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",(g=>p.er(g,d).next((b=>b?f.localDocuments.getDocuments(g,b):Q.resolve(null)))))})(i.localStore,e);a!==null?(n==="pending"?await Bd(i.remoteStore):n==="acknowledged"||n==="rejected"?(tT(i,e,r||null),eT(i,e),(function(c,d){xe(xe(c).mutationQueue).ir(d)})(i.localStore,e)):_e(6720,"Unknown batchState",{Su:n}),await Ha(i,a)):fe(dl,"Cannot apply mutation batch with id: "+e)}async function zq(t,e){const n=xe(t);if(L0(n),rT(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await wR(n,r.toArray());n.gu=!0,await e_(n.remoteStore,!0);for(const a of i)V0(n.remoteStore,a)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((a,l)=>{n.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then((()=>(wd(n,l),xd(n.localStore,l,!0)))),bd(n.remoteStore,l)})),await i,await wR(n,r),(function(l){const c=xe(l);c.Au.forEach(((d,f)=>{bd(c.remoteStore,f)})),c.Ru.Jr(),c.Au=new Map,c.du=new Dt(ye.comparator)})(n),n.gu=!1,await e_(n.remoteStore,!1)}}async function wR(t,e,n){const r=xe(t),i=[],a=[];for(const l of e){let c;const d=r.Iu.get(l);if(d&&d.length!==0){c=await vd(r.localStore,ur(d[0]));for(const f of d){const p=r.Tu.get(f),g=await Uq(r,p);g.snapshot&&a.push(g.snapshot)}}else{const f=await DM(r.localStore,l);c=await vd(r.localStore,f),await ZE(r,nO(f),l,!1,c.resumeToken)}i.push(c)}return r.Pu.H_(a),i}function nO(t){return DD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Hq(t){return(function(n){return xe(xe(n).persistence).Ts()})(xe(t).localStore)}async function $q(t,e,n,r){const i=xe(t);if(i.gu)return void fe(dl,"Ignoring unexpected query state notification.");const a=i.Iu.get(e);if(a&&a.length>0)switch(n){case"current":case"not-current":{const l=await MM(i.localStore,LD(a[0])),c=jm.createSynthesizedRemoteEventForCurrentChange(e,n==="current",en.EMPTY_BYTE_STRING);await Ha(i,l,c);break}case"rejected":await xd(i.localStore,e,!0),wd(i,e,r);break;default:_e(64155,n)}}async function qq(t,e,n){const r=L0(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){fe(dl,"Adding an already active target "+i);continue}const a=await DM(r.localStore,i),l=await vd(r.localStore,a);await ZE(r,nO(a),l.targetId,!1,l.resumeToken),V0(r.remoteStore,l)}for(const i of n)r.Iu.has(i)&&await xd(r.localStore,i,!1).then((()=>{bd(r.remoteStore,i),wd(r,i)})).catch(ol)}}function L0(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jq.bind(null,e),e.Pu.H_=_q.bind(null,e.eventManager),e.Pu.yu=Eq.bind(null,e.eventManager),e}function rT(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dq.bind(null,e),e}function Gq(t,e,n){const r=xe(t);(async function(a,l,c){try{const d=await l.getMetadata();if(await(function(_,T){const S=xe(_),I=dn(T.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",(R=>S.Ii.getBundleMetadata(R,T.id))).then((R=>!!R&&R.createTime.compareTo(I)>=0))})(a.localStore,d))return await l.close(),c._completeWith((function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}})(d)),Promise.resolve(new Set);c._updateProgress(YM(d));const f=new JE(d,l.serializer);let p=await l.bu();for(;p;){const b=await f.Ga(p);b&&c._updateProgress(b),p=await l.bu()}const g=await f.ja(a.localStore);return await Ha(a,g.Ha,void 0),await(function(_,T){const S=xe(_);return S.persistence.runTransaction("Save bundle","readwrite",(I=>S.Ii.saveBundleMetadata(I,T)))})(a.localStore,d),c._completeWith(g.progress),Promise.resolve(g.Ja)}catch(d){return ci(dl,`Loading bundle failed with ${d}`),c._failWith(d),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RM(this.persistence,new CM,e.initialUser,this.serializer)}Cu(e){return new VE(O0.mi,this.serializer)}Du(e){return new BM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class iT extends _d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Ly,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new VE((r=>Ly.mi(r,n)),this.serializer)}}class sT extends _d{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await rT(this.xu.syncEngine),await Bd(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return RM(this.persistence,new CM,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new EM(r,e.asyncQueue,n)}Mu(e,n){const r=new aH(n,this.persistence);return new sH(e.asyncQueue,r)}Cu(e){const n=UE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new LE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,FM(),oy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new BM}}class rO extends sT{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof Mb&&(this.sharedClientState.syncEngine={Co:Fq.bind(null,n),vo:$q.bind(null,n),Fo:qq.bind(null,n),Ts:Hq.bind(null,n),Do:Bq.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await zq(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=FM();if(!Mb.v(n))throw new ce(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=UE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mb(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Xo{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vq.bind(null,this.syncEngine),await e_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wq})()}createDatastore(e){const n=Vc(e.databaseInfo.databaseId),r=(function(a){return new rq(a)})(e.databaseInfo);return(function(a,l,c,d){return new oq(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new cq(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>bR(this.syncEngine,n,0)),(function(){return fR.v()?new fR:new Z$})())}createSyncEngine(e,n){return(function(i,a,l,c,d,f,p){const g=new Aq(i,a,l,c,d,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=xe(n);fe(wc,"RemoteStore shutting down."),r.Ea.add(5),await Ud(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xo.provider={build:()=>new Xo};function _R(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class U0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class Kq{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new $n,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=await this.$u(r);return new WM(JSON.parse(i),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}class Wq{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.bu();if(!r||!r.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.Qa)}`);this.metadata=r;do r=this.bu(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),n=this.$u(e);return new WM(JSON.parse(n),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new ce(ee.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}class Yq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,a){const l=xe(i),c={documents:a.map((g=>Jf(l.serializer,g)))},d=await l.Ho("BatchGetDocuments",l.serializer.databaseId,nt.emptyPath(),c,a.length),f=new Map;d.forEach((g=>{const b=d$(l.serializer,g);f.set(b.key.toString(),b)}));const p=[];return a.forEach((g=>{const b=f.get(g.toString());Re(!!b,55234,{key:g}),p.push(b)})),p})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=ye.fromPath(r);this.mutations.push(new IE(i,this.precondition(i)))})),await(async function(r,i){const a=xe(r),l={writes:i.map((c=>Zf(a.serializer,c)))};await a.Go("Commit",a.serializer.databaseId,nt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});n=Pe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ce(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Pe.min())?Kt.exists(!1):Kt.updateTime(n):Kt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Pe.min()))throw new ce(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kt.updateTime(n)}return Kt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qq{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.zu=r.maxAttempts,this.M_=new HE(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Yq(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Am(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!JD(n)}return!1}}const Jo="FirestoreClient";class Xq{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zn.UNAUTHENTICATED,this.clientId=b0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{fe(Jo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(fe(Jo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zd(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Vb(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Jo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await kM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ER(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aT(t);fe(Jo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>pR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>pR(e.remoteStore,i))),t._onlineComponents=e}async function aT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Jo,"Using user provided OfflineComponentProvider");try{await Vb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ci("Error using user provided cache. Falling back to memory cache: "+n),await Vb(t,new _d)}}else fe(Jo,"Using default OfflineComponentProvider"),await Vb(t,new iT(void 0));return t._offlineComponents}async function B0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Jo,"Using user provided OnlineComponentProvider"),await ER(t,t._uninitializedComponentsProvider._online)):(fe(Jo,"Using default OnlineComponentProvider"),await ER(t,new Xo))),t._onlineComponents}function iO(t){return aT(t).then((e=>e.persistence))}function Hd(t){return aT(t).then((e=>e.localStore))}function sO(t){return B0(t).then((e=>e.remoteStore))}function oT(t){return B0(t).then((e=>e.syncEngine))}function aO(t){return B0(t).then((e=>e.datastore))}async function Ed(t){const e=await B0(t),n=e.eventManager;return n.onListen=Nq.bind(null,e.syncEngine),n.onUnlisten=Cq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Iq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rq.bind(null,e.syncEngine),n}function Jq(t){return t.asyncQueue.enqueue((async()=>{const e=await iO(t),n=await sO(t);return e.setNetworkEnabled(!0),(function(i){const a=xe(i);return a.Ea.delete(0),Dm(a)})(n)}))}function Zq(t){return t.asyncQueue.enqueue((async()=>{const e=await iO(t),n=await sO(t);return e.setNetworkEnabled(!1),(async function(i){const a=xe(i);a.Ea.add(0),await Ud(a),a.Ra.set("Offline")})(n)}))}function eG(t,e){const n=new $n;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,l){try{const c=await(function(f,p){const g=xe(f);return g.persistence.runTransaction("read document","readonly",(b=>g.localDocuments.getDocument(b,p)))})(i,a);c.isFoundDocument()?l.resolve(c):c.isNoDocument()?l.resolve(null):l.reject(new ce(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const d=zd(c,`Failed to get document '${a} from cache`);l.reject(d)}})(await Hd(t),e,n))),n.promise}function oO(t,e,n={}){const r=new $n;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,f){const p=new U0({next:b=>{p.Nu(),l.enqueueAndForget((()=>YE(a,g)));const _=b.docs.has(c);!_&&b.fromCache?f.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?f.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new XE(Od(c.path),p,{includeMetadataChanges:!0,qa:!0});return WE(a,g)})(await Ed(t),t.asyncQueue,e,n,r))),r.promise}function tG(t,e){const n=new $n;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,l){try{const c=await Uy(i,a,!0),d=new JM(a,c.Qs),f=d.ru(c.documents),p=d.applyChanges(f,!1);l.resolve(p.snapshot)}catch(c){const d=zd(c,`Failed to execute query '${a} against cache`);l.reject(d)}})(await Hd(t),e,n))),n.promise}function lO(t,e,n={}){const r=new $n;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,f){const p=new U0({next:b=>{p.Nu(),l.enqueueAndForget((()=>YE(a,g))),b.fromCache&&d.source==="server"?f.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new XE(c,p,{includeMetadataChanges:!0,qa:!0});return WE(a,g)})(await Ed(t),t.asyncQueue,e,n,r))),r.promise}function nG(t,e,n){const r=new $n;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await aO(t);r.resolve((async function(l,c,d){const f=xe(l),{request:p,gt:g,parent:b}=cM(f.serializer,MD(c),d);f.connection.$o||delete p.parent;const _=(await f.Ho("RunAggregationQuery",f.serializer.databaseId,b,p,1)).filter((S=>!!S.result));Re(_.length===1,64727);const T=_[0].result?.aggregateFields;return Object.keys(T).reduce(((S,I)=>(S[g[I]]=T[I],S)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function rG(t,e){const n=new U0(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){xe(i).Ca.add(a),a.next()})(await Ed(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){xe(i).Ca.delete(a)})(await Ed(t),n)))}}function iG(t,e,n,r){const i=(function(l,c){let d;return d=typeof l=="string"?eM().encode(l):l,(function(p,g){return new Kq(p,g)})((function(p,g){if(p instanceof Uint8Array)return _R(p,g);if(p instanceof ArrayBuffer)return _R(new Uint8Array(p),g);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),c)})(n,Vc(e));t.asyncQueue.enqueueAndForget((async()=>{Gq(await oT(t),i,r)}))}function sG(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const a=xe(r);return a.persistence.runTransaction("Get named query","readonly",(l=>a.Ii.getNamedQuery(l,i)))})(await Hd(t),e)))}function cO(t,e){return(function(r,i){return new Wq(r,i)})(t,e)}function aG(t,e){return t.asyncQueue.enqueue((async()=>(async function(r,i){const a=xe(r),l=a.indexManager,c=[];return a.persistence.runTransaction("Configure indexes","readwrite",(d=>l.getFieldIndexes(d).next((f=>(function(g,b,_,T,S){g=[...g],b=[...b],g.sort(_),b.sort(_);const I=g.length,R=b.length;let D=0,j=0;for(;D<R&&j<I;){const z=_(g[j],b[D]);z<0?S(g[j++]):z>0?T(b[D++]):(D++,j++)}for(;D<R;)T(b[D++]);for(;j<I;)S(g[j++])})(f,i,tH,(p=>{c.push(l.addFieldIndex(d,p))}),(p=>{c.push(l.deleteFieldIndex(d,p))})))).next((()=>Q.waitFor(c)))))})(await Hd(t),e)))}function oG(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){xe(r).Fs.Vs=i})(await Hd(t),e)))}function lG(t){return t.asyncQueue.enqueue((async()=>(function(n){const r=xe(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(a=>i.deleteAllFieldIndexes(a)))})(await Hd(t))))}function uO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const TR=new Map;const dO="firestore.googleapis.com",SR=!0;class AR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dO,this.ssl=SR}else this.host=e.host,this.ssl=e.ssl??SR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_M)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YP;switch(r.type){case"firstParty":return new W7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=TR.get(n);r&&(fe("ComponentProvider","Removing Datastore"),TR.delete(n),r.terminate())})(this),Promise.resolve()}}function hO(t,e,n,r={}){t=rt(t,Mm);const i=il(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(m0(`https://${c}`),tE("Firestore",!0)),a.host!==dO&&a.host!==c&&ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!Pi(d,l)&&(t._setSettings(d),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=zn.MOCK_USER;else{f=Yj(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zn(g)}t._authCredentials=new q7(new WP(f,p))}}class Pn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pn(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Oc(n,Tt._jsonSchema))return new Tt(e,r||null,new ye(nt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:En("string",Tt._jsonSchemaVersion),referencePath:En("string")};class rs extends Pn{constructor(e,n,r){super(e,n,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ye(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function ai(t,e,...n){if(t=dt(t),pE("collection","path",e),t instanceof Mm){const r=nt.fromString(e,...n);return mC(r),new rs(t,null,r)}{if(!(t instanceof Tt||t instanceof rs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return mC(r),new rs(t.firestore,null,r)}}function cG(t,e){if(t=rt(t,Mm),pE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pn(t,null,(function(r){return new Ba(nt.emptyPath(),r)})(e))}function or(t,e,...n){if(t=dt(t),arguments.length===1&&(e=b0.newId()),pE("doc","path",e),t instanceof Mm){const r=nt.fromString(e,...n);return fC(r),new Tt(t,null,new ye(r))}{if(!(t instanceof Tt||t instanceof rs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nt.fromString(e,...n));return fC(r),new Tt(t.firestore,t instanceof rs?t.converter:null,new ye(r))}}function uG(t,e){return t=dt(t),e=dt(e),(t instanceof Tt||t instanceof rs)&&(e instanceof Tt||e instanceof rs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function lT(t,e){return t=dt(t),e=dt(e),t instanceof Pn&&e instanceof Pn&&t.firestore===e.firestore&&Cm(t._query,e._query)&&t.converter===e.converter}const NR="AsyncQueue";class IR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HE(this,"async_queue_retry"),this._c=()=>{const r=oy();r&&fe(NR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=oy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=oy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $n;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;fe(NR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,un("INTERNAL UNHANDLED ERROR: ",CR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=KE.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&_e(47125,{Pc:CR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Zu(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class fO{constructor(){this._progressObserver={},this._taskCompletionResolver=new $n,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const dG=-1;class kt extends Mm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IR(e),this._firestoreClient=void 0,await e}}}function hG(t,e,n){n||(n=Wf);const r=Qs(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),a=r.getOptions(n);if(Pi(a,e))return i;throw new ce(ee.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ce(ee.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_M)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&il(e.host)&&m0(e.host),r.initialize({options:e,instanceIdentifier:n})}function mO(t,e){const n=typeof t=="object"?t:g0(),r=typeof t=="string"?t:e||Wf,i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Gj("firestore");a&&hO(i,...a)}return i}function Yt(t){if(t._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pO(t),t._firestoreClient}function pO(t){const e=t._freezeSettings(),n=(function(i,a,l,c){return new MH(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,uO(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Xq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}function fG(t,e){ci("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return gO(t,Xo.provider,{build:r=>new sT(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function mG(t){ci("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();gO(t,Xo.provider,{build:n=>new rO(n,e.cacheSizeBytes)})}function gO(t,e,n){if((t=rt(t,kt))._firestoreClient||t._terminated)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ce(ee.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},pO(t)}function pG(t){if(t._initialized&&!t._terminated)throw new ce(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $n;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Fs.v())return Promise.resolve();const i=r+IM;await Fs.delete(i)})(UE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function gG(t){return(function(n){const r=new $n;return n.asyncQueue.enqueueAndForget((async()=>Mq(await oT(n),r))),r.promise})(Yt(t=rt(t,kt)))}function yG(t){return Jq(Yt(t=rt(t,kt)))}function vG(t){return Zq(Yt(t=rt(t,kt)))}function xG(t){return cF(t.app,"firestore",t._databaseId.database),t._delete()}function r_(t,e){const n=Yt(t=rt(t,kt)),r=new fO;return iG(n,t._databaseId,e,r),r}function yO(t,e){return sG(Yt(t=rt(t,kt)),e).then((n=>n?new Pn(t,null,n.query):null))}class Td{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class vO{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Rr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rr(en.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rr(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,Rr._jsonSchema))return Rr.fromBase64String(e.bytes)}}Rr._jsonSchemaVersion="firestore/bytes/1.0",Rr._jsonSchema={type:En("string",Rr._jsonSchemaVersion),bytes:En("string")};class hl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function bG(){return new hl(jw)}class fl{constructor(e){this._methodName=e}}class is{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,is._jsonSchema))return new is(e.latitude,e.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:En("string",is._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:En("string",ki._jsonSchemaVersion),vectorValues:En("object")};const wG=/^__.*__$/;class _G{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vd(e,this.data,n,this.fieldTransforms)}}class xO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:t})}}class F0{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new F0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bO(this.Ac)&&wG.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vc(e)}Cc(e,n,r,i=!1){return new F0({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lc(t){const e=t._freezeSettings(),n=Vc(t._databaseId);return new EG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z0(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);pT("Data must be an object, but it was:",l,r);const c=EO(r,l);let d,f;if(a.merge)d=new jr(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const b=em(e,g,n);if(!l.contains(b))throw new ce(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);SO(p,b)||p.push(b)}d=new jr(p),f=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=l.fieldTransforms;return new _G(new nr(c),d,f)}class Om extends fl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Om}}function wO(t,e,n){return new F0({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class cT extends fl{_toFieldTransform(e){return new km(e.path,new pd)}isEqual(e){return e instanceof cT}}class uT extends fl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=wO(this,e,!0),r=this.vc.map((a=>Uc(a,n))),i=new gc(r);return new km(e.path,i)}isEqual(e){return e instanceof uT&&Pi(this.vc,e.vc)}}class dT extends fl{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=wO(this,e,!0),r=this.vc.map((a=>Uc(a,n))),i=new yc(r);return new km(e.path,i)}isEqual(e){return e instanceof dT&&Pi(this.vc,e.vc)}}class hT extends fl{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new gd(e.serializer,$D(e.serializer,this.Fc));return new km(e.path,n)}isEqual(e){return e instanceof hT&&this.Fc===e.Fc}}function fT(t,e,n,r){const i=t.Cc(1,e,n);pT("Data must be an object, but it was:",i,r);const a=[],l=nr.empty();cl(r,((d,f)=>{const p=H0(e,d,n);f=dt(f);const g=i.yc(p);if(f instanceof Om)a.push(p);else{const b=Uc(f,g);b!=null&&(a.push(p),l.set(p,b))}}));const c=new jr(a);return new xO(l,c,i.fieldTransforms)}function mT(t,e,n,r,i,a){const l=t.Cc(1,e,n),c=[em(e,r,n)],d=[i];if(a.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)c.push(em(e,a[b])),d.push(a[b+1]);const f=[],p=nr.empty();for(let b=c.length-1;b>=0;--b)if(!SO(f,c[b])){const _=c[b];let T=d[b];T=dt(T);const S=l.yc(_);if(T instanceof Om)f.push(_);else{const I=Uc(T,S);I!=null&&(f.push(_),p.set(_,I))}}const g=new jr(f);return new xO(p,g,l.fieldTransforms)}function _O(t,e,n,r=!1){return Uc(n,t.Cc(r?4:3,e))}function Uc(t,e){if(TO(t=dt(t)))return pT("Unsupported field value:",e,t),EO(t,e);if(t instanceof fl)return(function(r,i){if(!bO(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let d=Uc(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $D(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=vt.fromDate(r);return{timestampValue:yd(i.serializer,a)}}if(r instanceof vt){const a=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(i.serializer,a)}}if(r instanceof is)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rr)return{bytesValue:rM(i.serializer,r._byteString)};if(r instanceof Tt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:PE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ki)return(function(l,c){return{mapValue:{fields:{[_E]:{stringValue:EE},[hd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return NE(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${w0(r)}`)})(t,e)}function EO(t,e){const n={};return yD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(t,((r,i)=>{const a=Uc(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function TO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof is||t instanceof Rr||t instanceof Tt||t instanceof fl||t instanceof ki)}function pT(t,e,n){if(!TO(n)||!JP(n)){const r=w0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function em(t,e,n){if((e=dt(e))instanceof hl)return e._internalPath;if(typeof e=="string")return H0(t,e);throw Hy("Field path arguments must be of type string or ",t,!1,void 0,n)}const TG=new RegExp("[~\\*/\\[\\]]");function H0(t,e,n){if(e.search(TG)>=0)throw Hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hl(...e.split("."))._internalPath}catch{throw Hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hy(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ce(ee.INVALID_ARGUMENT,c+t+d)}function SO(t,e){return t.some((n=>n.isEqual(e)))}class tm{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SG extends tm{data(){return super.data()}}function $0(t,e){return typeof e=="string"?H0(t,e):e instanceof hl?e._internalPath:e._delegate._internalPath}function AO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gT{}class $d extends gT{}function Da(t,e,...n){let r=[];e instanceof gT&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((d=>d instanceof Bc)).length,c=a.filter((d=>d instanceof qd)).length;if(l>1||l>0&&c>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class qd extends $d{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qd(e,n,r)}_apply(e){const n=this._parse(e);return IO(e._query,n),new Pn(e.firestore,e.converter,Hw(e._query,n))}_parse(e){const n=Lc(e.firestore);return(function(a,l,c,d,f,p,g){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){kR(g,p);const T=[];for(const S of g)T.push(RR(d,a,S));b={arrayValue:{values:T}}}else b=RR(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||kR(g,p),b=_O(c,l,g,p==="in"||p==="not-in");return ct.create(f,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function q0(t,e,n){const r=e,i=$0("where",t);return qd._create(i,r,n)}class Bc extends gT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bc(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Et.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)IO(l,d),l=Hw(l,d)})(e._query,n),new Pn(e.firestore,e.converter,Hw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AG(...t){return t.forEach((e=>CO("or",e))),Bc._create("or",t)}function NG(...t){return t.forEach((e=>CO("and",e))),Bc._create("and",t)}class G0 extends $d{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new G0(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xf(a,l)})(e._query,this._field,this._direction);return new Pn(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ba(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function K0(t,e="asc"){const n=e,r=$0("orderBy",t);return G0._create(r,n)}class Vm extends $d{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Vm(e,n,r)}_apply(e){return new Pn(e.firestore,e.converter,Dy(e._query,this._limit,this._limitType))}}function i_(t){return ZP("limit",t),Vm._create("limit",t,"F")}function IG(t){return ZP("limitToLast",t),Vm._create("limitToLast",t,"L")}class Lm extends $d{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Lm(e,n,r)}_apply(e){const n=NO(e,this.type,this._docOrFields,this._inclusive);return new Pn(e.firestore,e.converter,(function(i,a){return new Ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function CG(...t){return Lm._create("startAt",t,!0)}function RG(...t){return Lm._create("startAfter",t,!1)}class Um extends $d{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Um(e,n,r)}_apply(e){const n=NO(e,this.type,this._docOrFields,this._inclusive);return new Pn(e.firestore,e.converter,(function(i,a){return new Ba(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function kG(...t){return Um._create("endBefore",t,!1)}function jG(...t){return Um._create("endAt",t,!0)}function NO(t,e,n,r){if(n[0]=dt(n[0]),n[0]instanceof tm)return(function(a,l,c,d,f){if(!d)throw new ce(ee.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const g of Ju(a))if(g.field.isKeyField())p.push(mc(l,d.key));else{const b=d.data.field(g.field);if(A0(b))throw new ce(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const _=g.field.canonicalString();throw new ce(ee.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}p.push(b)}return new Yo(p,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Lc(t.firestore);return(function(l,c,d,f,p,g){const b=l.explicitOrderBy;if(p.length>b.length)throw new ce(ee.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _=[];for(let T=0;T<p.length;T++){const S=p[T];if(b[T].field.isKeyField()){if(typeof S!="string")throw new ce(ee.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof S}`);if(!SE(l)&&S.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${S}' contains a slash.`);const I=l.path.child(nt.fromString(S));if(!ye.isDocumentKey(I))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const R=new ye(I);_.push(mc(c,R))}else{const I=_O(d,f,S);_.push(I)}}return new Yo(_,g)})(t._query,t.firestore._databaseId,i,e,n,r)}}function RR(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mc(t,new ye(r))}if(n instanceof Tt)return mc(t,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${w0(n)}.`)}function kR(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IO(t,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function CO(t,e){if(!(e instanceof qd||e instanceof Bc))throw new ce(ee.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class yT{convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[hd].arrayValue?.values?.map((r=>Gt(r.doubleValue)));return new ki(n)}convertGeoPoint(e){return new is(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=N0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const n=ja(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nt.fromString(e);Re(fM(r),9688,{name:e});const i=new Go(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return i.isEqual(n)||un(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function W0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class vT extends yT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function PG(t){return new Td("sum",em("sum",t))}function DG(t){return new Td("avg",em("average",t))}function RO(){return new Td("count")}function MG(t,e){return t instanceof Td&&e instanceof Td&&t.aggregateType===e.aggregateType&&t._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function OG(t,e){return lT(t.query,e.query)&&Pi(t.data(),e.data())}const kO="NOT SUPPORTED";class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vr extends tm{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function VG(t,e,n){if(Oc(e,Vr._jsonSchema)){if(e.bundle===kO)throw new ce(ee.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Vc(t._databaseId),i=cO(e.bundle,r),a=i.Wu(),l=new JE(i.getMetadata(),r);for(const p of a)l.Ga(p);const c=l.documents;if(c.length!==1)throw new ce(ee.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${c.length} documents.`);const d=k0(r,c[0].document),f=new ye(nt.fromString(e.bundleName));return new Vr(t,new vT(t),f,d,new Ta(!1,!1),n||null)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:En("string",Vr._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class Pf extends Vr{data(e={}){return super.data(e)}}class Lr{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Pf(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new Pf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ta(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Pf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ta(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:UG(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LG(t,e,n){if(Oc(e,Lr._jsonSchema)){if(e.bundle===kO)throw new ce(ee.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Vc(t._databaseId),i=cO(e.bundle,r),a=i.Wu(),l=new JE(i.getMetadata(),r);for(const b of a)l.Ga(b);if(l.queries.length!==1)throw new ce(ee.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${l.queries.length} queries.`);const c=P0(l.queries[0].bundledQuery),d=l.documents;let f=new oc;d.map((b=>{const _=k0(r,b.document);f=f.add(_)}));const p=_c.fromInitialDocuments(c,f,Ge(),!1,!1),g=new Pn(t,n||null,c);return new Lr(t,new vT(t),g,p)}}function UG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}function BG(t,e){return t instanceof Vr&&e instanceof Vr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Lr&&e instanceof Lr&&t._firestore===e._firestore&&lT(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function nm(t){t=rt(t,Tt);const e=rt(t.firestore,kt);return oO(Yt(e),t._key).then((n=>bT(e,t,n)))}Lr._jsonSchemaVersion="firestore/querySnapshot/1.0",Lr._jsonSchema={type:En("string",Lr._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class ml extends yT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function FG(t){t=rt(t,Tt);const e=rt(t.firestore,kt),n=Yt(e),r=new ml(e);return eG(n,t._key).then((i=>new Vr(e,r,t._key,i,new Ta(i!==null&&i.hasLocalMutations,!0),t.converter)))}function zG(t){t=rt(t,Tt);const e=rt(t.firestore,kt);return oO(Yt(e),t._key,{source:"server"}).then((n=>bT(e,t,n)))}function Ma(t){t=rt(t,Pn);const e=rt(t.firestore,kt),n=Yt(e),r=new ml(e);return AO(t._query),lO(n,t._query).then((i=>new Lr(e,r,t,i)))}function HG(t){t=rt(t,Pn);const e=rt(t.firestore,kt),n=Yt(e),r=new ml(e);return tG(n,t._query).then((i=>new Lr(e,r,t,i)))}function $G(t){t=rt(t,Pn);const e=rt(t.firestore,kt),n=Yt(e),r=new ml(e);return lO(n,t._query,{source:"server"}).then((i=>new Lr(e,r,t,i)))}function xT(t,e,n){t=rt(t,Tt);const r=rt(t.firestore,kt),i=W0(t.converter,e,n);return Gd(r,[z0(Lc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Kt.none())])}function s_(t,e,n,...r){t=rt(t,Tt);const i=rt(t.firestore,kt),a=Lc(i);let l;return l=typeof(e=dt(e))=="string"||e instanceof hl?mT(a,"updateDoc",t._key,e,n,r):fT(a,"updateDoc",t._key,e),Gd(i,[l.toMutation(t._key,Kt.exists(!0))])}function Y0(t){return Gd(rt(t.firestore,kt),[new Ld(t._key,Kt.none())])}function Bm(t,e){const n=rt(t.firestore,kt),r=or(t),i=W0(t.converter,e);return Gd(n,[z0(Lc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kt.exists(!1))]).then((()=>r))}function rm(t,...e){t=dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Zu(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Zu(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let a,l,c;if(t instanceof Tt)l=rt(t.firestore,kt),c=Od(t._key.path),a={next:d=>{e[r]&&e[r](bT(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=rt(t,Pn);l=rt(d.firestore,kt),c=d._query;const f=new ml(l);a={next:p=>{e[r]&&e[r](new Lr(l,f,d,p))},error:e[r+1],complete:e[r+2]},AO(t._query)}return(function(f,p,g,b){const _=new U0(b),T=new XE(p,_,g);return f.asyncQueue.enqueueAndForget((async()=>WE(await Ed(f),T))),()=>{_.Nu(),f.asyncQueue.enqueueAndForget((async()=>YE(await Ed(f),T)))}})(Yt(l),c,i,a)}function qG(t,e,...n){const r=dt(t),i=(function(d){const f={bundle:"",bundleName:"",bundleSource:""},p=["bundle","bundleName","bundleSource"];for(const g of p){if(!(g in d)){f.error=`snapshotJson missing required field: ${g}`;break}const b=d[g];if(typeof b!="string"){f.error=`snapshotJson field '${g}' must be a string.`;break}if(b.length===0){f.error=`snapshotJson field '${g}' cannot be an empty string.`;break}g==="bundle"?f.bundle=b:g==="bundleName"?f.bundleName=b:g==="bundleSource"&&(f.bundleSource=b)}return f})(e);if(i.error)throw new ce(ee.INVALID_ARGUMENT,i.error);let a,l=0;if(typeof n[l]!="object"||Zu(n[l])||(a=n[l++]),i.bundleSource==="QuerySnapshot"){let c=null;if(typeof n[l]=="object"&&Zu(n[l])){const d=n[l++];c={next:d.next,error:d.error,complete:d.complete}}else c={next:n[l++],error:n[l++],complete:n[l++]};return(function(f,p,g,b,_){let T,S=!1;return r_(f,p.bundle).then((()=>yO(f,p.bundleName))).then((R=>{R&&!S&&(_&&R.withConverter(_),T=rm(R,g||{},b))})).catch((R=>(b.error&&b.error(R),()=>{}))),()=>{S||(S=!0,T&&T())}})(r,i,a,c,n[l])}if(i.bundleSource==="DocumentSnapshot"){let c=null;if(typeof n[l]=="object"&&Zu(n[l])){const d=n[l++];c={next:d.next,error:d.error,complete:d.complete}}else c={next:n[l++],error:n[l++],complete:n[l++]};return(function(f,p,g,b,_){let T,S=!1;return r_(f,p.bundle).then((()=>{if(!S){const R=new Tt(f,_||null,ye.fromPath(p.bundleName));T=rm(R,g||{},b)}})).catch((R=>(b.error&&b.error(R),()=>{}))),()=>{S||(S=!0,T&&T())}})(r,i,a,c,n[l])}throw new ce(ee.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function GG(t,e){return rG(Yt(t=rt(t,kt)),Zu(e)?e:{next:e})}function Gd(t,e){return(function(r,i){const a=new $n;return r.asyncQueue.enqueueAndForget((async()=>kq(await oT(r),i,a))),a.promise})(Yt(t),e)}function bT(t,e,n){const r=n.docs.get(e._key),i=new ml(t);return new Vr(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}function KG(t){return jO(t,{count:RO()})}function jO(t,e){const n=rt(t.firestore,kt),r=Yt(n),i=gD(e,((a,l)=>new XD(l,a.aggregateType,a._internalFieldPath)));return nG(r,t._query,i).then((a=>(function(c,d,f){const p=new ml(c);return new vO(d,p,f)})(n,t,a)))}class WG{constructor(e){this.kind="memory",this._onlineComponentProvider=Xo.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new iT(void 0)}}toJSON(){return{kind:this.kind}}}class YG{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=PO(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class QG{constructor(){this.kind="memoryEager",this._offlineComponentProvider=_d.provider}toJSON(){return{kind:this.kind}}}class XG{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new iT(e)}}toJSON(){return{kind:this.kind}}}function JG(){return new QG}function ZG(t){return new XG(t?.cacheSizeBytes)}function eK(t){return new WG(t)}function tK(t){return new YG(t)}class nK{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Xo.provider,this._offlineComponentProvider={build:n=>new sT(n,e?.cacheSizeBytes,this.forceOwnership)}}}class rK{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Xo.provider,this._offlineComponentProvider={build:n=>new rO(n,e?.cacheSizeBytes)}}}function PO(t){return new nK(t?.forceOwnership)}function iK(){return new rK}const sK={maxAttempts:5};class DO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lc(e)}set(e,n,r){this._verifyNotCommitted();const i=Lo(e,this._firestore),a=W0(i.converter,n,r),l=z0(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Kt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=Lo(e,this._firestore);let l;return l=typeof(n=dt(n))=="string"||n instanceof hl?mT(this._dataReader,"WriteBatch.update",a._key,n,r,i):fT(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,Kt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Lo(e,this._firestore);return this._mutations=this._mutations.concat(new Ld(n._key,Kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lo(t,e){if((t=dt(t)).firestore!==e)throw new ce(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class aK{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Lc(e)}get(e){const n=Lo(e,this._firestore),r=new vT(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return _e(24041);const a=i[0];if(a.isFoundDocument())return new tm(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new tm(this._firestore,r,n._key,null,n.converter);throw _e(18433,{doc:a})}))}set(e,n,r){const i=Lo(e,this._firestore),a=W0(i.converter,n,r),l=z0(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const a=Lo(e,this._firestore);let l;return l=typeof(n=dt(n))=="string"||n instanceof hl?mT(this._dataReader,"Transaction.update",a._key,n,r,i):fT(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,l),this}delete(e){const n=Lo(e,this._firestore);return this._transaction.delete(n._key),this}}class MO extends aK{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Lo(e,this._firestore),r=new ml(this._firestore);return super.get(e).then((i=>new Vr(this._firestore,r,n._key,i._document,new Ta(!1,!1),n.converter)))}}function oK(t,e,n){t=rt(t,kt);const r={...sK,...n};return(function(a){if(a.maxAttempts<1)throw new ce(ee.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(a,l,c){const d=new $n;return a.asyncQueue.enqueueAndForget((async()=>{const f=await aO(a);new Qq(a.asyncQueue,f,c,l,d).ju()})),d.promise})(Yt(t),(i=>e(new MO(t,i))),r)}function lK(){return new Om("deleteField")}function Zo(){return new cT("serverTimestamp")}function cK(...t){return new uT("arrayUnion",t)}function uK(...t){return new dT("arrayRemove",t)}function dK(t){return new hT("increment",t)}function hK(t){return new ki(t)}function fK(t){return Yt(t=rt(t,kt)),new DO(t,(e=>Gd(t,e)))}function mK(t,e){const n=Yt(t=rt(t,kt));if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return ci("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(a){const l=typeof a=="string"?(function(f){try{return JSON.parse(f)}catch(p){throw new ce(ee.INVALID_ARGUMENT,"Failed to parse JSON: "+p?.message)}})(a):a,c=[];if(Array.isArray(l.indexes))for(const d of l.indexes){const f=jR(d,"collectionGroup"),p=[];if(Array.isArray(d.fields))for(const g of d.fields){const b=H0("setIndexConfiguration",jR(g,"fieldPath"));g.arrayConfig==="CONTAINS"?p.push(new sc(b,2)):g.order==="ASCENDING"?p.push(new sc(b,0)):g.order==="DESCENDING"&&p.push(new sc(b,1))}c.push(new ad(ad.UNKNOWN_ID,f,p,od.empty()))}return c})(e);return aG(n,r)}function jR(t,e){if(typeof t[e]!="string")throw new ce(ee.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}class OO{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function pK(t){t=rt(t,kt);const e=PR.get(t);if(e)return e;if(Yt(t)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new OO(t);return PR.set(t,r),r}function gK(t){VO(t,!0)}function yK(t){VO(t,!1)}function vK(t){lG(Yt(t._firestore)).then((e=>fe("deleting all persistent cache indexes succeeded"))).catch((e=>ci("deleting all persistent cache indexes failed",e)))}function VO(t,e){oG(Yt(t._firestore),e).then((n=>fe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((n=>ci(`setting persistent cache index auto creation isEnabled=${e} failed`,n)))}const PR=new WeakMap;function xK(t){const e=Yt(rt(t.firestore,kt)),n=e._onlineComponents?.datastore.serializer;return n===void 0?null:j0(n,ur(t._query)).ft}function bK(t,e){const n=gD(e,((a,l)=>new XD(l,a.aggregateType,a._internalFieldPath))),r=Yt(rt(t.firestore,kt)),i=r._onlineComponents?.datastore.serializer;return i===void 0?null:cM(i,MD(t._query),n,!0).request}class wK{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return wT.instance.onExistenceFilterMismatch(e)}}class wT{constructor(){this.Mc=new Map}static get instance(){return Rg||(Rg=new wT,(function(n){if($w)throw new Error("a TestingHooksSpi instance is already set");$w=n})(Rg)),Rg}lt(e){this.Mc.forEach((n=>n(e)))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.Mc;return r.set(n,e),()=>r.delete(n)}}let Rg=null;(function(e,n=!0){(function(i){Md=i})(Mc),ss(new Di("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new kt(new G7(r.getProvider("auth-internal")),new Y7(l,r.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Go(f.options.projectId,p)})(l,i),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Or(dC,hC,e),Or(dC,hC,"esm2020")})();const LO=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:yT,AggregateField:Td,AggregateQuerySnapshot:vO,Bytes:Rr,CACHE_SIZE_UNLIMITED:dG,CollectionReference:rs,DocumentReference:Tt,DocumentSnapshot:Vr,FieldPath:hl,FieldValue:fl,Firestore:kt,FirestoreError:ce,GeoPoint:is,LoadBundleTask:fO,PersistentCacheIndexManager:OO,Query:Pn,QueryCompositeFilterConstraint:Bc,QueryConstraint:$d,QueryDocumentSnapshot:Pf,QueryEndAtConstraint:Um,QueryFieldFilterConstraint:qd,QueryLimitConstraint:Vm,QueryOrderByConstraint:G0,QuerySnapshot:Lr,QueryStartAtConstraint:Lm,SnapshotMetadata:Ta,Timestamp:vt,Transaction:MO,VectorValue:ki,WriteBatch:DO,_AutoId:b0,_ByteString:en,_DatabaseId:Go,_DocumentKey:ye,_EmptyAppCheckTokenProvider:Q7,_EmptyAuthCredentialsProvider:YP,_FieldPath:Bt,_TestingHooks:wK,_cast:rt,_debugAssert:$7,_internalAggregationQueryToProtoRunAggregationQueryRequest:bK,_internalQueryToProtoQueryTarget:xK,_isBase64Available:PH,_logWarn:ci,_validateIsNotUsedTogether:XP,addDoc:Bm,aggregateFieldEqual:MG,aggregateQuerySnapshotEqual:OG,and:NG,arrayRemove:uK,arrayUnion:cK,average:DG,clearIndexedDbPersistence:pG,collection:ai,collectionGroup:cG,connectFirestoreEmulator:hO,count:RO,deleteAllPersistentCacheIndexes:vK,deleteDoc:Y0,deleteField:lK,disableNetwork:vG,disablePersistentCacheIndexAutoCreation:yK,doc:or,documentId:bG,documentSnapshotFromJSON:VG,enableIndexedDbPersistence:fG,enableMultiTabIndexedDbPersistence:mG,enableNetwork:yG,enablePersistentCacheIndexAutoCreation:gK,endAt:jG,endBefore:kG,ensureFirestoreConfigured:Yt,executeWrite:Gd,getAggregateFromServer:jO,getCountFromServer:KG,getDoc:nm,getDocFromCache:FG,getDocFromServer:zG,getDocs:Ma,getDocsFromCache:HG,getDocsFromServer:$G,getFirestore:mO,getPersistentCacheIndexManager:pK,increment:dK,initializeFirestore:hG,limit:i_,limitToLast:IG,loadBundle:r_,memoryEagerGarbageCollector:JG,memoryLocalCache:eK,memoryLruGarbageCollector:ZG,namedQuery:yO,onSnapshot:rm,onSnapshotResume:qG,onSnapshotsInSync:GG,or:AG,orderBy:K0,persistentLocalCache:tK,persistentMultipleTabManager:iK,persistentSingleTabManager:PO,query:Da,queryEqual:lT,querySnapshotFromJSON:LG,refEqual:uG,runTransaction:oK,serverTimestamp:Zo,setDoc:xT,setIndexConfiguration:mK,setLogLevel:H7,snapshotEqual:BG,startAfter:RG,startAt:CG,sum:PG,terminate:xG,updateDoc:s_,vector:hK,waitForPendingWrites:gG,where:q0,writeBatch:fK},Symbol.toStringTag,{value:"Module"}));var _K="firebase",EK="12.6.0";Or(_K,EK,"app");const UO="@firebase/installations",_T="0.6.19";const BO=1e4,FO=`w:${_T}`,zO="FIS_v2",TK="https://firebaseinstallations.googleapis.com/v1",SK=3600*1e3,AK="installations",NK="Installations";const IK={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ec=new Dc(AK,NK,IK);function HO(t){return t instanceof Oi&&t.code.includes("request-failed")}function $O({projectId:t}){return`${TK}/projects/${t}/installations`}function qO(t){return{token:t.token,requestStatus:2,expiresIn:RK(t.expiresIn),creationTime:Date.now()}}async function GO(t,e){const r=(await e.json()).error;return Ec.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CK(t,{refreshToken:e}){const n=KO(t);return n.append("Authorization",kK(e)),n}async function WO(t){const e=await t();return e.status>=500&&e.status<600?t():e}function RK(t){return Number(t.replace("s","000"))}function kK(t){return`${zO} ${t}`}async function jK({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$O(t),i=KO(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:n,authVersion:zO,appId:t.appId,sdkVersion:FO},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await WO(()=>fetch(r,c));if(d.ok){const f=await d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:qO(f.authToken)}}else throw await GO("Create Installation",d)}function YO(t){return new Promise(e=>{setTimeout(e,t)})}function PK(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const DK=/^[cdef][\w-]{21}$/,a_="";function MK(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=OK(t);return DK.test(n)?n:a_}catch{return a_}}function OK(t){return PK(t).substr(0,22)}function Q0(t){return`${t.appName}!${t.appId}`}const QO=new Map;function XO(t,e){const n=Q0(t);JO(n,e),VK(n,e)}function JO(t,e){const n=QO.get(t);if(n)for(const r of n)r(e)}function VK(t,e){const n=LK();n&&n.postMessage({key:t,fid:e}),UK()}let tc=null;function LK(){return!tc&&"BroadcastChannel"in self&&(tc=new BroadcastChannel("[Firebase] FID Change"),tc.onmessage=t=>{JO(t.data.key,t.data.fid)}),tc}function UK(){QO.size===0&&tc&&(tc.close(),tc=null)}const BK="firebase-installations-database",FK=1,Tc="firebase-installations-store";let Lb=null;function ET(){return Lb||(Lb=rP(BK,FK,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tc)}}})),Lb}async function $y(t,e){const n=Q0(t),i=(await ET()).transaction(Tc,"readwrite"),a=i.objectStore(Tc),l=await a.get(n);return await a.put(e,n),await i.done,(!l||l.fid!==e.fid)&&XO(t,e.fid),e}async function ZO(t){const e=Q0(t),r=(await ET()).transaction(Tc,"readwrite");await r.objectStore(Tc).delete(e),await r.done}async function X0(t,e){const n=Q0(t),i=(await ET()).transaction(Tc,"readwrite"),a=i.objectStore(Tc),l=await a.get(n),c=e(l);return c===void 0?await a.delete(n):await a.put(c,n),await i.done,c&&(!l||l.fid!==c.fid)&&XO(t,c.fid),c}async function TT(t){let e;const n=await X0(t.appConfig,r=>{const i=zK(r),a=HK(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===a_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zK(t){const e=t||{fid:MK(),registrationStatus:0};return eV(e)}function HK(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ec.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=$K(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qK(t)}:{installationEntry:e}}async function $K(t,e){try{const n=await jK(t,e);return $y(t.appConfig,n)}catch(n){throw HO(n)&&n.customData.serverCode===409?await ZO(t.appConfig):await $y(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function qK(t){let e=await DR(t.appConfig);for(;e.registrationStatus===1;)await YO(100),e=await DR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await TT(t);return r||n}return e}function DR(t){return X0(t,e=>{if(!e)throw Ec.create("installation-not-found");return eV(e)})}function eV(t){return GK(t)?{fid:t.fid,registrationStatus:0}:t}function GK(t){return t.registrationStatus===1&&t.registrationTime+BO<Date.now()}async function KK({appConfig:t,heartbeatServiceProvider:e},n){const r=WK(t,n),i=CK(t,n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:FO,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await WO(()=>fetch(r,c));if(d.ok){const f=await d.json();return qO(f)}else throw await GO("Generate Auth Token",d)}function WK(t,{fid:e}){return`${$O(t)}/${e}/authTokens:generate`}async function ST(t,e=!1){let n;const r=await X0(t.appConfig,a=>{if(!tV(a))throw Ec.create("not-registered");const l=a.authToken;if(!e&&XK(l))return a;if(l.requestStatus===1)return n=YK(t,e),a;{if(!navigator.onLine)throw Ec.create("app-offline");const c=ZK(a);return n=QK(t,c),c}});return n?await n:r.authToken}async function YK(t,e){let n=await MR(t.appConfig);for(;n.authToken.requestStatus===1;)await YO(100),n=await MR(t.appConfig);const r=n.authToken;return r.requestStatus===0?ST(t,e):r}function MR(t){return X0(t,e=>{if(!tV(e))throw Ec.create("not-registered");const n=e.authToken;return eW(n)?{...e,authToken:{requestStatus:0}}:e})}async function QK(t,e){try{const n=await KK(t,e),r={...e,authToken:n};return await $y(t.appConfig,r),n}catch(n){if(HO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZO(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await $y(t.appConfig,r)}throw n}}function tV(t){return t!==void 0&&t.registrationStatus===2}function XK(t){return t.requestStatus===2&&!JK(t)}function JK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SK}function ZK(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function eW(t){return t.requestStatus===1&&t.requestTime+BO<Date.now()}async function tW(t){const e=t,{installationEntry:n,registrationPromise:r}=await TT(e);return r?r.catch(console.error):ST(e).catch(console.error),n.fid}async function nW(t,e=!1){const n=t;return await rW(n),(await ST(n,e)).token}async function rW(t){const{registrationPromise:e}=await TT(t);e&&await e}function iW(t){if(!t||!t.options)throw Ub("App Configuration");if(!t.name)throw Ub("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ub(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ub(t){return Ec.create("missing-app-config-values",{valueName:t})}const nV="installations",sW="installations-internal",aW=t=>{const e=t.getProvider("app").getImmediate(),n=iW(e),r=Qs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oW=t=>{const e=t.getProvider("app").getImmediate(),n=Qs(e,nV).getImmediate();return{getId:()=>tW(n),getToken:i=>nW(n,i)}};function lW(){ss(new Di(nV,aW,"PUBLIC")),ss(new Di(sW,oW,"PRIVATE"))}lW();Or(UO,_T);Or(UO,_T,"esm2020");const qy="analytics",cW="firebase_id",uW="origin",dW=60*1e3,hW="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",AT="https://www.googletagmanager.com/gtag/js";const vr=new p0("@firebase/analytics");const fW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},oi=new Dc("analytics","Analytics",fW);function mW(t){if(!t.startsWith(AT)){const e=oi.create("invalid-gtag-resource",{gtagURL:t});return vr.warn(e.message),""}return t}function rV(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pW(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gW(t,e){const n=pW("firebase-js-sdk-policy",{createScriptURL:mW}),r=document.createElement("script"),i=`${AT}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yW(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vW(t,e,n,r,i,a){const l=r[i];try{if(l)await e[l];else{const d=(await rV(n)).find(f=>f.measurementId===i);d&&await e[d.appId]}}catch(c){vr.error(c)}t("config",i,a)}async function xW(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await rV(n);for(const d of l){const f=c.find(g=>g.measurementId===d),p=f&&e[f.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){vr.error(a)}}function bW(t,e,n,r){async function i(a,...l){try{if(a==="event"){const[c,d]=l;await xW(t,e,n,c,d)}else if(a==="config"){const[c,d]=l;await vW(t,e,n,r,c,d)}else if(a==="consent"){const[c,d]=l;t("consent",c,d)}else if(a==="get"){const[c,d,f]=l;t("get",c,d,f)}else if(a==="set"){const[c]=l;t("set",c)}else t(a,...l)}catch(c){vr.error(c)}}return i}function wW(t,e,n,r,i){let a=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=bW(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function _W(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(AT)&&n.src.includes(t))return n;return null}const EW=30,TW=1e3;class SW{constructor(e={},n=TW){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iV=new SW;function AW(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function NW(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:AW(n)},i=hW.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();c.error?.message&&(l=c.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function IW(t,e=iV,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw oi.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw oi.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new kW;return setTimeout(async()=>{c.abort()},dW),sV({appId:r,apiKey:i,measurementId:a},l,c,e)}async function sV(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iV){const{appId:a,measurementId:l}=t;try{await CW(r,e)}catch(c){if(l)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw c}try{const c=await NW(t);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!RW(d)){if(i.deleteThrottleMetadata(a),l)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw c}const f=Number(d?.customData?.httpStatus)===503?OI(n,i.intervalMillis,EW):OI(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(a,p),vr.debug(`Calling attemptFetch again in ${f} millis`),sV(t,p,r,i)}}function CW(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(oi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RW(t){if(!(t instanceof Oi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class kW{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jW(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,l={...r,send_to:a};t("event",n,l)}}async function PW(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function DW(){if(nE())try{await eP()}catch(t){return vr.warn(oi.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return vr.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MW(t,e,n,r,i,a,l){const c=IW(t);c.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>vr.error(b)),e.push(c);const d=DW().then(b=>{if(b)return r.getId()}),[f,p]=await Promise.all([c,d]);_W(a)||gW(a,f.measurementId),i("js",new Date);const g=l?.config??{};return g[uW]="firebase",g.update=!0,p!=null&&(g[cW]=p),i("config",f.measurementId,g),f.measurementId}class OW{constructor(e){this.app=e}_delete(){return delete ed[this.app.options.appId],Promise.resolve()}}let ed={},OR=[];const VR={};let Bb="dataLayer",VW="gtag",LR,NT,UR=!1;function LW(){const t=[];if(Xj()&&t.push("This is a browser extension environment."),nB()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=oi.create("invalid-analytics-context",{errorInfo:e});vr.warn(n.message)}}function UW(t,e,n){LW();const r=t.options.appId;if(!r)throw oi.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw oi.create("no-api-key");if(ed[r]!=null)throw oi.create("already-exists",{id:r});if(!UR){yW(Bb);const{wrappedGtag:a,gtagCore:l}=wW(ed,OR,VR,Bb,VW);NT=a,LR=l,UR=!0}return ed[r]=MW(t,OR,VR,e,LR,Bb,n),new OW(t)}function BW(t=g0()){t=dt(t);const e=Qs(t,qy);return e.isInitialized()?e.getImmediate():FW(t)}function FW(t,e={}){const n=Qs(t,qy);if(n.isInitialized()){const i=n.getImmediate();if(Pi(e,n.getOptions()))return i;throw oi.create("already-initialized")}return n.initialize({options:e})}function zW(t,e,n){t=dt(t),PW(NT,ed[t.app.options.appId],e,n).catch(r=>vr.error(r))}function HW(t,e,n,r){t=dt(t),jW(NT,ed[t.app.options.appId],e,n,r).catch(i=>vr.error(i))}const BR="@firebase/analytics",FR="0.10.19";function $W(){ss(new Di(qy,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return UW(r,i,n)},"PUBLIC")),ss(new Di("analytics-internal",t,"PRIVATE")),Or(BR,FR),Or(BR,FR,"esm2020");function t(e){try{const n=e.getProvider(qy).getImmediate();return{logEvent:(r,i,a)=>HW(n,r,i,a),setUserProperties:(r,i)=>zW(n,r,i)}}catch(n){throw oi.create("interop-component-reg-failed",{reason:n})}}}$W();const aV="firebasestorage.googleapis.com",qW="storageBucket",GW=120*1e3,KW=600*1e3;class Js extends Oi{constructor(e,n,r=0){super(Fb(e),`Firebase Storage: ${n} (${Fb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Js.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ks;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ks||(Ks={}));function Fb(t){return"storage/"+t}function WW(){const t="An unknown error occurred, please check the error payload for server response.";return new Js(Ks.UNKNOWN,t)}function YW(){return new Js(Ks.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QW(){return new Js(Ks.CANCELED,"User canceled the upload/download.")}function XW(t){return new Js(Ks.INVALID_URL,"Invalid URL '"+t+"'.")}function JW(t){return new Js(Ks.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zR(t){return new Js(Ks.INVALID_ARGUMENT,t)}function oV(){return new Js(Ks.APP_DELETED,"The Firebase app was deleted.")}function ZW(t){return new Js(Ks.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(r.path==="")return r;throw JW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(z){z.path_=decodeURIComponent(z.path)}const p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${p}/b/${i}/o${b}`,"i"),T={bucket:1,path:3},S=n===aV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",R=new RegExp(`^https?://${S}/${i}/${I}`,"i"),j=[{regex:c,indices:d,postModify:a},{regex:_,indices:T,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let z=0;z<j.length;z++){const $=j[z],Y=$.regex.exec(e);if(Y){const k=Y[$.indices.bucket];let C=Y[$.indices.path];C||(C=""),r=new es(k,C),$.postModify(r);break}}if(r==null)throw XW(e);return r}}class eY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tY(t,e,n){let r=1,i=null,a=null,l=!1,c=0;function d(){return c===2}let f=!1;function p(...I){f||(f=!0,e.apply(null,I))}function g(I){i=setTimeout(()=>{i=null,t(_,d())},I)}function b(){a&&clearTimeout(a)}function _(I,...R){if(f){b();return}if(I){b(),p.call(null,I,...R);return}if(d()||l){b(),p.call(null,I,...R);return}r<64&&(r*=2);let j;c===1?(c=2,j=0):j=(r+Math.random())*1e3,g(j)}let T=!1;function S(I){T||(T=!0,b(),!f&&(i!==null?(I||(c=2),clearTimeout(i),g(0)):I||(c=1)))}return g(0),a=setTimeout(()=>{l=!0,S(!0)},n),S}function nY(t){t(!1)}function rY(t){return t!==void 0}function HR(t,e,n,r){if(r<e)throw zR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zR(`Invalid value for '${t}'. Expected ${n} or less.`)}function iY(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gy;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gy||(Gy={}));function sY(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}class aY{constructor(e,n,r,i,a,l,c,d,f,p,g,b=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=b,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Gy.NO_ERROR,d=a.getStatus();if(!c||sY(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Gy.ABORT;r(!1,new kg(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new kg(f,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());rY(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=WW();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?oV():QW();l(d)}else{const d=YW();l(d)}};this.canceled_?n(!1,new kg(!1,null,!0)):this.backoffId_=tY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function oY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cY(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dY(t,e,n,r,i,a,l=!0,c=!1){const d=iY(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return cY(p,e),oY(p,n),lY(p,a),uY(p,r),new aY(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}function hY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Ky{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ky(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fY(this._location.path)}get storage(){return this._service}get parent(){const e=hY(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new Ky(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ZW(e)}}function $R(t,e){const n=e?.[qW];return n==null?null:es.makeFromBucketSpec(n,t)}function mY(t,e,n,r={}){t.host=`${e}:${n}`;const i=il(e);i&&(m0(`https://${t.host}/b`),tE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Yj(a,t.app.options.projectId))}class pY{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=aV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GW,this._maxUploadRetryTime=KW,this._requests=new Set,i!=null?this._bucket=es.makeFromBucketSpec(i,this._host):this._bucket=$R(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=$R(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ky(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new eY(oV());{const l=dY(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const qR="@firebase/storage",GR="0.14.0";const lV="storage";function gY(t=g0(),e){t=dt(t);const r=Qs(t,lV).getImmediate({identifier:e}),i=Gj("storage");return i&&yY(r,...i),r}function yY(t,e,n,r={}){mY(t,e,n,r)}function vY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new pY(n,r,i,e,Mc)}function xY(){ss(new Di(lV,vY,"PUBLIC").setMultipleInstances(!0)),Or(qR,GR,""),Or(qR,GR,"esm2020")}xY();const bY={apiKey:"AIzaSyDJHnhOqWUffsj7On_LWfVvb25W-9R6vlw",authDomain:"lumina-saas.firebaseapp.com",projectId:"lumina-saas",storageBucket:"lumina-saas.firebasestorage.app",messagingSenderId:"1093743151712",appId:"1:1093743151712:web:260a4fbdf6d3b98e8d1105",measurementId:"G-LVYDSEFSZ5"},J0=iP(bY),gr=F7(J0),Pt=mO(J0);gY(J0);BW(J0);class Fm{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const wY=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},tr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:wY()},IT=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},_Y=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=IT(t);tr.publicKey=n.publicKey,tr.blockHeadless=n.blockHeadless,tr.storageProvider=n.storageProvider,tr.blockList=n.blockList,tr.limitRate=n.limitRate,tr.origin=n.origin||e},cV=async(t,e,n={})=>{const r=await fetch(tr.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new Fm(r.status,i);if(r.ok)return a;throw a},uV=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},EY=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},dV=t=>t.webdriver||!t.languages||t.languages.length===0,hV=()=>new Fm(451,"Unavailable For Headless Browser"),TY=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},SY=t=>!t.list?.length||!t.watchVariable,AY=(t,e)=>t instanceof FormData?t.get(e):t[e],fV=(t,e)=>{if(SY(t))return!1;TY(t.list,t.watchVariable);const n=AY(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},mV=()=>new Fm(403,"Forbidden"),NY=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},IY=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},pV=async(t,e,n)=>{if(!e.throttle||!n)return!1;NY(e.throttle,e.id);const r=e.id||t;return await IY(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},gV=()=>new Fm(429,"Too Many Requests"),CY=async(t,e,n,r)=>{const i=IT(r),a=i.publicKey||tr.publicKey,l=i.blockHeadless||tr.blockHeadless,c=i.storageProvider||tr.storageProvider,d={...tr.blockList,...i.blockList},f={...tr.limitRate,...i.limitRate};return l&&dV(navigator)?Promise.reject(hV()):(uV(a,t,e),EY(n),n&&fV(d,n)?Promise.reject(mV()):await pV(location.pathname,f,c)?Promise.reject(gV()):cV("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},RY=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},kY=t=>typeof t=="string"?document.querySelector(t):t,jY=async(t,e,n,r)=>{const i=IT(r),a=i.publicKey||tr.publicKey,l=i.blockHeadless||tr.blockHeadless,c=tr.storageProvider||i.storageProvider,d={...tr.blockList,...i.blockList},f={...tr.limitRate,...i.limitRate};if(l&&dV(navigator))return Promise.reject(hV());const p=kY(n);uV(a,t,e),RY(p);const g=new FormData(p);return fV(d,g)?Promise.reject(mV()):await pV(location.pathname,f,c)?Promise.reject(gV()):(g.append("lib_version","4.4.1"),g.append("service_id",t),g.append("template_id",e),g.append("user_id",a),cV("/api/v1.0/email/send-form",g))},yV={init:_Y,send:CY,sendForm:jY,EmailJSResponseStatus:Fm},PY=()=>{yV.init("17uqW4uBwQvxo_YJr")},DY=async(t,e)=>{const n="service_4iy9v8v",r="template_qpnbnd8",i="17uqW4uBwQvxo_YJr";try{const a=await yV.send(n,r,{to_email:t,to_name:e},i);console.log("Welcome email sent!",a.status,a.text)}catch(a){console.error("Failed to send welcome email:",a)}},vV=w.createContext(null);function MY({children:t}){const[e,n]=w.useState(null),[r,i]=w.useState(null),[a,l]=w.useState(!0);w.useEffect(()=>{const b=Iz(gr,async _=>{if(n(_),_){const T=or(Pt,"users",_.uid),S=await nm(T);S.exists()?i(S.data().role):i("user")}else i(null);l(!1)});return()=>b()},[]);const c=async(b,_)=>{if(b)try{const T=or(Pt,"users",b.uid);if(!(await nm(T)).exists()){const I=_||b.displayName||"User";await xT(T,{uid:b.uid,email:b.email,displayName:I,photoURL:b.photoURL,createdAt:Zo()}),b.email&&await DY(b.email,I)}}catch(T){console.error("Error creating user profile",T)}},d=async()=>{const b=new ba;try{const _=await Qz(gr,b);await c(_.user)}catch(_){throw console.error("Error signing in with Google",_),_}},f=async(b,_,T)=>{try{const S=await wz(gr,b,_);gr.currentUser&&await CP(gr.currentUser,{displayName:T}),await c(S.user,T)}catch(S){throw console.error("Error signing up with email",S),S}},p=async(b,_)=>{try{await _z(gr,b,_)}catch(T){throw console.error("Error signing in with email",T),T}},g=async()=>{try{await Cz(gr)}catch(b){throw console.error("Error signing out",b),b}};return h.jsx(vV.Provider,{value:{user:e,userRole:r,loading:a,signInWithGoogle:d,signUpWithEmail:f,signInWithEmail:p,logout:g},children:!a&&t})}function $a(){const t=w.useContext(vV);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const xV=w.createContext(void 0);function OY({children:t}){const[e,n]=w.useState(()=>typeof window>"u"?"system":localStorage.getItem("theme")||"system"),r=()=>e!=="system"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[i,a]=w.useState(r());w.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light"),e==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)");(()=>{f.matches?(d.classList.add("dark"),a("dark")):(d.classList.remove("dark"),a("light"))})();const g=b=>{b.matches?(d.classList.add("dark"),a("dark")):(d.classList.remove("dark"),a("light"))};return f.addEventListener("change",g),()=>f.removeEventListener("change",g)}else e==="dark"?(d.classList.add("dark"),a("dark")):(d.classList.remove("dark"),a("light"))},[e]);const c={theme:e,setTheme:d=>{localStorage.setItem("theme",d),n(d)},toggleTheme:()=>{let d=e;d==="system"&&(d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");const f=d==="dark"?"light":"dark";n(f),localStorage.setItem("theme",f)},effectiveTheme:i};return h.jsx(xV.Provider,{value:c,children:t})}function bV(){const t=w.useContext(xV);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}function VY(t){const e=w.useRef(null);return w.useEffect(()=>{const n=r=>{!e.current||e.current.contains(r.target)||t()};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[t]),e}const CT=w.createContext({});function Kd(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const RT=typeof window<"u",Z0=RT?w.useLayoutEffect:w.useEffect,ev=w.createContext(null);function kT(t,e){t.indexOf(e)===-1&&t.push(e)}function jT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ws=(t,e,n)=>n>e?e:n<t?t:n;let im=()=>{};const Oa={},wV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _V(t){return typeof t=="object"&&t!==null}const EV=t=>/^0[^.\s]+$/u.test(t);function PT(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ur=t=>t,LY=(t,e)=>n=>e(t(n)),zm=(...t)=>t.reduce(LY),Sd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class DT{constructor(){this.subscriptions=[]}add(e){return kT(this.subscriptions,e),()=>jT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hs=t=>t*1e3,Ri=t=>t/1e3;function MT(t,e){return e?t*(1e3/e):0}const TV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UY=1e-7,BY=12;function FY(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=TV(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>UY&&++c<BY);return l}function Hm(t,e,n,r){if(t===e&&n===r)return Ur;const i=a=>FY(a,0,1,t,n);return a=>a===0||a===1?a:TV(i(a),e,r)}const SV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AV=t=>e=>1-t(1-e),NV=Hm(.33,1.53,.69,.99),OT=AV(NV),IV=SV(OT),CV=t=>(t*=2)<1?.5*OT(t):.5*(2-Math.pow(2,-10*(t-1))),VT=t=>1-Math.sin(Math.acos(t)),RV=AV(VT),kV=SV(VT),zY=Hm(.42,0,1,1),HY=Hm(0,0,.58,1),jV=Hm(.42,0,.58,1),$Y=t=>Array.isArray(t)&&typeof t[0]!="number",PV=t=>Array.isArray(t)&&typeof t[0]=="number",qY={linear:Ur,easeIn:zY,easeInOut:jV,easeOut:HY,circIn:VT,circInOut:kV,circOut:RV,backIn:OT,backInOut:IV,backOut:NV,anticipate:CV},GY=t=>typeof t=="string",KR=t=>{if(PV(t)){im(t.length===4);const[e,n,r,i]=t;return Hm(e,n,r,i)}else if(GY(t))return qY[t];return t},jg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KY(t,e){let n=new Set,r=new Set,i=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,g=!1,b=!1)=>{const T=b&&i?n:r;return g&&l.add(p),T.has(p)||T.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(c=p,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),n.clear(),i=!1,a&&(a=!1,f.process(p))}};return f}const WY=40;function DV(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=jg.reduce((j,z)=>(j[z]=KY(a),j),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:g,preRender:b,render:_,postRender:T}=l,S=()=>{const j=Oa.useManualTiming?i.timestamp:performance.now();n=!1,Oa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(j-i.timestamp,WY),1)),i.timestamp=j,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),p.process(i),g.process(i),b.process(i),_.process(i),T.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},I=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:jg.reduce((j,z)=>{const $=l[z];return j[z]=(Y,k=!1,C=!1)=>(n||I(),$.schedule(Y,k,C)),j},{}),cancel:j=>{for(let z=0;z<jg.length;z++)l[jg[z]].cancel(j)},state:i,steps:l}}const{schedule:xt,cancel:as,state:Bn,steps:zb}=DV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ur,!0);let ly;function YY(){ly=void 0}const Dr={now:()=>(ly===void 0&&Dr.set(Bn.isProcessing||Oa.useManualTiming?Bn.timestamp:performance.now()),ly),set:t=>{ly=t,queueMicrotask(YY)}},MV=t=>e=>typeof e=="string"&&e.startsWith(t),LT=MV("--"),QY=MV("var(--"),UT=t=>QY(t)?XY.test(t.split("/*")[0].trim()):!1,XY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sm={...Wd,transform:t=>Ws(0,1,t)},Pg={...Wd,default:1},Df=t=>Math.round(t*1e5)/1e5,BT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JY(t){return t==null}const ZY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FT=(t,e)=>n=>!!(typeof n=="string"&&ZY.test(n)&&n.startsWith(t)||e&&!JY(n)&&Object.prototype.hasOwnProperty.call(n,e)),OV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(BT);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},eQ=t=>Ws(0,255,t),Hb={...Wd,transform:t=>Math.round(eQ(t))},nc={test:FT("rgb","red"),parse:OV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hb.transform(t)+", "+Hb.transform(e)+", "+Hb.transform(n)+", "+Df(sm.transform(r))+")"};function tQ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const o_={test:FT("#"),parse:tQ,transform:nc.transform},$m=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Co=$m("deg"),$s=$m("%"),ze=$m("px"),nQ=$m("vh"),rQ=$m("vw"),WR={...$s,parse:t=>$s.parse(t)/100,transform:t=>$s.transform(t*100)},Hu={test:FT("hsl","hue"),parse:OV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$s.transform(Df(e))+", "+$s.transform(Df(n))+", "+Df(sm.transform(r))+")"},_n={test:t=>nc.test(t)||o_.test(t)||Hu.test(t),parse:t=>nc.test(t)?nc.parse(t):Hu.test(t)?Hu.parse(t):o_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?nc.transform(t):Hu.transform(t),getAnimatableNone:t=>{const e=_n.parse(t);return e.alpha=0,_n.transform(e)}},iQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sQ(t){return isNaN(t)&&typeof t=="string"&&(t.match(BT)?.length||0)+(t.match(iQ)?.length||0)>0}const VV="number",LV="color",aQ="var",oQ="var(",YR="${}",lQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function am(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(lQ,d=>(_n.test(d)?(r.color.push(a),i.push(LV),n.push(_n.parse(d))):d.startsWith(oQ)?(r.var.push(a),i.push(aQ),n.push(d)):(r.number.push(a),i.push(VV),n.push(parseFloat(d))),++a,YR)).split(YR);return{values:n,split:c,indexes:r,types:i}}function UV(t){return am(t).values}function BV(t){const{split:e,types:n}=am(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===VV?a+=Df(i[l]):c===LV?a+=_n.transform(i[l]):a+=i[l]}return a}}const cQ=t=>typeof t=="number"?0:_n.test(t)?_n.getAnimatableNone(t):t;function uQ(t){const e=UV(t);return BV(t)(e.map(cQ))}const el={test:sQ,parse:UV,createTransformer:BV,getAnimatableNone:uQ};function $b(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dQ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=$b(d,c,t+1/3),a=$b(d,c,t),l=$b(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Wy(t,e){return n=>n>0?e:t}const Zt=(t,e,n)=>t+(e-t)*n,qb=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},hQ=[o_,nc,Hu],fQ=t=>hQ.find(e=>e.test(t));function QR(t){const e=fQ(t);if(!e)return!1;let n=e.parse(t);return e===Hu&&(n=dQ(n)),n}const XR=(t,e)=>{const n=QR(t),r=QR(e);if(!n||!r)return Wy(t,e);const i={...n};return a=>(i.red=qb(n.red,r.red,a),i.green=qb(n.green,r.green,a),i.blue=qb(n.blue,r.blue,a),i.alpha=Zt(n.alpha,r.alpha,a),nc.transform(i))},l_=new Set(["none","hidden"]);function mQ(t,e){return l_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pQ(t,e){return n=>Zt(t,e,n)}function zT(t){return typeof t=="number"?pQ:typeof t=="string"?UT(t)?Wy:_n.test(t)?XR:vQ:Array.isArray(t)?FV:typeof t=="object"?_n.test(t)?XR:gQ:Wy}function FV(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>zT(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function gQ(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=zT(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function yQ(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=t.values[l]??0;n[i]=c,r[a]++}return n}const vQ=(t,e)=>{const n=el.createTransformer(e),r=am(t),i=am(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?l_.has(t)&&!i.values.length||l_.has(e)&&!r.values.length?mQ(t,e):zm(FV(yQ(r,i),i.values),n):Wy(t,e)};function zV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):zT(t)(t,e)}const xQ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>as(e),now:()=>Bn.isProcessing?Bn.timestamp:Dr.now()}},HV=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yy=2e4;function HT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yy;)e+=n,r=t.next(e);return e>=Yy?1/0:e}function bQ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(HT(r),Yy);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Ri(i)}}const wQ=5;function $V(t,e,n){const r=Math.max(e-wQ,0);return MT(n-t(r),e-r)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gb=.001;function _Q({duration:t=rn.duration,bounce:e=rn.bounce,velocity:n=rn.velocity,mass:r=rn.mass}){let i,a,l=1-e;l=Ws(rn.minDamping,rn.maxDamping,l),t=Ws(rn.minDuration,rn.maxDuration,Ri(t)),l<1?(i=f=>{const p=f*l,g=p*t,b=p-n,_=c_(f,l),T=Math.exp(-g);return Gb-b/_*T},a=f=>{const g=f*l*t,b=g*n+n,_=Math.pow(l,2)*Math.pow(f,2)*t,T=Math.exp(-g),S=c_(Math.pow(f,2),l);return(-i(f)+Gb>0?-1:1)*((b-_)*T)/S}):(i=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-Gb+p*g},a=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const c=5/t,d=TQ(i,a,c);if(t=Hs(t),isNaN(d))return{stiffness:rn.stiffness,damping:rn.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const EQ=12;function TQ(t,e,n){let r=n;for(let i=1;i<EQ;i++)r=r-t(r)/e(r);return r}function c_(t,e){return t*Math.sqrt(1-e*e)}const SQ=["duration","bounce"],AQ=["stiffness","damping","mass"];function JR(t,e){return e.some(n=>t[n]!==void 0)}function NQ(t){let e={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...t};if(!JR(t,AQ)&&JR(t,SQ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:rn.mass,stiffness:i,damping:a}}else{const n=_Q(t);e={...e,...n,mass:rn.mass},e.isResolvedFromDuration=!0}return e}function Qy(t=rn.visualDuration,e=rn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:f,mass:p,duration:g,velocity:b,isResolvedFromDuration:_}=NQ({...n,velocity:-Ri(n.velocity||0)}),T=b||0,S=f/(2*Math.sqrt(d*p)),I=l-a,R=Ri(Math.sqrt(d/p)),D=Math.abs(I)<5;r||(r=D?rn.restSpeed.granular:rn.restSpeed.default),i||(i=D?rn.restDelta.granular:rn.restDelta.default);let j;if(S<1){const $=c_(R,S);j=Y=>{const k=Math.exp(-S*R*Y);return l-k*((T+S*R*I)/$*Math.sin($*Y)+I*Math.cos($*Y))}}else if(S===1)j=$=>l-Math.exp(-R*$)*(I+(T+R*I)*$);else{const $=R*Math.sqrt(S*S-1);j=Y=>{const k=Math.exp(-S*R*Y),C=Math.min($*Y,300);return l-k*((T+S*R*I)*Math.sinh(C)+$*I*Math.cosh(C))/$}}const z={calculatedDuration:_&&g||null,next:$=>{const Y=j($);if(_)c.done=$>=g;else{let k=$===0?T:0;S<1&&(k=$===0?Hs(T):$V(j,$,Y));const C=Math.abs(k)<=r,O=Math.abs(l-Y)<=i;c.done=C&&O}return c.value=c.done?l:Y,c},toString:()=>{const $=Math.min(HT(z),Yy),Y=HV(k=>z.next($*k).value,$,30);return $+"ms "+Y},toTransition:()=>{}};return z}Qy.applyToOptions=t=>{const e=bQ(t,100,Qy);return t.ease=e.ease,t.duration=Hs(e.duration),t.type="keyframes",t};function u_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:p}){const g=t[0],b={done:!1,value:g},_=C=>c!==void 0&&C<c||d!==void 0&&C>d,T=C=>c===void 0?d:d===void 0||Math.abs(c-C)<Math.abs(d-C)?c:d;let S=n*e;const I=g+S,R=l===void 0?I:l(I);R!==I&&(S=R-g);const D=C=>-S*Math.exp(-C/r),j=C=>R+D(C),z=C=>{const O=D(C),U=j(C);b.done=Math.abs(O)<=f,b.value=b.done?R:U};let $,Y;const k=C=>{_(b.value)&&($=C,Y=Qy({keyframes:[b.value,T(b.value)],velocity:$V(j,C,b.value),damping:i,stiffness:a,restDelta:f,restSpeed:p}))};return k(0),{calculatedDuration:null,next:C=>{let O=!1;return!Y&&$===void 0&&(O=!0,z(C),k(C)),$!==void 0&&C>=$?Y.next(C-$):(!O&&z(C),b)}}}function IQ(t,e,n){const r=[],i=n||Oa.mix||zV,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Ur:e;c=zm(d,c)}r.push(c)}return r}function $T(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(im(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=IQ(e,r,i),d=c.length,f=p=>{if(l&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const b=Sd(t[g],t[g+1],p);return c[g](b)};return n?p=>f(Ws(t[0],t[a-1],p)):f}function CQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sd(0,e,r);t.push(Zt(n,1,i))}}function qV(t){const e=[0];return CQ(e,t.length-1),e}function RQ(t,e){return t.map(n=>n*e)}function kQ(t,e){return t.map(()=>e||jV).splice(0,t.length-1)}function Mf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$Y(r)?r.map(KR):KR(r),a={done:!1,value:e[0]},l=RQ(n&&n.length===e.length?n:qV(e),t),c=$T(l,e,{ease:Array.isArray(i)?i:kQ(e,i)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const jQ=t=>t!==null;function qT(t,{repeat:e,repeatType:n="loop"},r,i=1){const a=t.filter(jQ),c=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const PQ={decay:u_,inertia:u_,tween:Mf,keyframes:Mf,spring:Qy};function GV(t){typeof t.type=="string"&&(t.type=PQ[t.type])}class GT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const DQ=t=>t/100;class tv extends GT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dr.now()&&this.tick(Dr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;GV(e);const{type:n=Mf,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Mf;d!==Mf&&typeof c[0]!="number"&&(this.mixKeyframes=zm(DQ,zV(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=HT(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:b,repeatDelay:_,type:T,onUpdate:S,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const R=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?R<0:R>i;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,z=r;if(g){const C=Math.min(this.currentTime,i)/c;let O=Math.floor(C),U=C%1;!U&&C>=1&&(U=1),U===1&&O--,O=Math.min(O,g+1),!!(O%2)&&(b==="reverse"?(U=1-U,_&&(U-=_/c)):b==="mirror"&&(z=l)),j=Ws(0,1,U)*c}const $=D?{done:!1,value:p[0]}:z.next(j);a&&($.value=a($.value));let{done:Y}=$;!D&&d!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return k&&T!==u_&&($.value=qT(p,this.options,I,this.speed)),S&&S($.value),k&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Ri(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(this.currentTime)}set time(e){e=Hs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xQ,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function MQ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const rc=t=>t*180/Math.PI,d_=t=>{const e=rc(Math.atan2(t[1],t[0]));return h_(e)},OQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:d_,rotateZ:d_,skewX:t=>rc(Math.atan(t[1])),skewY:t=>rc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},h_=t=>(t=t%360,t<0&&(t+=360),t),ZR=d_,e2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),t2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e2,scaleY:t2,scale:t=>(e2(t)+t2(t))/2,rotateX:t=>h_(rc(Math.atan2(t[6],t[5]))),rotateY:t=>h_(rc(Math.atan2(-t[2],t[0]))),rotateZ:ZR,rotate:ZR,skewX:t=>rc(Math.atan(t[4])),skewY:t=>rc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function f_(t){return t.includes("scale")?1:0}function m_(t,e){if(!t||t==="none")return f_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=VQ,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=OQ,i=c}if(!i)return f_(e);const a=r[e],l=i[1].split(",").map(UQ);return typeof a=="function"?a(l):l[a]}const LQ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return m_(n,e)};function UQ(t){return parseFloat(t.trim())}const Yd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qd=new Set(Yd),n2=t=>t===Wd||t===ze,BQ=new Set(["x","y","z"]),FQ=Yd.filter(t=>!BQ.has(t));function zQ(t){const e=[];return FQ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const lc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>m_(e,"x"),y:(t,{transform:e})=>m_(e,"y")};lc.translateX=lc.x;lc.translateY=lc.y;const cc=new Set;let p_=!1,g_=!1,y_=!1;function KV(){if(g_){const t=Array.from(cc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=zQ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}g_=!1,p_=!1,cc.forEach(t=>t.complete(y_)),cc.clear()}function WV(){cc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(g_=!0)})}function HQ(){y_=!0,WV(),KV(),y_=!1}class KT{constructor(e,n,r,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(cc.add(this),p_||(p_=!0,xt.read(WV),xt.resolveKeyframes(KV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const a=i?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}MQ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cc.delete(this)}cancel(){this.state==="scheduled"&&(cc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $Q=t=>t.startsWith("--");function qQ(t,e,n){$Q(e)?t.style.setProperty(e,n):t.style[e]=n}const YV=PT(()=>window.ScrollTimeline!==void 0),GQ={};function KQ(t,e){const n=PT(t);return()=>GQ[e]??n()}const QV=KQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wf=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,r2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wf([0,.65,.55,1]),circOut:wf([.55,0,1,.45]),backIn:wf([.31,.01,.66,-.59]),backOut:wf([.33,1.53,.69,.99])};function XV(t,e){if(t)return typeof t=="function"?QV()?HV(t,e):"ease-out":PV(t)?wf(t):Array.isArray(t)?t.map(n=>XV(n,e)||r2.easeOut):r2[t]}function WQ(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const g=XV(c,i);Array.isArray(g)&&(p.easing=g);const b={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),t.animate(p,b)}function JV(t){return typeof t=="function"&&"applyToOptions"in t}function YQ({type:t,...e}){return JV(t)&&QV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class QQ extends GT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,im(typeof e.type!="string");const f=YQ(e);this.animation=WQ(n,r,i,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=qT(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):qQ(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ri(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ri(e)}get time(){return Ri(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YV()?(this.animation.timeline=e,Ur):n(this)}}const ZV={anticipate:CV,backInOut:IV,circInOut:kV};function XQ(t){return t in ZV}function JQ(t){typeof t.ease=="string"&&XQ(t.ease)&&(t.ease=ZV[t.ease])}const i2=10;class ZQ extends QQ{constructor(e){JQ(e),GV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new tv({...l,autoplay:!1}),d=Hs(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-i2).value,c.sample(d).value,i2),c.stop()}}const s2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(el.test(t)||t==="0")&&!t.startsWith("url("));function eX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tX(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=s2(i,e),c=s2(a,e);return!l||!c?!1:eX(t)||(n==="spring"||JV(n))&&r}function v_(t){t.duration=0,t.type="keyframes"}const nX=new Set(["opacity","clipPath","filter","transform"]),rX=PT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iX(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:a,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return rX()&&n&&nX.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}const sX=40;class aX extends GT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dr.now();const b={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,name:d,motionValue:f,element:p,...g},_=p?.KeyframeResolver||KT;this.keyframeResolver=new _(c,(T,S,I)=>this.onKeyframesResolved(T,S,b,!I),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Dr.now(),tX(e,a,l,c)||((Oa.instantAnimations||!d)&&p?.(qT(e,r,n)),e[0]=e[e.length-1],v_(r),r.repeat=0);const b={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>sX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!f&&iX(b)?new ZQ({...b,element:b.motionValue.owner.current}):new tv(b);_.finished.then(()=>this.notifyFinished()).catch(Ur),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),HQ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const oX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lX(t){const e=oX.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function e4(t,e,n=1){const[r,i]=lX(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return wV(l)?parseFloat(l):l}return UT(i)?e4(i,e,n+1):i}function WT(t,e){return t?.[e]??t?.default??t}const t4=new Set(["width","height","top","left","right","bottom",...Yd]),cX={test:t=>t==="auto",parse:t=>t},n4=t=>e=>e.test(t),r4=[Wd,ze,$s,Co,rQ,nQ,cX],a2=t=>r4.find(n4(t));function uX(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EV(t):!0}const dX=new Set(["brightness","contrast","saturate","opacity"]);function hX(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(BT)||[];if(!r)return t;const i=n.replace(r,"");let a=dX.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const fX=/\b([a-z-]*)\(.*?\)/gu,x_={...el,getAnimatableNone:t=>{const e=t.match(fX);return e?e.map(hX).join(" "):t}},o2={...Wd,transform:Math.round},mX={rotate:Co,rotateX:Co,rotateY:Co,rotateZ:Co,scale:Pg,scaleX:Pg,scaleY:Pg,scaleZ:Pg,skew:Co,skewX:Co,skewY:Co,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:sm,originX:WR,originY:WR,originZ:ze},YT={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...mX,zIndex:o2,fillOpacity:sm,strokeOpacity:sm,numOctaves:o2},pX={...YT,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:x_,WebkitFilter:x_},i4=t=>pX[t];function s4(t,e){let n=i4(t);return n!==x_&&(n=el),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gX=new Set(["auto","none","0"]);function yX(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!gX.has(a)&&am(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=s4(n,i)}class vX extends KT{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),UT(f))){const p=e4(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!t4.has(r)||e.length!==2)return;const[i,a]=e,l=a2(i),c=a2(a);if(l!==c)if(n2(l)&&n2(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else lc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||uX(e[i]))&&r.push(i);r.length&&yX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=lc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function a4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const o4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function QT(t){return _V(t)&&"offsetHeight"in t}const l2=30,xX=t=>!isNaN(parseFloat(t)),Of={current:void 0};class bX{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Dr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new DT);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Of.current&&Of.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>l2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,l2);return MT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ts(t,e){return new bX(t,e)}const{schedule:XT}=DV(queueMicrotask,!1),Wi={x:!1,y:!1};function l4(){return Wi.x||Wi.y}function wX(t){return t==="x"||t==="y"?Wi[t]?null:(Wi[t]=!0,()=>{Wi[t]=!1}):Wi.x||Wi.y?null:(Wi.x=Wi.y=!0,()=>{Wi.x=Wi.y=!1})}function c4(t,e){const n=a4(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function c2(t){return!(t.pointerType==="touch"||l4())}function _X(t,e,n={}){const[r,i,a]=c4(t,n),l=c=>{if(!c2(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=g=>{c2(g)&&(f(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const u4=(t,e)=>e?t===e?!0:u4(t,e.parentElement):!1,JT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,EX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TX(t){return EX.has(t.tagName)||t.tabIndex!==-1}const cy=new WeakSet;function u2(t){return e=>{e.key==="Enter"&&t(e)}}function Kb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SX=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=u2(()=>{if(cy.has(n))return;Kb(n,"down");const i=u2(()=>{Kb(n,"up")}),a=()=>Kb(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function d2(t){return JT(t)&&!l4()}function AX(t,e,n={}){const[r,i,a]=c4(t,n),l=c=>{const d=c.currentTarget;if(!d2(c))return;cy.add(d);const f=e(d,c),p=(_,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),cy.has(d)&&cy.delete(d),d2(_)&&typeof f=="function"&&f(_,{success:T})},g=_=>{p(_,d===window||d===document||n.useGlobalTarget||u4(d,_.target))},b=_=>{p(_,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",b,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),QT(c)&&(c.addEventListener("focus",f=>SX(f,i)),!TX(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function ZT(t){return _V(t)&&"ownerSVGElement"in t}const uy=new WeakMap;let dy;const d4=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:ZT(r)&&"getBBox"in r?r.getBBox()[e]:r[n],NX=d4("inline","width","offsetWidth"),IX=d4("block","height","offsetHeight");function CX({target:t,borderBoxSize:e}){uy.get(t)?.forEach(n=>{n(t,{get width(){return NX(t,e)},get height(){return IX(t,e)}})})}function RX(t){t.forEach(CX)}function kX(){typeof ResizeObserver>"u"||(dy=new ResizeObserver(RX))}function jX(t,e){dy||kX();const n=a4(t);return n.forEach(r=>{let i=uy.get(r);i||(i=new Set,uy.set(r,i)),i.add(e),dy?.observe(r)}),()=>{n.forEach(r=>{const i=uy.get(r);i?.delete(e),i?.size||dy?.unobserve(r)})}}const hy=new Set;let $u;function PX(){$u=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};hy.forEach(e=>e(t))},window.addEventListener("resize",$u)}function DX(t){return hy.add(t),$u||PX(),()=>{hy.delete(t),!hy.size&&typeof $u=="function"&&(window.removeEventListener("resize",$u),$u=void 0)}}function MX(t,e){return typeof t=="function"?DX(t):jX(t,e)}function h4(t,e){let n;const r=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return xt.preUpdate(r,!0),()=>as(r)}function OX(t){return ZT(t)&&t.tagName==="svg"}function VX(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],l=t[3+n],c=$T(i,a,l);return e?c(r):c}const Hn=t=>!!(t&&t.getVelocity);function LX(t,e,n){const r=t.get();let i=null,a=r,l;const c=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},f=()=>{d(),i=new tv({keyframes:[f2(t.get()),f2(a)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};if(t.attach((p,g)=>{a=p,l=b=>g(h2(b,c)),xt.postRender(f)},d),Hn(e)){const p=e.on("change",b=>t.set(h2(b,c))),g=t.on("destroy",p);return()=>{p(),g()}}return d}function h2(t,e){return e?t+e:t}function f2(t){return typeof t=="number"?t:parseFloat(t)}const UX=[...r4,_n,el],BX=t=>UX.find(n4(t)),qm=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function m2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function FX(...t){return e=>{let n=!1;const r=t.map(i=>{const a=m2(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():m2(t[i],null)}}}}function zX(...t){return w.useCallback(FX(...t),t)}class HX extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=QT(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $X({children:t,isPresent:e,anchorX:n,root:r}){const i=w.useId(),a=w.useRef(null),l=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=w.useContext(qm),d=zX(a,t?.ref);return w.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:b,right:_}=l.current;if(e||!a.current||!f||!p)return;const T=n==="left"?`left: ${b}`:`right: ${_}`;a.current.dataset.motionPopId=i;const S=document.createElement("style");c&&(S.nonce=c);const I=r??document.head;return I.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${T}px !important;
            top: ${g}px !important;
          }
        `),()=>{I.contains(S)&&I.removeChild(S)}},[e]),h.jsx(HX,{isPresent:e,childRef:a,sizeRef:l,children:w.cloneElement(t,{ref:d})})}const qX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l,anchorX:c,root:d})=>{const f=Kd(GX),p=w.useId();let g=!0,b=w.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:_=>{f.set(_,!0);for(const T of f.values())if(!T)return;r&&r()},register:_=>(f.set(_,!1),()=>f.delete(_))}),[n,f,r]);return a&&g&&(b={...b}),w.useMemo(()=>{f.forEach((_,T)=>f.set(T,!1))},[n]),w.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx($X,{isPresent:n,anchorX:c,root:d,children:t})),h.jsx(ev.Provider,{value:b,children:t})};function GX(){return new Map}function f4(t=!0){const e=w.useContext(ev);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=w.useId();w.useEffect(()=>{if(t)return i(a)},[t]);const l=w.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Dg=t=>t.key||"";function p2(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const Ad=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[f,p]=f4(l),g=w.useMemo(()=>p2(t),[t]),b=l&&!f?[]:g.map(Dg),_=w.useRef(!0),T=w.useRef(g),S=Kd(()=>new Map),[I,R]=w.useState(g),[D,j]=w.useState(g);Z0(()=>{_.current=!1,T.current=g;for(let Y=0;Y<D.length;Y++){const k=Dg(D[Y]);b.includes(k)?S.delete(k):S.get(k)!==!0&&S.set(k,!1)}},[D,b.length,b.join("-")]);const z=[];if(g!==I){let Y=[...g];for(let k=0;k<D.length;k++){const C=D[k],O=Dg(C);b.includes(O)||(Y.splice(k,0,C),z.push(C))}return a==="wait"&&z.length&&(Y=z),j(p2(Y)),R(g),null}const{forceRender:$}=w.useContext(CT);return h.jsx(h.Fragment,{children:D.map(Y=>{const k=Dg(Y),C=l&&!f?!1:g===D||b.includes(k),O=()=>{if(S.has(k))S.set(k,!0);else return;let U=!0;S.forEach(L=>{L||(U=!1)}),U&&($?.(),j(T.current),l&&p?.(),r&&r())};return h.jsx(qX,{isPresent:C,initial:!_.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:C?void 0:O,anchorX:c,children:Y},k)})})},m4=w.createContext({strict:!1}),g2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nd={};for(const t in g2)Nd[t]={isEnabled:e=>g2[t].some(n=>!!e[n])};function KX(t){for(const e in t)Nd[e]={...Nd[e],...t[e]}}const WX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WX.has(t)}let p4=t=>!Xy(t);function YX(t){typeof t=="function"&&(p4=e=>e.startsWith("on")?!Xy(e):t(e))}try{YX(require("@emotion/is-prop-valid").default)}catch{}function QX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(p4(i)||n===!0&&Xy(i)||!e&&!Xy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const nv=w.createContext({});function rv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function om(t){return typeof t=="string"||Array.isArray(t)}const e1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t1=["initial",...e1];function iv(t){return rv(t.animate)||t1.some(e=>om(t[e]))}function g4(t){return!!(iv(t)||t.variants)}function XX(t,e){if(iv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||om(n)?n:void 0,animate:om(r)?r:void 0}}return t.inherit!==!1?e:{}}function JX(t){const{initial:e,animate:n}=XX(t,w.useContext(nv));return w.useMemo(()=>({initial:e,animate:n}),[y2(e),y2(n)])}function y2(t){return Array.isArray(t)?t.join(" "):t}const lm={};function ZX(t){for(const e in t)lm[e]=t[e],LT(e)&&(lm[e].isCSSVariable=!0)}function y4(t,{layout:e,layoutId:n}){return Qd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lm[t]||t==="opacity")}const eJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tJ=Yd.length;function nJ(t,e,n){let r="",i=!0;for(let a=0;a<tJ;a++){const l=Yd[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=o4(c,YT[l]);if(!d){i=!1;const p=eJ[l]||l;r+=`${p}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function n1(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const f=e[d];if(Qd.has(d)){l=!0;continue}else if(LT(d)){i[d]=f;continue}else{const p=o4(f,YT[d]);d.startsWith("origin")?(c=!0,a[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=nJ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;r.transformOrigin=`${d} ${f} ${p}`}}const r1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v4(t,e,n){for(const r in e)!Hn(e[r])&&!y4(r,n)&&(t[r]=e[r])}function rJ({transformTemplate:t},e){return w.useMemo(()=>{const n=r1();return n1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iJ(t,e){const n=t.style||{},r={};return v4(r,n,t),Object.assign(r,rJ(t,e)),r}function sJ(t,e){const n={},r=iJ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const aJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},oJ={offset:"strokeDashoffset",array:"strokeDasharray"};function lJ(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?aJ:oJ;t[a.offset]=ze.transform(-r);const l=ze.transform(e),c=ze.transform(n);t[a.array]=`${l} ${c}`}function x4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,f,p){if(n1(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b}=t;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&lJ(g,i,a,l,!1)}const b4=()=>({...r1(),attrs:{}}),w4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cJ(t,e,n,r){const i=w.useMemo(()=>{const a=b4();return x4(a,e,w4(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};v4(a,t.style,t),i.style={...a,...i.style}}return i}const uJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function i1(t){return typeof t!="string"||t.includes("-")?!1:!!(uJ.indexOf(t)>-1||/[A-Z]/u.test(t))}function dJ(t,e,n,{latestValues:r},i,a=!1){const c=(i1(t)?cJ:sJ)(e,r,i,t),d=QX(e,typeof t=="string",a),f=t!==w.Fragment?{...d,...c,ref:n}:{},{children:p}=e,g=w.useMemo(()=>Hn(p)?p.get():p,[p]);return w.createElement(t,{...f,children:g})}function v2(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s1(t,e,n,r){if(typeof e=="function"){const[i,a]=v2(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=v2(r);e=e(n!==void 0?n:t.custom,i,a)}return e}function fy(t){return Hn(t)?t.get():t}function hJ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:fJ(n,r,i,t),renderState:e()}}function fJ(t,e,n,r){const i={},a=r(t,{});for(const b in a)i[b]=fy(a[b]);let{initial:l,animate:c}=t;const d=iv(t),f=g4(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const g=p?c:l;if(g&&typeof g!="boolean"&&!rv(g)){const b=Array.isArray(g)?g:[g];for(let _=0;_<b.length;_++){const T=s1(t,b[_]);if(T){const{transitionEnd:S,transition:I,...R}=T;for(const D in R){let j=R[D];if(Array.isArray(j)){const z=p?j.length-1:0;j=j[z]}j!==null&&(i[D]=j)}for(const D in S)i[D]=S[D]}}}return i}const _4=t=>(e,n)=>{const r=w.useContext(nv),i=w.useContext(ev),a=()=>hJ(t,e,r,i);return n?a():Kd(a)};function a1(t,e,n){const{style:r}=t,i={};for(const a in r)(Hn(r[a])||e.style&&Hn(e.style[a])||y4(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=r[a]);return i}const mJ=_4({scrapeMotionValuesFromProps:a1,createRenderState:r1});function E4(t,e,n){const r=a1(t,e,n);for(const i in t)if(Hn(t[i])||Hn(e[i])){const a=Yd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const pJ=_4({scrapeMotionValuesFromProps:E4,createRenderState:b4}),gJ=Symbol.for("motionComponentSymbol");function qu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yJ(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):qu(n)&&(n.current=r))},[e])}const o1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vJ="framerAppearId",T4="data-"+o1(vJ),S4=w.createContext({});function xJ(t,e,n,r,i){const{visualElement:a}=w.useContext(nv),l=w.useContext(m4),c=w.useContext(ev),d=w.useContext(qm).reducedMotion,f=w.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,g=w.useContext(S4);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&bJ(f.current,n,i,g);const b=w.useRef(!1);w.useInsertionEffect(()=>{p&&b.current&&p.update(n,c)});const _=n[T4],T=w.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Z0(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),w.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),T.current=!1),p.enteringChildren=void 0)}),p}function bJ(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:A4(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&qu(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function A4(t){if(t)return t.options.allowProjection!==!1?t.projection:A4(t.parent)}function Wb(t,{forwardMotionProps:e=!1}={},n,r){n&&KX(n);const i=i1(t)?pJ:mJ;function a(c,d){let f;const p={...w.useContext(qm),...c,layoutId:wJ(c)},{isStatic:g}=p,b=JX(c),_=i(c,g);if(!g&&RT){_J();const T=EJ(p);f=T.MeasureLayout,b.visualElement=xJ(t,_,p,r,T.ProjectionNode)}return h.jsxs(nv.Provider,{value:b,children:[f&&b.visualElement?h.jsx(f,{visualElement:b.visualElement,...p}):null,dJ(t,c,yJ(_,b.visualElement,d),_,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=w.forwardRef(a);return l[gJ]=t,l}function wJ({layoutId:t}){const e=w.useContext(CT).id;return e&&t!==void 0?e+"-"+t:t}function _J(t,e){w.useContext(m4).strict}function EJ(t){const{drag:e,layout:n}=Nd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function TJ(t,e){if(typeof Proxy>"u")return Wb;const n=new Map,r=(a,l)=>Wb(a,l,t,e),i=(a,l)=>r(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,Wb(l,void 0,t,e)),n.get(l))})}function N4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function AJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yb(t){return t===void 0||t===1}function b_({scale:t,scaleX:e,scaleY:n}){return!Yb(t)||!Yb(e)||!Yb(n)}function Wl(t){return b_(t)||I4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function I4(t){return x2(t.x)||x2(t.y)}function x2(t){return t&&t!=="0%"}function Jy(t,e,n){const r=t-n,i=e*r;return n+i}function b2(t,e,n,r,i){return i!==void 0&&(t=Jy(t,i,r)),Jy(t,n,r)+e}function w_(t,e=0,n=1,r,i){t.min=b2(t.min,e,n,r,i),t.max=b2(t.max,e,n,r,i)}function C4(t,{x:e,y:n}){w_(t.x,e.translate,e.scale,e.originPoint),w_(t.y,n.translate,n.scale,n.originPoint)}const w2=.999999999999,_2=1.0000000000001;function NJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ku(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,C4(t,l)),r&&Wl(a.latestValues)&&Ku(t,a.latestValues))}e.x<_2&&e.x>w2&&(e.x=1),e.y<_2&&e.y>w2&&(e.y=1)}function Gu(t,e){t.min=t.min+e,t.max=t.max+e}function E2(t,e,n,r,i=.5){const a=Zt(t.min,t.max,i);w_(t,e,n,a,r)}function Ku(t,e){E2(t.x,e.x,e.scaleX,e.scale,e.originX),E2(t.y,e.y,e.scaleY,e.scale,e.originY)}function R4(t,e){return N4(AJ(t.getBoundingClientRect(),e))}function IJ(t,e,n){const r=R4(t,n),{scroll:i}=e;return i&&(Gu(r.x,i.offset.x),Gu(r.y,i.offset.y)),r}const T2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wu=()=>({x:T2(),y:T2()}),S2=()=>({min:0,max:0}),Rn=()=>({x:S2(),y:S2()}),__={current:null},k4={current:!1};function CJ(){if(k4.current=!0,!!RT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>__.current=t.matches;t.addEventListener("change",e),e()}else __.current=!1}const RJ=new WeakMap;function kJ(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Hn(i))t.addValue(r,i);else if(Hn(a))t.addValue(r,ts(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ts(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const A2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Dr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,xt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=iv(n),this.isVariantNode=g4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const _=g[b];d[b]!==void 0&&Hn(_)&&_.set(d[b])}}mount(e){this.current=e,RJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),k4.current||CJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:__.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),as(this.notifyUpdate),as(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Qd.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nd){const n=Nd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<A2.length;r++){const i=A2[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=kJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ts(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(wV(r)||EV(r))?r=parseFloat(r):!BX(r)&&el.test(n)&&(r=s4(e,n)),this.setBaseTarget(e,Hn(r)?r.get():r)),Hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=s1(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Hn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new DT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){XT.render(this.render)}}class j4 extends jJ{constructor(){super(...arguments),this.KeyframeResolver=vX}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function P4(t,{style:e,vars:n},r,i){const a=t.style;let l;for(l in e)a[l]=e[l];i?.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function PJ(t){return window.getComputedStyle(t)}class DJ extends j4{constructor(){super(...arguments),this.type="html",this.renderInstance=P4}readValueFromInstance(e,n){if(Qd.has(n))return this.projection?.isProjecting?f_(n):LQ(e,n);{const r=PJ(e),i=(LT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return R4(e,n)}build(e,n,r){n1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return a1(e,n,r)}}const D4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MJ(t,e,n,r){P4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(D4.has(i)?i:o1(i),e.attrs[i])}class OJ extends j4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Qd.has(n)){const r=i4(n);return r&&r.default||0}return n=D4.has(n)?n:o1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return E4(e,n,r)}build(e,n,r){x4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){MJ(e,n,r,i)}mount(e){this.isSVGTag=w4(e.tagName),super.mount(e)}}const VJ=(t,e)=>i1(t)?new OJ(e):new DJ(e,{allowProjection:t!==w.Fragment});function td(t,e,n){const r=t.getProps();return s1(r,e,n!==void 0?n:r.custom,t)}const E_=t=>Array.isArray(t);function LJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ts(n))}function UJ(t){return E_(t)?t[t.length-1]||0:t}function BJ(t,e){const n=td(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=UJ(a[l]);LJ(t,l,c)}}function FJ(t){return!!(Hn(t)&&t.add)}function T_(t,e){const n=t.getValue("willChange");if(FJ(n))return n.add(e);if(!n&&Oa.WillChange){const r=new Oa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function M4(t){return t.props[T4]}const zJ=t=>t!==null;function HJ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zJ),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const $J={type:"spring",stiffness:500,damping:25,restSpeed:10},qJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),GJ={type:"keyframes",duration:.8},KJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WJ=(t,{keyframes:e})=>e.length>2?GJ:Qd.has(t)?t.startsWith("scale")?qJ(e[1]):$J:KJ;function YJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const l1=(t,e,n,r={},i,a)=>l=>{const c=WT(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Hs(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:b=>{e.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};YJ(c)||Object.assign(p,WJ(t,p)),p.duration&&(p.duration=Hs(p.duration)),p.repeatDelay&&(p.repeatDelay=Hs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(v_(p),p.delay===0&&(g=!0)),(Oa.instantAnimations||Oa.skipAnimations)&&(g=!0,v_(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,g&&!a&&e.get()!==void 0){const b=HJ(p.keyframes,c);if(b!==void 0){xt.update(()=>{p.onUpdate(b),p.onComplete()});return}}return c.isSync?new tv(p):new aX(p)};function QJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function O4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const g=t.getValue(p,t.latestValues[p]??null),b=c[p];if(b===void 0||f&&QJ(f,p))continue;const _={delay:n,...WT(a||{},p)},T=g.get();if(T!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===T&&!_.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const R=M4(t);if(R){const D=window.MotionHandoffAnimation(R,p,xt);D!==null&&(_.startTime=D,S=!0)}}T_(t,p),g.start(l1(p,g,b,t.shouldReduceMotion&&t4.has(p)?{type:!1}:_,t,S));const I=g.animation;I&&d.push(I)}return l&&Promise.all(d).then(()=>{xt.update(()=>{l&&BJ(t,l)})}),d}function V4(t,e,n,r=0,i=1){const a=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):i===1?a*r:c-a*r}function S_(t,e,n={}){const r=td(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(O4(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=i;return XJ(t,e,d,f,p,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function XJ(t,e,n=0,r=0,i=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(S_(d,e,{...l,delay:n+(typeof r=="function"?0:r)+V4(t.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function JJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>S_(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=S_(t,e,n);else{const i=typeof e=="function"?td(t,e,n.custom):e;r=Promise.all(O4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function L4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ZJ=t1.length;function U4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?U4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZJ;n++){const r=t1[n],i=t.props[r];(om(i)||i===!1)&&(e[r]=i)}return e}const eZ=[...e1].reverse(),tZ=e1.length;function nZ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JJ(t,n,r)))}function rZ(t){let e=nZ(t),n=N2(),r=!0;const i=d=>(f,p)=>{const g=td(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:b,transitionEnd:_,...T}=g;f={...f,...T,..._}}return f};function a(d){e=d(t)}function l(d){const{props:f}=t,p=U4(t.parent)||{},g=[],b=new Set;let _={},T=1/0;for(let I=0;I<tZ;I++){const R=eZ[I],D=n[R],j=f[R]!==void 0?f[R]:p[R],z=om(j),$=R===d?D.isActive:null;$===!1&&(T=I);let Y=j===p[R]&&j!==f[R]&&z;if(Y&&r&&t.manuallyAnimateOnMount&&(Y=!1),D.protectedKeys={..._},!D.isActive&&$===null||!j&&!D.prevProp||rv(j)||typeof j=="boolean")continue;const k=iZ(D.prevProp,j);let C=k||R===d&&D.isActive&&!Y&&z||I>T&&z,O=!1;const U=Array.isArray(j)?j:[j];let L=U.reduce(i(R),{});$===!1&&(L={});const{prevResolvedValues:H={}}=D,V={...H,...L},Ee=te=>{C=!0,b.has(te)&&(O=!0,b.delete(te)),D.needsAnimating[te]=!0;const W=t.getValue(te);W&&(W.liveStyle=!1)};for(const te in V){const W=L[te],be=H[te];if(_.hasOwnProperty(te))continue;let Te=!1;E_(W)&&E_(be)?Te=!L4(W,be):Te=W!==be,Te?W!=null?Ee(te):b.add(te):W!==void 0&&b.has(te)?Ee(te):D.protectedKeys[te]=!0}D.prevProp=j,D.prevResolvedValues=L,D.isActive&&(_={..._,...L}),r&&t.blockInitialAnimation&&(C=!1);const ke=Y&&k;C&&(!ke||O)&&g.push(...U.map(te=>{const W={type:R};if(typeof te=="string"&&r&&!ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Te=td(be,te);if(be.enteringChildren&&Te){const{delayChildren:F}=Te.transition||{};W.delay=V4(be.enteringChildren,t,F)}}return{animation:te,options:W}}))}if(b.size){const I={};if(typeof f.initial!="boolean"){const R=td(t,Array.isArray(f.initial)?f.initial[0]:f.initial);R&&R.transition&&(I.transition=R.transition)}b.forEach(R=>{const D=t.getBaseTarget(R),j=t.getValue(R);j&&(j.liveStyle=!0),I[R]=D??null}),g.push({animation:I})}let S=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(g):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),n[d].isActive=f;const p=l(d);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=N2()}}}function iZ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!L4(e,t):!1}function Hl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N2(){return{animate:Hl(!0),whileInView:Hl(),whileHover:Hl(),whileTap:Hl(),whileDrag:Hl(),whileFocus:Hl(),exit:Hl()}}class pl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sZ extends pl{constructor(e){super(e),e.animationState||(e.animationState=rZ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let aZ=0;class oZ extends pl{constructor(){super(...arguments),this.id=aZ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lZ={animation:{Feature:sZ},exit:{Feature:oZ}};function cm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gm(t){return{point:{x:t.pageX,y:t.pageY}}}const cZ=t=>e=>JT(e)&&t(e,Gm(e));function Vf(t,e,n,r){return cm(t,e,cZ(n),r)}const B4=1e-4,uZ=1-B4,dZ=1+B4,F4=.01,hZ=0-F4,fZ=0+F4;function yr(t){return t.max-t.min}function mZ(t,e,n){return Math.abs(t-e)<=n}function I2(t,e,n,r=.5){t.origin=r,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=yr(n)/yr(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uZ&&t.scale<=dZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=hZ&&t.translate<=fZ||isNaN(t.translate))&&(t.translate=0)}function Lf(t,e,n,r){I2(t.x,e.x,n.x,r?r.originX:void 0),I2(t.y,e.y,n.y,r?r.originY:void 0)}function C2(t,e,n){t.min=n.min+e.min,t.max=t.min+yr(e)}function pZ(t,e,n){C2(t.x,e.x,n.x),C2(t.y,e.y,n.y)}function R2(t,e,n){t.min=e.min-n.min,t.max=t.min+yr(e)}function Zy(t,e,n){R2(t.x,e.x,n.x),R2(t.y,e.y,n.y)}function Ci(t){return[t("x"),t("y")]}const z4=({current:t})=>t?t.ownerDocument.defaultView:null,k2=(t,e)=>Math.abs(t-e);function gZ(t,e){const n=k2(t.x,e.x),r=k2(t.y,e.y);return Math.sqrt(n**2+r**2)}class H4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Xb(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=gZ(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!T)return;const{point:S}=b,{timestamp:I}=Bn;this.history.push({...S,timestamp:I});const{onStart:R,onMove:D}=this.handlers;_||(R&&R(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,b)},this.handlePointerMove=(b,_)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Qb(_,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(b,_)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Xb(b.type==="pointercancel"?this.lastMoveEventInfo:Qb(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,R),S&&S(b,R)},!JT(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=Gm(e),d=Qb(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=Bn;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Xb(d,this.history)),this.removeListeners=zm(Vf(this.contextWindow,"pointermove",this.handlePointerMove),Vf(this.contextWindow,"pointerup",this.handlePointerUp),Vf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),as(this.updatePoint)}}function Qb(t,e){return e?{point:e(t.point)}:t}function j2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xb({point:t},e){return{point:t,delta:j2(t,$4(e)),offset:j2(t,yZ(e)),velocity:vZ(e,.1)}}function yZ(t){return t[0]}function $4(t){return t[t.length-1]}function vZ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=$4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hs(e)));)n--;if(!r)return{x:0,y:0};const a=Ri(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function xZ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Zt(n,t,r.max):Math.min(t,n)),t}function P2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bZ(t,{top:e,left:n,bottom:r,right:i}){return{x:P2(t.x,n,i),y:P2(t.y,e,r)}}function D2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wZ(t,e){return{x:D2(t.x,e.x),y:D2(t.y,e.y)}}function _Z(t,e){let n=.5;const r=yr(t),i=yr(e);return i>r?n=Sd(e.min,e.max-r,t.min):r>i&&(n=Sd(t.min,t.max-i,e.min)),Ws(0,1,n)}function EZ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const A_=.35;function TZ(t=A_){return t===!1?t=0:t===!0&&(t=A_),{x:M2(t,"left","right"),y:M2(t,"top","bottom")}}function M2(t,e,n){return{min:O2(t,e),max:O2(t,n)}}function O2(t,e){return typeof t=="number"?t:t[e]||0}const SZ=new WeakMap;class AZ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gm(g).point)},l=(g,b)=>{const{drag:_,dragPropagation:T,onDragStart:S}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wX(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ci(R=>{let D=this.getAxisMotionValue(R).get()||0;if($s.test(D)){const{projection:j}=this.visualElement;if(j&&j.layout){const z=j.layout.layoutBox[R];z&&(D=yr(z)*(parseFloat(D)/100))}}this.originPoint[R]=D}),S&&xt.postRender(()=>S(g,b)),T_(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:S,onDrag:I}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:R}=b;if(T&&this.currentDirection===null){this.currentDirection=NZ(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,R),this.updateAxis("y",b.point,R),this.visualElement.render(),I&&I(g,b)},d=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ci(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new H4(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:z4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&xt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Mg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=xZ(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&qu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=bZ(r.layoutBox,e):this.constraints=!1,this.elastic=TZ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ci(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=EZ(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=IJ(r,i.root,this.visualElement.getTransformPagePoint());let l=wZ(i.layout.layoutBox,a);if(n){const c=n(SJ(l));this.hasMutatedConstraints=!!c,c&&(l=N4(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Ci(p=>{if(!Mg(p,n,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const b=i?200:1e6,_=i?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,T)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return T_(this.visualElement,e),r.start(l1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ci(n=>{const{drag:r}=this.getProps();if(!Mg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-Zt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ci(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=_Z({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ci(l=>{if(!Mg(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(Zt(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;SZ.set(this.visualElement,this);const e=this.visualElement.current,n=Vf(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();qu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xt.read(r);const l=cm(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ci(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=A_,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Mg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NZ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class IZ extends pl{constructor(e){super(e),this.removeGroupControls=Ur,this.removeListeners=Ur,this.controls=new AZ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const V2=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class CZ extends pl{constructor(){super(...arguments),this.removePointerDownListener=Ur}onPointerDown(e){this.session=new H4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:z4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:V2(e),onStart:V2(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&xt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Vf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const my={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function L2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const uf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=L2(t,e.target.x),r=L2(t,e.target.y);return`${n}% ${r}%`}},RZ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=el.parse(t);if(i.length>5)return r;const a=el.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const f=Zt(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),a(i)}};let Jb=!1;class kZ extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;ZX(jZ),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),Jb&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),my.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,Jb=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||xt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),XT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Jb=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q4(t){const[e,n]=f4(),r=w.useContext(CT);return h.jsx(kZ,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(S4),isPresent:e,safeToRemove:n})}const jZ={borderRadius:{...uf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uf,borderTopRightRadius:uf,borderBottomLeftRadius:uf,borderBottomRightRadius:uf,boxShadow:RZ};function PZ(t,e,n){const r=Hn(t)?t:ts(t);return r.start(l1("",r,e,n)),r.animation}const DZ=(t,e)=>t.depth-e.depth;class MZ{constructor(){this.children=[],this.isDirty=!1}add(e){kT(this.children,e),this.isDirty=!0}remove(e){jT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DZ),this.isDirty=!1,this.children.forEach(e)}}function OZ(t,e){const n=Dr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(as(r),t(a-e))};return xt.setup(r,!0),()=>as(r)}const G4=["TopLeft","TopRight","BottomLeft","BottomRight"],VZ=G4.length,U2=t=>typeof t=="string"?parseFloat(t):t,B2=t=>typeof t=="number"||ze.test(t);function LZ(t,e,n,r,i,a){i?(t.opacity=Zt(0,n.opacity??1,UZ(r)),t.opacityExit=Zt(e.opacity??1,0,BZ(r))):a&&(t.opacity=Zt(e.opacity??1,n.opacity??1,r));for(let l=0;l<VZ;l++){const c=`border${G4[l]}Radius`;let d=F2(e,c),f=F2(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||B2(d)===B2(f)?(t[c]=Math.max(Zt(U2(d),U2(f),r),0),($s.test(f)||$s.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,r))}function F2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const UZ=K4(0,.5,RV),BZ=K4(.5,.95,Ur);function K4(t,e,n){return r=>r<t?0:r>e?1:n(Sd(t,e,r))}function z2(t,e){t.min=e.min,t.max=e.max}function Ki(t,e){z2(t.x,e.x),z2(t.y,e.y)}function H2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $2(t,e,n,r,i){return t-=e,t=Jy(t,1/n,r),i!==void 0&&(t=Jy(t,1/i,r)),t}function FZ(t,e=0,n=1,r=.5,i,a=t,l=t){if($s.test(e)&&(e=parseFloat(e),e=Zt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Zt(a.min,a.max,r);t===a&&(c-=e),t.min=$2(t.min,e,n,c,i),t.max=$2(t.max,e,n,c,i)}function q2(t,e,[n,r,i],a,l){FZ(t,e[n],e[r],e[i],e.scale,a,l)}const zZ=["x","scaleX","originX"],HZ=["y","scaleY","originY"];function G2(t,e,n,r){q2(t.x,e,zZ,n?n.x:void 0,r?r.x:void 0),q2(t.y,e,HZ,n?n.y:void 0,r?r.y:void 0)}function K2(t){return t.translate===0&&t.scale===1}function W4(t){return K2(t.x)&&K2(t.y)}function W2(t,e){return t.min===e.min&&t.max===e.max}function $Z(t,e){return W2(t.x,e.x)&&W2(t.y,e.y)}function Y2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y4(t,e){return Y2(t.x,e.x)&&Y2(t.y,e.y)}function Q2(t){return yr(t.x)/yr(t.y)}function X2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qZ{constructor(){this.members=[]}add(e){kT(this.members,e),e.scheduleRender()}remove(e){if(jT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GZ(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:b,skewX:_,skewY:T}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),_&&(r+=`skewX(${_}deg) `),T&&(r+=`skewY(${T}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Zb=["","X","Y","Z"],KZ=1e3;let WZ=0;function ew(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Q4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=M4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Q4(r)}function X4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=WZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XZ),this.nodes.forEach(tee),this.nodes.forEach(nee),this.nodes.forEach(JZ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new MZ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new DT),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ZT(l)&&!OX(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,g=0;const b=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{g=window.innerWidth}),t(l,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,p&&p(),p=OZ(b,250),my.hasAnimatedSinceResize&&(my.hasAnimatedSinceResize=!1,this.nodes.forEach(ek)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||oee,{onLayoutAnimationStart:S,onLayoutAnimationComplete:I}=f.getProps(),R=!this.targetLayout||!Y4(this.targetLayout,_),D=!g&&b;if(this.options.layoutRoot||this.resumeFrom||D||g&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...WT(T,"layout"),onPlay:S,onComplete:I};(f.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,D)}else g||ek(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),as(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ree),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eee),this.nodes.forEach(YZ),this.nodes.forEach(QZ)):this.nodes.forEach(Z2),this.clearAllSnapshots();const c=Dr.now();Bn.delta=Ws(0,1e3/60,c-Bn.timestamp),Bn.timestamp=c,Bn.isProcessing=!0,zb.update.process(Bn),zb.preRender.process(Bn),zb.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,XT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZZ),this.sharedNodes.forEach(iee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yr(this.snapshot.measuredBox.x)&&!yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!W4(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Wl(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),lee(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Rn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(cee))){const{scroll:f}=this.root;f&&(Gu(c.x,f.offset.x),Gu(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Rn();if(Ki(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Ki(c,l),Gu(c.x,p.offset.x),Gu(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const d=Rn();Ki(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ku(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Wl(p.latestValues)&&Ku(d,p.latestValues)}return Wl(this.latestValues)&&Ku(d,this.latestValues),d}removeTransform(l){const c=Rn();Ki(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Wl(f.latestValues))continue;b_(f.latestValues)&&f.updateSnapshot();const p=Rn(),g=f.measurePageBox();Ki(p,g),G2(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Wl(this.latestValues)&&G2(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=Bn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rn(),this.targetWithTransforms=Rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),C4(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||b_(this.parent.latestValues)||I4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rn(),this.relativeTargetOrigin=Rn(),Zy(this.relativeTargetOrigin,c,d),Ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Ki(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;NJ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Rn());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H2(this.prevProjectionDelta.x,this.projectionDelta.x),H2(this.prevProjectionDelta.y,this.projectionDelta.y)),Lf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!X2(this.projectionDelta.x,this.prevProjectionDelta.x)||!X2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wu(),this.projectionDelta=Wu(),this.projectionDeltaWithTransform=Wu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},g=Wu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Rn(),_=d?d.source:void 0,T=this.layout?this.layout.source:void 0,S=_!==T,I=this.getStack(),R=!I||I.members.length<=1,D=!!(S&&!R&&this.options.crossfade===!0&&!this.path.some(aee));this.animationProgress=0;let j;this.mixTargetDelta=z=>{const $=z/1e3;tk(g.x,l.x,$),tk(g.y,l.y,$),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zy(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),see(this.relativeTarget,this.relativeTargetOrigin,b,$),j&&$Z(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Rn()),Ki(j,this.relativeTarget)),S&&(this.animationValues=p,LZ(p,f,this.latestValues,$,D,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(as(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{my.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ts(0)),this.currentAnimation=PZ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&J4(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Rn();const g=yr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const b=yr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}Ki(c,d),Ku(c,p),Lf(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new qZ),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&ew("z",l,f,this.animationValues);for(let p=0;p<Zb.length;p++)ew(`rotate${Zb[p]}`,l,f,this.animationValues),ew(`skew${Zb[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=fy(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=fy(c?.pointerEvents)||""),this.hasProjected&&!Wl(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=GZ(this.projectionDeltaWithTransform,this.treeScale,p);d&&(g=d(p,g)),l.transform=g;const{x:b,y:_}=this.projectionDelta;l.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in lm){if(p[T]===void 0)continue;const{correct:S,applyTo:I,isCSSVariable:R}=lm[T],D=g==="none"?p[T]:S(p[T],f);if(I){const j=I.length;for(let z=0;z<j;z++)l[I[z]]=D}else R?this.options.visualElement.renderState.vars[T]=D:l[T]=D}this.options.layoutId&&(l.pointerEvents=f===this?fy(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(J2),this.root.sharedNodes.clear()}}}function YZ(t){t.updateLayout()}function QZ(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Ci(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],b=yr(g);g.min=n[p].min,g.max=g.min+b}):J4(i,e.layoutBox,n)&&Ci(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],b=yr(n[p]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+b)});const l=Wu();Lf(l,n,e.layoutBox);const c=Wu();a?Lf(c,t.applyTransform(r,!0),e.measuredBox):Lf(c,n,e.layoutBox);const d=!W4(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const _=Rn();Zy(_,e.layoutBox,g.layoutBox);const T=Rn();Zy(T,n,b.layoutBox),Y4(_,T)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=_,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function XZ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JZ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZZ(t){t.clearSnapshot()}function J2(t){t.clearMeasurements()}function Z2(t){t.isLayoutDirty=!1}function eee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ek(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tee(t){t.resolveTargetDelta()}function nee(t){t.calcProjection()}function ree(t){t.resetSkewAndRotation()}function iee(t){t.removeLeadSnapshot()}function tk(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function nk(t,e,n,r){t.min=Zt(e.min,n.min,r),t.max=Zt(e.max,n.max,r)}function see(t,e,n,r){nk(t.x,e.x,n.x,r),nk(t.y,e.y,n.y,r)}function aee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const oee={duration:.45,ease:[.4,0,.1,1]},rk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ik=rk("applewebkit/")&&!rk("chrome/")?Math.round:Ur;function sk(t){t.min=ik(t.min),t.max=ik(t.max)}function lee(t){sk(t.x),sk(t.y)}function J4(t,e,n){return t==="position"||t==="preserve-aspect"&&!mZ(Q2(e),Q2(n),.2)}function cee(t){return t!==t.root&&t.scroll?.wasRoot}const uee=X4({attachResizeListener:(t,e)=>cm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tw={current:void 0},Z4=X4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tw.current){const t=new uee({});t.mount(window),t.setOptions({layoutScroll:!0}),tw.current=t}return tw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dee={pan:{Feature:CZ},drag:{Feature:IZ,ProjectionNode:Z4,MeasureLayout:q4}};function ak(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&xt.postRender(()=>a(e,Gm(e)))}class hee extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=_X(e,(n,r)=>(ak(this.node,r,"Start"),i=>ak(this.node,i,"End"))))}unmount(){}}class fee extends pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zm(cm(this.node.current,"focus",()=>this.onFocus()),cm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ok(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&xt.postRender(()=>a(e,Gm(e)))}class mee extends pl{mount(){const{current:e}=this.node;e&&(this.unmount=AX(e,(n,r)=>(ok(this.node,r,"Start"),(i,{success:a})=>ok(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N_=new WeakMap,nw=new WeakMap,pee=t=>{const e=N_.get(t.target);e&&e(t)},gee=t=>{t.forEach(pee)};function yee({root:t,...e}){const n=t||document;nw.has(n)||nw.set(n,{});const r=nw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gee,{root:t,...e})),r[i]}function vee(t,e,n){const r=yee(e);return N_.set(t,n),r.observe(t),()=>{N_.delete(t),r.unobserve(t)}}const xee={some:0,all:1};class bee extends pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:xee[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),b=f?p:g;b&&b(d)};return vee(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(wee(e,n))&&this.startObserver()}unmount(){}}function wee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _ee={inView:{Feature:bee},tap:{Feature:mee},focus:{Feature:fee},hover:{Feature:hee}},Eee={layout:{ProjectionNode:Z4,MeasureLayout:q4}},Tee={...lZ,..._ee,...dee,...Eee},me=TJ(Tee,VJ),See=50,lk=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Aee=()=>({time:0,x:lk(),y:lk()}),Nee={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function ck(t,e,n,r){const i=n[e],{length:a,position:l}=Nee[e],c=i.current,d=n.time;i.current=t[`scroll${l}`],i.scrollLength=t[`scroll${a}`]-t[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Sd(0,i.scrollLength,i.current);const f=r-d;i.velocity=f>See?0:MT(i.current-c,f)}function Iee(t,e,n){ck(t,"x",e,n),ck(t,"y",e,n),e.time=n}function Cee(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(QT(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const a=r.getBoundingClientRect();n.x+=i.left-a.left,n.y+=i.top-a.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:a}=r.getBBox();n.x+=i,n.y+=a;let l=null,c=r.parentNode;for(;!l;)c.tagName==="svg"&&(l=c),c=r.parentNode;r=l}else break;return n}const I_={start:0,center:.5,end:1};function uk(t,e,n=0){let r=0;if(t in I_&&(t=I_[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const Ree=[0,0];function kee(t,e,n,r){let i=Array.isArray(t)?t:Ree,a=0,l=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,I_[t]?t:"0"]),a=uk(i[0],n,r),l=uk(i[1],e),a-l}const jee={All:[[0,0],[1,1]]},Pee={x:0,y:0};function Dee(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Mee(t,e,n){const{offset:r=jee.All}=n,{target:i=t,axis:a="y"}=n,l=a==="y"?"height":"width",c=i!==t?Cee(i,t):Pee,d=i===t?{width:t.scrollWidth,height:t.scrollHeight}:Dee(i),f={width:t.clientWidth,height:t.clientHeight};e[a].offset.length=0;let p=!e[a].interpolate;const g=r.length;for(let b=0;b<g;b++){const _=kee(r[b],f[l],d[l],c[a]);!p&&_!==e[a].interpolatorOffsets[b]&&(p=!0),e[a].offset[b]=_}p&&(e[a].interpolate=$T(e[a].offset,qV(r),{clamp:!1}),e[a].interpolatorOffsets=[...e[a].offset]),e[a].progress=Ws(0,1,e[a].interpolate(e[a].current))}function Oee(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Vee(t,e,n,r={}){return{measure:i=>{Oee(t,r.target,n),Iee(t,n,i),(r.offset||r.target)&&Mee(t,n,r)},notify:()=>e(n)}}const df=new WeakMap,dk=new WeakMap,rw=new WeakMap,hk=t=>t===document.scrollingElement?window:t;function e5(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Ur;let r=rw.get(e);r||(r=new Set,rw.set(e,r));const i=Aee(),a=Vee(e,t,i,n);if(r.add(a),!df.has(e)){const c=()=>{for(const g of r)g.measure(Bn.timestamp);xt.preUpdate(d)},d=()=>{for(const g of r)g.notify()},f=()=>xt.read(c);df.set(e,f);const p=hk(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&dk.set(e,MX(e,f)),p.addEventListener("scroll",f,{passive:!0}),f()}const l=df.get(e);return xt.read(l,!1,!0),()=>{as(l);const c=rw.get(e);if(!c||(c.delete(a),c.size))return;const d=df.get(e);df.delete(e),d&&(hk(e).removeEventListener("scroll",d),dk.get(e)?.(),window.removeEventListener("resize",d))}}const fk=new Map;function Lee(t){const e={value:0},n=e5(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function t5({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=fk.get(e)??new Map;fk.set(e,i);const a=n.target??"self",l=i.get(a)??{},c=r+(n.offset??[]).join(",");return l[c]||(l[c]=!n.target&&YV()?new ScrollTimeline({source:e,axis:r}):Lee({container:e,...n})),l[c]}function Uee(t,e){const n=t5(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),h4(i=>{r.time=r.iterationDuration*i},n))})}function Bee(t){return t.length===2}function Fee(t,e){return Bee(t)?e5(n=>{t(n[e.axis].progress,n)},e):h4(t,t5(e))}function zee(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Ur;const i={axis:e,container:n,...r};return typeof t=="function"?Fee(t,i):Uee(t,i)}const Hee=()=>({scrollX:ts(0),scrollY:ts(0),scrollXProgress:ts(0),scrollYProgress:ts(0)}),Og=t=>t?!t.current:!1;function c1({container:t,target:e,...n}={}){const r=Kd(Hee),i=w.useRef(null),a=w.useRef(!1),l=w.useCallback(()=>(i.current=zee((c,{x:d,y:f})=>{r.scrollX.set(d.current),r.scrollXProgress.set(d.progress),r.scrollY.set(f.current),r.scrollYProgress.set(f.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return Z0(()=>{if(a.current=!1,Og(t)||Og(e)){a.current=!0;return}else return l()},[l]),w.useEffect(()=>{if(a.current)return im(!Og(t)),im(!Og(e)),l()},[l]),r}function n5(t){const e=Kd(()=>ts(t)),{isStatic:n}=w.useContext(qm);if(n){const[,r]=w.useState(t);w.useEffect(()=>e.on("change",r),[])}return e}function r5(t,e){const n=n5(e()),r=()=>n.set(e());return r(),Z0(()=>{const i=()=>xt.preRender(r,!1,!0),a=t.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),as(r)}}),n}function $ee(t){Of.current=[],t();const e=r5(Of.current,t);return Of.current=void 0,e}function qee(t,e,n,r){if(typeof t=="function")return $ee(t);const i=VX(e,n,r);return Array.isArray(t)?mk(t,i):mk([t],([a])=>i(a))}function mk(t,e){const n=Kd(()=>[]);return r5(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function u1(t,e={}){const{isStatic:n}=w.useContext(qm),r=()=>Hn(t)?t.get():t;if(n)return qee(r);const i=n5(r());return w.useInsertionEffect(()=>LX(i,t,e),[i,JSON.stringify(e)]),i}const Gee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kee=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pk=t=>{const e=Kee(t);return e.charAt(0).toUpperCase()+e.slice(1)},i5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Wee=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Yee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qee=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},d)=>w.createElement("svg",{ref:d,...Yee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:i5("lucide",i),...!a&&!Wee(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>w.createElement(f,p)),...Array.isArray(a)?a:[a]]));const Ae=(t,e)=>{const n=w.forwardRef(({className:r,...i},a)=>w.createElement(Qee,{ref:a,iconNode:e,className:i5(`lucide-${Gee(pk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=pk(t),n};const Xee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sv=Ae("arrow-left",Xee);const Jee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xd=Ae("arrow-right",Jee);const Zee=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],ete=Ae("arrow-up",Zee);const tte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],nte=Ae("bell",tte);const rte=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hf=Ae("building-2",rte);const ite=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],d1=Ae("calendar",ite);const ste=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],C_=Ae("chart-no-axes-column",ste);const ate=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ote=Ae("chart-pie",ate);const lte=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],s5=Ae("check",lte);const cte=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],h1=Ae("chevron-down",cte);const ute=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dte=Ae("chevron-up",ute);const hte=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],a5=Ae("circle-check-big",hte);const fte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],f1=Ae("circle-check",fte);const mte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R_=Ae("circle-question-mark",mte);const pte=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],um=Ae("clock",pte);const gte=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],yte=Ae("code",gte);const vte=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],xte=Ae("coffee",vte);const bte=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],gk=Ae("cookie",bte);const wte=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Km=Ae("download",wte);const _te=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ete=Ae("ellipsis",_te);const Tte=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],o5=Ae("facebook",Tte);const Ste=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],os=Ae("file-text",Ste);const Ate=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Nte=Ae("folder-open",Ate);const Ite=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],m1=Ae("globe",Ite);const Cte=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Rte=Ae("headphones",Cte);const kte=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],l5=Ae("heart",kte);const jte=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Pte=Ae("instagram",jte);const Dte=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],Mte=Ae("laptop",Dte);const Ote=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],c5=Ae("layout-dashboard",Ote);const Vte=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lte=Ae("link",Vte);const Ute=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Sc=Ae("linkedin",Ute);const Bte=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],di=Ae("loader-circle",Bte);const Fte=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],u5=Ae("log-out",Fte);const zte=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wm=Ae("mail",zte);const Hte=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$te=Ae("map-pin",Hte);const qte=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Gte=Ae("menu",qte);const Kte=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Wte=Ae("message-square",Kte);const Yte=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],d5=Ae("moon",Yte);const Qte=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Xte=Ae("pen-tool",Qte);const Jte=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Zte=Ae("pencil",Jte);const ene=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tne=Ae("phone",ene);const nne=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rne=Ae("play",nne);const ine=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],h5=Ae("plus",ine);const sne=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],p1=Ae("printer",sne);const ane=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],one=Ae("quote",ane);const lne=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],g1=Ae("save",lne);const cne=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],une=Ae("scale",cne);const dne=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],f5=Ae("search",dne);const hne=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fne=Ae("send",hne);const mne=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ym=Ae("settings",mne);const pne=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],gne=Ae("share-2",pne);const yne=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],e0=Ae("shield",yne);const vne=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],yk=Ae("sparkles",vne);const xne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bne=Ae("square-pen",xne);const wne=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_ne=Ae("star",wne);const Ene=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],m5=Ae("sun",Ene);const Tne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],p5=Ae("target",Tne);const Sne=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],g5=Ae("trash-2",Sne);const Ane=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],k_=Ae("trending-up",Ane);const Nne=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ine=Ae("triangle-alert",Nne);const Cne=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Rne=Ae("trophy",Cne);const kne=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Sa=Ae("twitter",kne);const jne=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Pne=Ae("upload",jne);const Dne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],y5=Ae("user",Dne);const Mne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Aa=Ae("users",Mne);const One=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],v5=Ae("x",One);const Vne=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xi=Ae("zap",Vne),j_="/lumina-saas/assets/Logo-oJvFpd2S.png",x5="/lumina-saas/assets/profile-picture-CKHmc1Gt.png";function Br({onMenuClick:t,isSidebarOpen:e}){const{user:n,userRole:r,logout:i}=$a(),{toggleTheme:a}=bV(),l=Pc(),[c,d]=w.useState(!1),[f,p]=w.useState(!1),[g,b]=w.useState(null);w.useEffect(()=>{if(n?.uid){const j=rm(or(Pt,"users",n.uid),z=>{if(z.exists()){const $=z.data();$.photoURL&&b($.photoURL)}});return()=>j()}},[n]);const _=VY(()=>p(!1)),T=async()=>{try{await i(),l("/")}catch(j){console.error("Error signing out:",j)}},S=()=>{t?t():d(!c)},I=!t&&c,R=t?e:c,D=[{name:"Features",href:"/#features",type:"hash"},{name:"Pricing",href:"/#pricing",type:"hash"},{name:"Customers",href:"/customers",type:"route"}];return h.jsxs(me.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 fixed w-full z-50 transition-colors duration-300 shadow-sm",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-16 relative",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs(tt,{to:"/",className:"flex items-center gap-2",children:[h.jsx("img",{src:j_,alt:"Lumina Logo",className:"h-8 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lumina"})]})}),h.jsx("div",{className:"hidden md:flex items-center gap-8 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2",children:D.map(j=>j.type==="route"?h.jsx(tt,{to:j.href,className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:j.name},j.name):h.jsx("a",{href:j.href,className:"text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",children:j.name},j.name))}),h.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[h.jsxs("button",{onClick:a,className:"relative p-2.5 rounded-xl bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-300 group","aria-label":"Toggle dark/light mode",children:[h.jsx(m5,{size:20,className:"absolute inset-0 m-auto text-yellow-500 transition-all duration-500 rotate-0 scale-100 dark:-rotate-90 dark:scale-0 pointer-events-none"}),h.jsx(d5,{size:20,className:"absolute inset-0 m-auto text-indigo-400 transition-all duration-500 rotate-90 scale-0 dark:rotate-0 dark:scale-100 pointer-events-none"})]}),h.jsxs("button",{className:"relative p-2 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[h.jsx(nte,{size:20}),h.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-gray-900"})]}),h.jsxs("div",{className:"relative",ref:_,children:[h.jsxs("button",{onClick:()=>p(!f),className:"flex items-center gap-3 p-1.5 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[h.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 font-medium overflow-hidden",children:h.jsx("img",{src:g||n?.photoURL||x5,alt:n?.displayName||"User",className:"w-full h-full object-cover"})}),h.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n?.displayName||n?.email?.split("@")[0]})]}),h.jsx(Ad,{children:f&&h.jsxs(me.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-100 dark:border-gray-800 py-1 z-50",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:n?.displayName||"User"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:n?.email})]}),r==="admin"&&h.jsxs(tt,{to:"/admin",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>p(!1),children:[h.jsx(e0,{size:16}),"Admin"]}),h.jsxs(tt,{to:"/dashboard",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>p(!1),children:[h.jsx(c5,{size:16}),"Dashboard"]}),h.jsxs(tt,{to:"/dashboard/settings",className:"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>p(!1),children:[h.jsx(Ym,{size:16}),"Settings"]}),h.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[h.jsx(u5,{size:16}),"Sign Out"]})]})})]})]}),h.jsx("div",{className:"flex items-center md:hidden",children:h.jsxs("button",{onClick:S,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[h.jsx("span",{className:"sr-only",children:"Open main menu"}),R?h.jsx(v5,{className:"block h-6 w-6","aria-hidden":"true"}):h.jsx(Gte,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),I&&h.jsx("div",{className:"md:hidden bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[D.map(j=>j.type==="route"?h.jsx(tt,{to:j.href,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>d(!1),children:j.name},j.name):h.jsx("a",{href:j.href,className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>d(!1),children:j.name},j.name)),h.jsx("div",{className:"border-t border-gray-100 dark:border-gray-800 my-2"}),r==="admin"&&h.jsx(tt,{to:"/admin",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>d(!1),children:"Admin"}),h.jsx(tt,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>d(!1),children:"Dashboard"}),h.jsx(tt,{to:"/dashboard/settings",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>d(!1),children:"Settings"}),h.jsx("button",{onClick:a,className:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800",children:"Switch Theme"}),h.jsx("button",{onClick:T,className:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Sign Out"})]})})]})}const Lne="/lumina-saas/assets/hero-DH9HHjiU.png";function Une({onGetStarted:t}){const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return h.jsxs("div",{className:"relative overflow-hidden bg-white dark:bg-gray-950 pt-24 pb-16 md:pt-32 md:pb-24",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs(me.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"relative rounded-2xl md:rounded-3xl overflow-hidden shadow-2xl bg-gray-900 dark:bg-gray-900/95 backdrop-blur-sm mb-8 md:mb-12",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx(me.img,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:.5},transition:{duration:1.5,ease:"easeOut"},src:Lne,alt:"Background",className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/90 via-gray-900/60 to-gray-900/30 mix-blend-multiply"})]}),h.jsxs(me.div,{variants:e,initial:"hidden",animate:"visible",className:"relative z-10 px-4 py-16 md:px-6 md:py-32 text-center max-w-4xl mx-auto",children:[h.jsxs(me.div,{variants:n,className:"inline-flex items-center rounded-full border border-white/20 bg-white/10 px-3 py-1 text-xs md:text-sm font-medium text-white mb-6 md:mb-8 backdrop-blur-sm",children:[h.jsx("span",{className:"flex h-2 w-2 rounded-full bg-indigo-400 mr-2 animate-pulse"}),"New: AI Content Generator 2.0"]}),h.jsxs(me.h1,{variants:n,className:"text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-extrabold text-white tracking-tight mb-4 md:mb-6 leading-tight",children:["Turn social chaos ",h.jsx("br",{className:"hidden md:block"}),"into"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400",children:"predictable growth"}),"."]}),h.jsx(me.p,{variants:n,className:"mt-4 md:mt-6 max-w-2xl mx-auto text-base md:text-xl text-gray-200 mb-0 leading-relaxed px-2",children:"Lumina helps brands publish, analyze, and grow across all channels using predictive AI. Stop guessing, start scaling."})]})]}),h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"flex flex-col sm:flex-row justify-center gap-3 md:gap-4 px-4",children:[h.jsxs(me.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-6 py-3.5 md:px-8 md:py-4 rounded-full text-base md:text-lg font-bold hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors shadow-xl flex items-center justify-center w-full sm:w-auto",children:["Start Free Trial",h.jsx(Xd,{size:20,className:"ml-2"})]}),h.jsxs(me.button,{whileHover:{scale:1.05,backgroundColor:"#f9fafb"},whileTap:{scale:.95},className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200 dark:border-gray-700 px-6 py-3.5 md:px-8 md:py-4 rounded-full text-base md:text-lg font-bold hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center justify-center w-full sm:w-auto",children:[h.jsx(rne,{size:20,className:"mr-2"}),"Watch Demo"]})]})]}),h.jsx(me.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-indigo-100/50 dark:bg-indigo-900/20 rounded-full blur-3xl -z-10"})]})}function b5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function w5(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b5(t))&&(r&&(r+=" "),r+=e);return r}const Bne=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Fne=(t,e)=>({classGroupId:t,validator:e}),_5=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),t0="-",vk=[],zne="arbitrary..",Hne=t=>{const e=qne(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return $ne(l);const c=l.split(t0),d=c[0]===""&&c.length>1?1:0;return E5(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=n[l];return d?f?Bne(f,d):d:f||vk}return n[l]||vk}}},E5=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],a=n.nextPart.get(i);if(a){const f=E5(t,e+1,a);if(f)return f}const l=n.validators;if(l===null)return;const c=e===0?t.join(t0):t.slice(e).join(t0),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},$ne=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?zne+r:void 0})(),qne=t=>{const{theme:e,classGroups:n}=t;return Gne(n,e)},Gne=(t,e)=>{const n=_5();for(const r in t){const i=t[r];y1(i,n,r,e)}return n},y1=(t,e,n,r)=>{const i=t.length;for(let a=0;a<i;a++){const l=t[a];Kne(l,e,n,r)}},Kne=(t,e,n,r)=>{if(typeof t=="string"){Wne(t,e,n);return}if(typeof t=="function"){Yne(t,e,n,r);return}Qne(t,e,n,r)},Wne=(t,e,n)=>{const r=t===""?e:T5(e,t);r.classGroupId=n},Yne=(t,e,n,r)=>{if(Xne(t)){y1(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Fne(n,t))},Qne=(t,e,n,r)=>{const i=Object.entries(t),a=i.length;for(let l=0;l<a;l++){const[c,d]=i[l];y1(d,T5(e,c),n,r)}},T5=(t,e)=>{let n=t;const r=e.split(t0),i=r.length;for(let a=0;a<i;a++){const l=r[a];let c=n.nextPart.get(l);c||(c=_5(),n.nextPart.set(l,c)),n=c}return n},Xne=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Jne=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(a,l)=>{n[a]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(a){let l=n[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return i(a,l),l},set(a,l){a in n?n[a]=l:i(a,l)}}},P_="!",xk=":",Zne=[],bk=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),ere=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let l=0,c=0,d=0,f;const p=i.length;for(let S=0;S<p;S++){const I=i[S];if(l===0&&c===0){if(I===xk){a.push(i.slice(d,S)),d=S+1;continue}if(I==="/"){f=S;continue}}I==="["?l++:I==="]"?l--:I==="("?c++:I===")"&&c--}const g=a.length===0?i:i.slice(d);let b=g,_=!1;g.endsWith(P_)?(b=g.slice(0,-1),_=!0):g.startsWith(P_)&&(b=g.slice(1),_=!0);const T=f&&f>d?f-d:void 0;return bk(a,_,b,T)};if(e){const i=e+xk,a=r;r=l=>l.startsWith(i)?a(l.slice(i.length)):bk(Zne,!1,l,void 0,!0)}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},tre=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let a=0;a<n.length;a++){const l=n[a],c=l[0]==="[",d=e.has(l);c||d?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},nre=t=>({cache:Jne(t.cacheSize),parseClassName:ere(t),sortModifiers:tre(t),...Hne(t)}),rre=/\s+/,ire=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],c=t.trim().split(rre);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:g,modifiers:b,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:S}=n(p);if(g){d=p+(d.length>0?" "+d:d);continue}let I=!!S,R=r(I?T.substring(0,S):T);if(!R){if(!I){d=p+(d.length>0?" "+d:d);continue}if(R=r(T),!R){d=p+(d.length>0?" "+d:d);continue}I=!1}const D=b.length===0?"":b.length===1?b[0]:a(b).join(":"),j=_?D+P_:D,z=j+R;if(l.indexOf(z)>-1)continue;l.push(z);const $=i(R,I);for(let Y=0;Y<$.length;++Y){const k=$[Y];l.push(j+k)}d=p+(d.length>0?" "+d:d)}return d},sre=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=S5(n))&&(i&&(i+=" "),i+=r);return i},S5=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=S5(t[r]))&&(n&&(n+=" "),n+=e);return n},are=(t,...e)=>{let n,r,i,a;const l=d=>{const f=e.reduce((p,g)=>g(p),t());return n=nre(f),r=n.cache.get,i=n.cache.set,a=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=ire(d,n);return i(d,p),p};return a=l,(...d)=>a(sre(...d))},ore=[],Cn=t=>{const e=n=>n[t]||ore;return e.isThemeGetter=!0,e},A5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,N5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lre=/^\d+\/\d+$/,cre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ure=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Du=t=>lre.test(t),Je=t=>!!t&&!Number.isNaN(Number(t)),Io=t=>!!t&&Number.isInteger(Number(t)),iw=t=>t.endsWith("%")&&Je(t.slice(0,-1)),xa=t=>cre.test(t),mre=()=>!0,pre=t=>ure.test(t)&&!dre.test(t),I5=()=>!1,gre=t=>hre.test(t),yre=t=>fre.test(t),vre=t=>!Ie(t)&&!Ce(t),xre=t=>Jd(t,k5,I5),Ie=t=>A5.test(t),$l=t=>Jd(t,j5,pre),sw=t=>Jd(t,Tre,Je),wk=t=>Jd(t,C5,I5),bre=t=>Jd(t,R5,yre),Vg=t=>Jd(t,P5,gre),Ce=t=>N5.test(t),ff=t=>Zd(t,j5),wre=t=>Zd(t,Sre),_k=t=>Zd(t,C5),_re=t=>Zd(t,k5),Ere=t=>Zd(t,R5),Lg=t=>Zd(t,P5,!0),Jd=(t,e,n)=>{const r=A5.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Zd=(t,e,n=!1)=>{const r=N5.exec(t);return r?r[1]?e(r[1]):n:!1},C5=t=>t==="position"||t==="percentage",R5=t=>t==="image"||t==="url",k5=t=>t==="length"||t==="size"||t==="bg-size",j5=t=>t==="length",Tre=t=>t==="number",Sre=t=>t==="family-name",P5=t=>t==="shadow",Are=()=>{const t=Cn("color"),e=Cn("font"),n=Cn("text"),r=Cn("font-weight"),i=Cn("tracking"),a=Cn("leading"),l=Cn("breakpoint"),c=Cn("container"),d=Cn("spacing"),f=Cn("radius"),p=Cn("shadow"),g=Cn("inset-shadow"),b=Cn("text-shadow"),_=Cn("drop-shadow"),T=Cn("blur"),S=Cn("perspective"),I=Cn("aspect"),R=Cn("ease"),D=Cn("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...z(),Ce,Ie],Y=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[Ce,Ie,d],O=()=>[Du,"full","auto",...C()],U=()=>[Io,"none","subgrid",Ce,Ie],L=()=>["auto",{span:["full",Io,Ce,Ie]},Io,Ce,Ie],H=()=>[Io,"auto",Ce,Ie],V=()=>["auto","min","max","fr",Ce,Ie],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...C()],te=()=>[Du,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],W=()=>[t,Ce,Ie],be=()=>[...z(),_k,wk,{position:[Ce,Ie]}],Te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",_re,xre,{size:[Ce,Ie]}],ae=()=>[iw,ff,$l],se=()=>["","none","full",f,Ce,Ie],ue=()=>["",Je,ff,$l],ge=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Je,iw,_k,wk],we=()=>["","none",T,Ce,Ie],De=()=>["none",Je,Ce,Ie],He=()=>["none",Je,Ce,Ie],$e=()=>[Je,Ce,Ie],Qe=()=>[Du,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xa],breakpoint:[xa],color:[mre],container:[xa],"drop-shadow":[xa],ease:["in","out","in-out"],font:[vre],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xa],shadow:[xa],spacing:["px",Je],text:[xa],"text-shadow":[xa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Du,Ie,Ce,I]}],container:["container"],columns:[{columns:[Je,Ie,Ce,c]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Io,"auto",Ce,Ie]}],basis:[{basis:[Du,"full","auto",c,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,Du,"auto","initial","none",Ie]}],grow:[{grow:["",Je,Ce,Ie]}],shrink:[{shrink:["",Je,Ce,Ie]}],order:[{order:[Io,"first","last","none",Ce,Ie]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[c,"screen",...te()]}],"min-w":[{"min-w":[c,"screen","none",...te()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,ff,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ce,sw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",iw,Ie]}],"font-family":[{font:[wre,Ie,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ce,Ie]}],"line-clamp":[{"line-clamp":[Je,"none",Ce,sw]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",Ce,Ie]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ce,Ie]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ce,$l]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Je,"auto",Ce,Ie]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce,Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce,Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:be()}],"bg-repeat":[{bg:Te()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Io,Ce,Ie],radial:["",Ce,Ie],conic:[Io,Ce,Ie]},Ere,bre]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ce,Ie]}],"outline-w":[{outline:["",Je,ff,$l]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",p,Lg,Vg]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",g,Lg,Vg]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Je,$l]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",b,Lg,Vg]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Je,Ce,Ie]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ce,Ie]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:be()}],"mask-repeat":[{mask:Te()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ce,Ie]}],filter:[{filter:["","none",Ce,Ie]}],blur:[{blur:we()}],brightness:[{brightness:[Je,Ce,Ie]}],contrast:[{contrast:[Je,Ce,Ie]}],"drop-shadow":[{"drop-shadow":["","none",_,Lg,Vg]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Je,Ce,Ie]}],"hue-rotate":[{"hue-rotate":[Je,Ce,Ie]}],invert:[{invert:["",Je,Ce,Ie]}],saturate:[{saturate:[Je,Ce,Ie]}],sepia:[{sepia:["",Je,Ce,Ie]}],"backdrop-filter":[{"backdrop-filter":["","none",Ce,Ie]}],"backdrop-blur":[{"backdrop-blur":we()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ce,Ie]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ce,Ie]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ce,Ie]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ce,Ie]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ce,Ie]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ce,Ie]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ce,Ie]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ce,Ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ce,Ie]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ce,Ie]}],ease:[{ease:["linear","initial",R,Ce,Ie]}],delay:[{delay:[Je,Ce,Ie]}],animate:[{animate:["none",D,Ce,Ie]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Ce,Ie]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:$e()}],"skew-x":[{"skew-x":$e()}],"skew-y":[{"skew-y":$e()}],transform:[{transform:[Ce,Ie,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Qe()}],"translate-x":[{"translate-x":Qe()}],"translate-y":[{"translate-y":Qe()}],"translate-z":[{"translate-z":Qe()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce,Ie]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce,Ie]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Je,ff,$l,sw]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Nre=are(Are);function Ze(...t){return Nre(w5(t))}const Id=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ze("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Id.displayName="Card";const dm=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ze("flex flex-col space-y-1.5 p-6",t),...e}));dm.displayName="CardHeader";const hm=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ze("font-semibold leading-none tracking-tight",t),...e}));hm.displayName="CardTitle";const v1=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ze("text-sm text-muted-foreground",t),...e}));v1.displayName="CardDescription";const Cd=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ze("p-6 pt-0",t),...e}));Cd.displayName="CardContent";const x1=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ze("flex items-center p-6 pt-0",t),...e}));x1.displayName="CardFooter";const Ire=[{title:"Advanced Analytics",description:"Gain deep insights into your audience with our AI-powered analytics dashboard. Track growth, engagement, and sentiment in real-time.",icon:C_},{title:"Smart Automation",description:"Automate your workflow with intelligent scheduling and content distribution. Let AI handle the repetitive tasks while you focus on strategy.",icon:Xi},{title:"Enterprise Security",description:"Bank-grade encryption and security protocols ensure your data is always safe. SOC 2 Type II compliant infrastructure.",icon:e0},{title:"Team Collaboration",description:"Seamlessly collaborate with your team. Assign roles, manage permissions, and streamline your content approval process.",icon:Aa},{title:"Global Reach",description:"Optimize your content for global audiences with AI-powered translation and localization tools. Reach users in their native language.",icon:m1},{title:"24/7 Expert Support",description:"Our dedicated support team is available around the clock to help you succeed. Get priority access to our experts.",icon:Rte}],Cre={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},Rre={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function kre(){return h.jsx("section",{id:"features",className:"py-24 bg-gray-50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Everything you need to scale"}),h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Powerful tools designed to help you grow your digital presence and engage your audience like never before."})]}),h.jsx(me.div,{variants:Cre,initial:"hidden",whileInView:"show",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Ire.map((t,e)=>h.jsx(me.div,{variants:Rre,children:h.jsx(me.div,{whileHover:{y:-5,rotateX:5,rotateY:5,scale:1.02,transition:{duration:.3}},style:{perspective:1e3},className:"h-full",children:h.jsxs(Id,{className:"h-full border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 shadow-sm hover:shadow-xl transition-all duration-300 group",children:[h.jsxs(dm,{children:[h.jsx(me.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.5},className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center mb-4 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300",children:h.jsx(t.icon,{size:24})}),h.jsx(hm,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.title})]}),h.jsx(Cd,{children:h.jsx(v1,{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:t.description})})]})})},e))})]})})}function Ek(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Fr(...t){return e=>{let n=!1;const r=t.map(i=>{const a=Ek(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Ek(t[i],null)}}}}function Ft(...t){return w.useCallback(Fr(...t),t)}var jre=Symbol.for("react.lazy"),n0=G_[" use ".trim().toString()];function Pre(t){return typeof t=="object"&&t!==null&&"then"in t}function D5(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===jre&&"_payload"in t&&Pre(t._payload)}function M5(t){const e=Mre(t),n=w.forwardRef((r,i)=>{let{children:a,...l}=r;D5(a)&&typeof n0=="function"&&(a=n0(a._payload));const c=w.Children.toArray(a),d=c.find(Vre);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var Dre=M5("Slot");function Mre(t){const e=w.forwardRef((n,r)=>{let{children:i,...a}=n;if(D5(i)&&typeof n0=="function"&&(i=n0(i._payload)),w.isValidElement(i)){const l=Ure(i),c=Lre(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ore=Symbol("radix.slottable");function Vre(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ore}function Lre(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Ure(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Tk=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Sk=w5,O5=(t,e)=>n=>{var r;if(e?.variants==null)return Sk(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(f=>{const p=n?.[f],g=a?.[f];if(p===null)return null;const b=Tk(p)||Tk(g);return i[f][b]}),c=n&&Object.entries(n).reduce((f,p)=>{let[g,b]=p;return b===void 0||(f[g]=b),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:g,className:b,..._}=p;return Object.entries(_).every(T=>{let[S,I]=T;return Array.isArray(I)?I.includes({...a,...c}[S]):{...a,...c}[S]===I})?[...f,g,b]:f},[]);return Sk(t,l,d,n?.class,n?.className)},Bre=O5("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ye=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const l=r?Dre:"button";return h.jsx(l,{className:Ze(Bre({variant:e,size:n,className:t})),ref:a,...i})});Ye.displayName="Button";const Fre=[{name:"Starter",price:"$0",description:"Perfect for individuals just getting started.",features:["Basic Analytics","5 Social Profiles","1 User Seat","Community Support","Basic Content Scheduling"],cta:"Get Started",popular:!1},{name:"Pro",price:"$29",period:"/month",description:"Ideal for growing creators and small teams.",features:["Advanced Analytics","15 Social Profiles","5 User Seats","Priority Email Support","AI Content Generation","Competitor Analysis"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:"Custom",description:"For large organizations with specific needs.",features:["Custom Reporting","Unlimited Profiles","Unlimited Seats","24/7 Dedicated Support","SSO & Advanced Security","Custom API Access"],cta:"Contact Sales",popular:!1}];function zre(){return h.jsx("section",{id:"pricing",className:"py-24 bg-white dark:bg-gray-950",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Simple, transparent pricing"}),h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Choose the perfect plan for your needs. No hidden fees, cancel any time."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Fre.map((t,e)=>h.jsx(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"relative",children:h.jsx(me.div,{animate:t.popular?{scale:[1,1.02,1],transition:{duration:2,repeat:1/0,repeatType:"reverse"}}:{},whileHover:{y:-12,scale:1.05,transition:{duration:.3}},className:"h-full",children:h.jsxs(Id,{className:`h-full flex flex-col ${t.popular?"border-indigo-600 dark:border-indigo-500 shadow-xl z-10":"border-gray-200 dark:border-gray-800 hover:border-indigo-300 dark:hover:border-indigo-700"} bg-white dark:bg-gray-900 transition-colors duration-300`,children:[t.popular&&h.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:h.jsx("span",{className:"bg-indigo-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-md",children:"Most Popular"})}),h.jsxs(dm,{children:[h.jsx(hm,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.name}),h.jsx(v1,{className:"text-gray-600 dark:text-gray-400",children:t.description})]}),h.jsxs(Cd,{className:"flex-grow",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:t.price}),t.period&&h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.period})]}),h.jsx("ul",{className:"space-y-3",children:t.features.map((n,r)=>h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx(s5,{size:20,className:"text-green-500 flex-shrink-0"}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]},r))})]}),h.jsx(x1,{children:h.jsx(Ye,{className:`w-full ${t.popular?"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg hover:shadow-indigo-500/30":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-700"}`,size:"lg",children:t.cta})})]})})},e))})]})})}function Hre(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l);c.displayName=a+"Context";const d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,$re(i,...e)]}function $re(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function tl(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}var Tn=globalThis?.document?w.useLayoutEffect:()=>{},qre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],av=qre.reduce((t,e)=>{const n=M5(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),aw={exports:{}},ow={};var Ak;function Gre(){if(Ak)return ow;Ak=1;var t=u0();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(g,b){var _=b(),T=r({inst:{value:_,getSnapshot:b}}),S=T[0].inst,I=T[1];return a(function(){S.value=_,S.getSnapshot=b,d(S)&&I({inst:S})},[g,_,b]),i(function(){return d(S)&&I({inst:S}),g(function(){d(S)&&I({inst:S})})},[g]),l(_),_}function d(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!n(g,_)}catch{return!0}}function f(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return ow.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,ow}var Nk;function Kre(){return Nk||(Nk=1,aw.exports=Gre()),aw.exports}var Wre=Kre();function Yre(){return Wre.useSyncExternalStore(Qre,()=>!0,()=>!1)}function Qre(){return()=>{}}var b1="Avatar",[Xre]=Hre(b1),[Jre,V5]=Xre(b1),L5=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=w.useState("idle");return h.jsx(Jre,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:h.jsx(av.span,{...r,ref:e})})});L5.displayName=b1;var U5="AvatarImage",B5=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,l=V5(U5,n),c=Zre(r,a),d=tl(f=>{i(f),l.onImageLoadingStatusChange(f)});return Tn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?h.jsx(av.img,{...a,ref:e,src:r}):null});B5.displayName=U5;var F5="AvatarFallback",z5=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=V5(F5,n),[l,c]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&a.imageLoadingStatus!=="loaded"?h.jsx(av.span,{...i,ref:e}):null});z5.displayName=F5;function Ik(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Zre(t,{referrerPolicy:e,crossOrigin:n}){const r=Yre(),i=w.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[l,c]=w.useState(()=>Ik(a,t));return Tn(()=>{c(Ik(a,t))},[a,t]),Tn(()=>{const d=g=>()=>{c(g)};if(!a)return;const f=d("loaded"),p=d("error");return a.addEventListener("load",f),a.addEventListener("error",p),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",f),a.removeEventListener("error",p)}},[a,n,e]),l}var H5=L5,$5=B5,q5=z5;const G5=w.forwardRef(({className:t,...e},n)=>h.jsx(H5,{ref:n,className:Ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));G5.displayName=H5.displayName;const K5=w.forwardRef(({className:t,...e},n)=>h.jsx($5,{ref:n,className:Ze("aspect-square h-full w-full",t),...e}));K5.displayName=$5.displayName;const W5=w.forwardRef(({className:t,...e},n)=>h.jsx(q5,{ref:n,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));W5.displayName=q5.displayName;const eie=[{name:"Dr Alex Victory",role:"Marketing Director at TechFlow",content:"Lumina has completely transformed how we handle our social media analytics. The AI insights are incredibly accurate and have helped us double our engagement in just two months.",avatar:"/dr-alex.png",initials:"AV"},{name:"Dr Michael Chen",role:"Founder of StartUp Inc",content:"The content generation features are a game-changer. I used to spend hours writing captions, but now Lumina does it in seconds, and they sound exactly like my brand voice.",avatar:"/dr-Michael.png",initials:"MC"},{name:"Dr Emily Davis",role:"Social Media Manager",content:"I've tried every tool out there, but nothing compares to Lumina's ease of use and powerful features. The scheduling tool is intuitive and the analytics are deep yet easy to understand.",avatar:"/dr-emily.png",initials:"ED"}],tie=()=>h.jsx("section",{id:"testimonials",className:"py-24 bg-gray-50 dark:bg-gray-900/50 transition-colors duration-300",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx(me.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Loved by Businesses Worldwide"}),h.jsx(me.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Don't just take our word for it. Here's what our users have to say about their experience with Lumina."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:eie.map((t,e)=>h.jsx(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:e*.2},whileHover:{scale:1.05,y:-5,transition:{duration:.3}},children:h.jsxs(Id,{className:"h-full flex flex-col border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 hover:shadow-lg transition-shadow duration-300",children:[h.jsxs(Cd,{className:"pt-6 flex-grow",children:[h.jsx(one,{className:"w-10 h-10 text-indigo-500 mb-4 opacity-50"}),h.jsxs("p",{className:"text-gray-700 dark:text-gray-300 italic leading-relaxed",children:['"',t.content,'"']})]}),h.jsxs(x1,{className:"flex items-center gap-4 pt-4 border-t border-gray-100 dark:border-gray-800",children:[h.jsxs(G5,{children:[h.jsx(K5,{src:t.avatar,alt:t.name}),h.jsx(W5,{children:t.initials})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:t.name}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:t.role})]})]})]})},e))})]})}),nie=[{icon:Lte,title:"Connect Your Accounts",description:"Securely link your social media profiles (Instagram, Twitter, LinkedIn) with just one click."},{icon:Ym,title:"Set Your Preferences",description:"Define your brand voice, target audience, and posting schedule. Our AI adapts to your unique style."},{icon:k_,title:"Watch It Grow",description:"Sit back as Lumina generates high-quality content, schedules posts, and drives engagement automatically."}],rie=()=>h.jsx("section",{id:"how-it-works",className:"py-24 bg-white dark:bg-gray-950",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx(me.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"How Lumina Works"}),h.jsx(me.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Get started in minutes and let our AI handle the heavy lifting."})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"hidden md:block absolute top-12 left-[16%] right-[16%] h-0.5 bg-gray-200 dark:bg-gray-800 z-0",children:h.jsx(me.div,{initial:{width:"0%"},whileInView:{width:"100%"},viewport:{once:!0},transition:{duration:1.5,delay:.5,ease:"easeInOut"},className:"h-full bg-indigo-600 dark:bg-indigo-500"})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10",children:nie.map((t,e)=>h.jsxs(me.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.3},whileHover:{y:-10},className:"flex flex-col items-center text-center group cursor-pointer",children:[h.jsx(me.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{type:"spring",stiffness:260,damping:20,delay:.5+e*.2},whileHover:{rotate:[0,-10,10,-10,0]},className:"w-24 h-24 rounded-full bg-white dark:bg-gray-900 border-4 border-indigo-100 dark:border-indigo-900/30 flex items-center justify-center mb-6 shadow-lg relative z-10 transition-colors duration-300 group-hover:border-indigo-500 dark:group-hover:border-indigo-400",children:h.jsx(t.icon,{className:"w-10 h-10 text-indigo-600 dark:text-indigo-400 transition-colors duration-300 group-hover:text-indigo-500"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3",children:t.title}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed max-w-sm",children:t.description})]},e))})]})]})});function iie(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,sie(i,...e)]}function sie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function aie(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,oie(i,...e)]}function oie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Ck(t){const e=lie(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(uie);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function lie(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=hie(i),c=die(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cie=Symbol("radix.slottable");function uie(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cie}function die(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function hie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Y5(t){const e=t+"CollectionProvider",[n,r]=aie(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:I,children:R}=S,D=pe.useRef(null),j=pe.useRef(new Map).current;return h.jsx(i,{scope:I,itemMap:j,collectionRef:D,children:R})};l.displayName=e;const c=t+"CollectionSlot",d=Ck(c),f=pe.forwardRef((S,I)=>{const{scope:R,children:D}=S,j=a(c,R),z=Ft(I,j.collectionRef);return h.jsx(d,{ref:z,children:D})});f.displayName=c;const p=t+"CollectionItemSlot",g="data-radix-collection-item",b=Ck(p),_=pe.forwardRef((S,I)=>{const{scope:R,children:D,...j}=S,z=pe.useRef(null),$=Ft(I,z),Y=a(p,R);return pe.useEffect(()=>(Y.itemMap.set(z,{ref:z,...j}),()=>void Y.itemMap.delete(z))),h.jsx(b,{[g]:"",ref:$,children:D})});_.displayName=p;function T(S){const I=a(t+"CollectionConsumer",S);return pe.useCallback(()=>{const D=I.collectionRef.current;if(!D)return[];const j=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(I.itemMap.values()).sort((Y,k)=>j.indexOf(Y.ref.current)-j.indexOf(k.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:l,Slot:f,ItemSlot:_},T,r]}function Rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}var fie=G_[" useInsertionEffect ".trim().toString()]||Tn;function Ac({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,l]=mie({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:i;{const p=w.useRef(t!==void 0);w.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=w.useCallback(p=>{if(c){const g=pie(p)?p(t):p;g!==t&&l.current?.(g)}else a(p)},[c,t,a,l]);return[d,f]}function mie({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),i=w.useRef(n),a=w.useRef(e);return fie(()=>{a.current=e},[e]),w.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function pie(t){return typeof t=="function"}function gie(t){const e=yie(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(xie);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function yie(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=wie(i),c=bie(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var vie=Symbol("radix.slottable");function xie(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===vie}function bie(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function wie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var _ie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Q5=_ie.reduce((t,e)=>{const n=gie(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Eie(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Tie(i,...e)]}function Tie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Sie(t){const e=Aie(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(Iie);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Aie(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=Rie(i),c=Cie(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Nie=Symbol("radix.slottable");function Iie(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Nie}function Cie(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Rie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w1=kie.reduce((t,e)=>{const n=Sie(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function jie(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Qm=t=>{const{present:e,children:n}=t,r=Pie(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=Ft(r.ref,Die(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:a}):null};Qm.displayName="Presence";function Pie(t){const[e,n]=w.useState(),r=w.useRef(null),i=w.useRef(t),a=w.useRef("none"),l=t?"mounted":"unmounted",[c,d]=jie(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const f=Ug(r.current);a.current=c==="mounted"?f:"none"},[c]),Tn(()=>{const f=r.current,p=i.current;if(p!==t){const b=a.current,_=Ug(f);t?d("MOUNT"):_==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&b!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),Tn(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=_=>{const S=Ug(r.current).includes(CSS.escape(_.animationName));if(_.target===e&&S&&(d("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},b=_=>{_.target===e&&(a.current=Ug(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Ug(t){return t?.animationName||"none"}function Die(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Mie=G_[" useId ".trim().toString()]||(()=>{}),Oie=0;function Ho(t){const[e,n]=w.useState(Mie());return Tn(()=>{n(r=>r??String(Oie++))},[t]),e?`radix-${e}`:""}var ov="Collapsible",[Vie,X5]=Eie(ov),[Lie,_1]=Vie(ov),J5=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:l,...c}=t,[d,f]=Ac({prop:r,defaultProp:i??!1,onChange:l,caller:ov});return h.jsx(Lie,{scope:n,disabled:a,contentId:Ho(),open:d,onOpenToggle:w.useCallback(()=>f(p=>!p),[f]),children:h.jsx(w1.div,{"data-state":T1(d),"data-disabled":a?"":void 0,...c,ref:e})})});J5.displayName=ov;var Z5="CollapsibleTrigger",eL=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=_1(Z5,n);return h.jsx(w1.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":T1(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Rt(t.onClick,i.onOpenToggle)})});eL.displayName=Z5;var E1="CollapsibleContent",tL=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=_1(E1,t.__scopeCollapsible);return h.jsx(Qm,{present:n||i.open,children:({present:a})=>h.jsx(Uie,{...r,ref:e,present:a})})});tL.displayName=E1;var Uie=w.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,l=_1(E1,n),[c,d]=w.useState(r),f=w.useRef(null),p=Ft(e,f),g=w.useRef(0),b=g.current,_=w.useRef(0),T=_.current,S=l.open||c,I=w.useRef(S),R=w.useRef(void 0);return w.useEffect(()=>{const D=requestAnimationFrame(()=>I.current=!1);return()=>cancelAnimationFrame(D)},[]),Tn(()=>{const D=f.current;if(D){R.current=R.current||{transitionDuration:D.style.transitionDuration,animationName:D.style.animationName},D.style.transitionDuration="0s",D.style.animationName="none";const j=D.getBoundingClientRect();g.current=j.height,_.current=j.width,I.current||(D.style.transitionDuration=R.current.transitionDuration,D.style.animationName=R.current.animationName),d(r)}},[l.open,r]),h.jsx(w1.div,{"data-state":T1(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!S,...a,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...t.style},children:S&&i})});function T1(t){return t?"open":"closed"}var Bie=J5,Fie=eL,zie=tL,Hie=w.createContext(void 0);function nL(t){const e=w.useContext(Hie);return t||e||"ltr"}var hs="Accordion",$ie=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[S1,qie,Gie]=Y5(hs),[lv]=iie(hs,[Gie,X5]),A1=X5(),rL=pe.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,a=r;return h.jsx(S1.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?h.jsx(Qie,{...a,ref:e}):h.jsx(Yie,{...i,ref:e})})});rL.displayName=hs;var[iL,Kie]=lv(hs),[sL,Wie]=lv(hs,{collapsible:!1}),Yie=pe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...l}=t,[c,d]=Ac({prop:n,defaultProp:r??"",onChange:i,caller:hs});return h.jsx(iL,{scope:t.__scopeAccordion,value:pe.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:pe.useCallback(()=>a&&d(""),[a,d]),children:h.jsx(sL,{scope:t.__scopeAccordion,collapsible:a,children:h.jsx(aL,{...l,ref:e})})})}),Qie=pe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=t,[l,c]=Ac({prop:n,defaultProp:r??[],onChange:i,caller:hs}),d=pe.useCallback(p=>c((g=[])=>[...g,p]),[c]),f=pe.useCallback(p=>c((g=[])=>g.filter(b=>b!==p)),[c]);return h.jsx(iL,{scope:t.__scopeAccordion,value:l,onItemOpen:d,onItemClose:f,children:h.jsx(sL,{scope:t.__scopeAccordion,collapsible:!0,children:h.jsx(aL,{...a,ref:e})})})}),[Xie,cv]=lv(hs),aL=pe.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...l}=t,c=pe.useRef(null),d=Ft(c,e),f=qie(n),g=nL(i)==="ltr",b=Rt(t.onKeyDown,_=>{if(!$ie.includes(_.key))return;const T=_.target,S=f().filter(C=>!C.ref.current?.disabled),I=S.findIndex(C=>C.ref.current===T),R=S.length;if(I===-1)return;_.preventDefault();let D=I;const j=0,z=R-1,$=()=>{D=I+1,D>z&&(D=j)},Y=()=>{D=I-1,D<j&&(D=z)};switch(_.key){case"Home":D=j;break;case"End":D=z;break;case"ArrowRight":a==="horizontal"&&(g?$():Y());break;case"ArrowDown":a==="vertical"&&$();break;case"ArrowLeft":a==="horizontal"&&(g?Y():$());break;case"ArrowUp":a==="vertical"&&Y();break}const k=D%R;S[k].ref.current?.focus()});return h.jsx(Xie,{scope:n,disabled:r,direction:i,orientation:a,children:h.jsx(S1.Slot,{scope:n,children:h.jsx(Q5.div,{...l,"data-orientation":a,ref:d,onKeyDown:r?void 0:b})})})}),r0="AccordionItem",[Jie,N1]=lv(r0),oL=pe.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,a=cv(r0,n),l=Kie(r0,n),c=A1(n),d=Ho(),f=r&&l.value.includes(r)||!1,p=a.disabled||t.disabled;return h.jsx(Jie,{scope:n,open:f,disabled:p,triggerId:d,children:h.jsx(Bie,{"data-orientation":a.orientation,"data-state":fL(f),...c,...i,ref:e,disabled:p,open:f,onOpenChange:g=>{g?l.onItemOpen(r):l.onItemClose(r)}})})});oL.displayName=r0;var lL="AccordionHeader",cL=pe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=cv(hs,n),a=N1(lL,n);return h.jsx(Q5.h3,{"data-orientation":i.orientation,"data-state":fL(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});cL.displayName=lL;var D_="AccordionTrigger",uL=pe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=cv(hs,n),a=N1(D_,n),l=Wie(D_,n),c=A1(n);return h.jsx(S1.ItemSlot,{scope:n,children:h.jsx(Fie,{"aria-disabled":a.open&&!l.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...c,...r,ref:e})})});uL.displayName=D_;var dL="AccordionContent",hL=pe.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=cv(hs,n),a=N1(dL,n),l=A1(n);return h.jsx(zie,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...l,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});hL.displayName=dL;function fL(t){return t?"open":"closed"}var Zie=rL,ese=oL,tse=cL,mL=uL,pL=hL;const nse=Zie,gL=w.forwardRef(({className:t,...e},n)=>h.jsx(ese,{ref:n,className:Ze("border-b",t),...e}));gL.displayName="AccordionItem";const yL=w.forwardRef(({className:t,children:e,...n},r)=>h.jsx(tse,{className:"flex",children:h.jsxs(mL,{ref:r,className:Ze("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,h.jsx(h1,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));yL.displayName=mL.displayName;const vL=w.forwardRef(({className:t,children:e,...n},r)=>h.jsx(pL,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:h.jsx("div",{className:Ze("pb-4 pt-0",t),children:e})}));vL.displayName=pL.displayName;const rse=[{question:"Can I try Lumina for free?",answer:"Absolutely! We offer a 14-day free trial on all plans. No credit card required to start. You can explore all features and see if Lumina is the right fit for you."},{question:"Can I cancel my subscription anytime?",answer:"Yes, you can cancel your subscription at any time from your account settings. There are no long-term contracts or hidden fees. Your access will continue until the end of your billing cycle."},{question:"Do I need technical skills to use Lumina?",answer:"Not at all. Lumina is designed to be user-friendly and intuitive. Our drag-and-drop interface and AI assistants make it easy for anyone to create professional content and manage campaigns."},{question:"How does the AI know my brand voice?",answer:"During onboarding, you'll provide some examples of your past content and define your brand personality. Our AI analyzes this data to learn your unique tone and style, ensuring every post sounds like you."},{question:"What social media platforms do you support?",answer:"We currently support Instagram, Twitter (X), LinkedIn, Facebook, and Pinterest. We're constantly adding new integrations based on user feedback."}],ise=()=>h.jsx("section",{id:"faq",className:"py-24 bg-gray-50 dark:bg-gray-900/50 transition-colors duration-300",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-3xl",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx(me.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Frequently Asked Questions"}),h.jsx(me.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-xl text-gray-600 dark:text-gray-300",children:"Everything you need to know about Lumina."})]}),h.jsx(nse,{type:"single",collapsible:!0,className:"w-full space-y-4",children:rse.map((t,e)=>h.jsx(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:h.jsxs(gL,{value:`item-${e}`,className:"border border-gray-200 dark:border-gray-800 rounded-lg px-4 data-[state=open]:border-indigo-500 dark:data-[state=open]:border-indigo-500 data-[state=open]:bg-indigo-50/50 dark:data-[state=open]:bg-indigo-900/20 transition-all duration-300",children:[h.jsx(yL,{className:"text-left text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors hover:no-underline py-4",children:t.question}),h.jsx(vL,{className:"text-gray-600 dark:text-gray-300 pb-4",children:t.answer})]})},e))})]})}),Mr=w.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:Ze("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Mr.displayName="Input";const hi=()=>{const t=new Date().getFullYear();return h.jsx("footer",{className:"bg-gray-900 text-gray-300 pt-16 pb-24 md:py-16 border-t border-gray-800",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12",children:[h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:"/favicon.png",alt:"Lumina Logo",className:"w-full h-full object-cover"})}),h.jsx("span",{className:"text-2xl font-bold text-white",children:"Lumina"})]}),h.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:"Empowering creators and businesses with AI-driven content solutions. Scale your presence effortlessly."}),h.jsx("div",{className:"flex gap-4",children:[{icon:Sa,label:"Twitter"},{icon:Pte,label:"Instagram"},{icon:Sc,label:"LinkedIn"},{icon:o5,label:"Facebook"}].map((e,n)=>h.jsx(me.a,{href:"#",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},className:"text-gray-400 hover:text-white transition-colors","aria-label":e.label,children:h.jsx(e.icon,{className:"w-5 h-5"})},n))})]}),h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:[h.jsx("h4",{className:"text-white font-semibold mb-6",children:"Product"}),h.jsx("ul",{className:"space-y-4",children:["Features","Pricing","Testimonials","FAQ"].map(e=>h.jsx("li",{children:h.jsx(me.a,{href:`#${e.toLowerCase()}`,whileHover:{x:5},className:"inline-block text-gray-400 hover:text-indigo-400 transition-colors",children:e})},e))})]}),h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},children:[h.jsx("h4",{className:"text-white font-semibold mb-6",children:"Company"}),h.jsxs("ul",{className:"space-y-4",children:[h.jsx("li",{children:h.jsx(tt,{to:"/about",children:h.jsx(me.span,{whileHover:{x:5},className:"inline-block text-gray-400 hover:text-indigo-400 transition-colors cursor-pointer",children:"About Us"})})}),h.jsx("li",{children:h.jsx(tt,{to:"/blog",children:h.jsx(me.span,{whileHover:{x:5},className:"inline-block text-gray-400 hover:text-indigo-400 transition-colors cursor-pointer",children:"Blog"})})}),h.jsx("li",{children:h.jsx(tt,{to:"/careers",children:h.jsx(me.span,{whileHover:{x:5},className:"inline-block text-gray-400 hover:text-indigo-400 transition-colors cursor-pointer",children:"Careers"})})}),h.jsx("li",{children:h.jsx(tt,{to:"/contact",children:h.jsx(me.span,{whileHover:{x:5},className:"inline-block text-gray-400 hover:text-indigo-400 transition-colors cursor-pointer",children:"Contact"})})})]})]}),h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},children:[h.jsx("h4",{className:"text-white font-semibold mb-6",children:"Stay Updated"}),h.jsx("p",{className:"text-gray-400 mb-4 text-sm",children:"Subscribe to our newsletter for the latest AI trends and product updates."}),h.jsxs("form",{className:"space-y-3",onSubmit:e=>e.preventDefault(),children:[h.jsx(Mr,{type:"email",placeholder:"Enter your email",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500 focus-visible:ring-indigo-500 transition-all duration-300 focus:scale-[1.02] origin-left"}),h.jsx(Ye,{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white transition-transform duration-300 hover:scale-[1.02] active:scale-[0.98]",children:"Subscribe"})]})]})]}),h.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col-reverse md:flex-row justify-between items-center gap-6",children:[h.jsxs("p",{className:"text-gray-500 text-sm text-center md:text-left",children:[" ",t," Lumina. All rights reserved."]}),h.jsxs("div",{className:"flex flex-wrap justify-center md:justify-end gap-x-6 gap-y-3 text-sm text-gray-500 w-full md:w-auto",children:[h.jsx(tt,{to:"/privacy",className:"hover:text-white transition-colors whitespace-nowrap",children:"Privacy Policy"}),h.jsx(tt,{to:"/terms",className:"hover:text-white transition-colors whitespace-nowrap",children:"Terms of Service"}),h.jsx(tt,{to:"/cookies",className:"hover:text-white transition-colors whitespace-nowrap",children:"Cookie Policy"})]})]})]})})};function sse(){return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100",children:[h.jsx(Br,{}),h.jsx(Une,{onGetStarted:()=>{}}),h.jsx(kre,{}),h.jsx(rie,{}),h.jsx(tie,{}),h.jsx(zre,{}),h.jsx(ise,{}),h.jsx(hi,{})]})}const ase="modulepreload",ose=function(t){return"/lumina-saas/"+t},Rk={},xL=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(n.map(p=>{if(p=ose(p),p in Rk)return;Rk[p]=!0;const g=p.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":ase,g||(_.as="script"),_.crossOrigin="",_.href=p,d&&_.setAttribute("nonce",d),document.head.appendChild(_),g)return new Promise((T,S)=>{_.addEventListener("load",T),_.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},lse=async(t,e)=>{try{return(await Bm(ai(Pt,"projects"),{userId:t,...e,content:e.content||"Generated content placeholder...",status:"Completed",words:e.words||Math.floor(Math.random()*1e3)+200,createdAt:Zo()})).id}catch(n){throw console.error("Error adding project: ",n),n}},bL=async t=>{try{const e=Da(ai(Pt,"projects"),q0("userId","==",t));return(await Ma(e)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>{const l=i.createdAt?.seconds||0;return(a.createdAt?.seconds||0)-l})}catch(e){throw console.error("Error getting projects: ",e),e}},cse=async t=>{try{await Y0(or(Pt,"projects",t))}catch(e){throw console.error("Error deleting project: ",e),e}},use=async t=>{try{const e=or(Pt,"projects",t),n=await xL(()=>Promise.resolve().then(()=>LO),[]).then(r=>r.getDoc(e));return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting project: ",e),e}},kk=async(t,e)=>{try{const n=or(Pt,"projects",t);await xL(()=>Promise.resolve().then(()=>LO),void 0).then(r=>r.updateDoc(n,e))}catch(n){throw console.error("Error updating project: ",n),n}};function Nc({children:t}){const[e,n]=w.useState(!1),{logout:r}=$a(),i=Ua(),a=[{name:"Overview",href:"/dashboard",icon:c5},{name:"Projects",href:"/dashboard/projects",icon:Nte},{name:"Team",href:"/dashboard/team",icon:Aa},{name:"Reports",href:"/reports",icon:ote},{name:"Settings",href:"/dashboard/settings",icon:Ym},{name:"Help & Support",href:"/support",icon:R_}],l=()=>h.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800",children:[h.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:h.jsxs(tt,{to:"/",className:"flex items-center gap-3",children:[h.jsx("img",{src:j_,alt:"Lumina Logo",className:"h-8 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lumina"})]})}),h.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:a.map(c=>{const d=i.pathname===c.href;return h.jsxs(tt,{to:c.href,className:`flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${d?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white"}`,children:[h.jsx(c.icon,{size:20}),c.name]},c.name)})}),h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:h.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 py-2.5 rounded-lg transition-colors text-sm font-medium",children:[h.jsx(u5,{size:16}),"Sign Out"]})})]});return h.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-950 text-gray-900 dark:text-gray-100",children:[h.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 z-20 px-4 h-16 flex items-center justify-between",children:[h.jsxs(tt,{to:"/",className:"flex items-center gap-2",children:[h.jsx("img",{src:j_,alt:"Lumina Logo",className:"h-8 w-auto"}),h.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lumina"})]}),h.jsx(Br,{onMenuClick:()=>n(!e),isSidebarOpen:e})]}),h.jsx("aside",{className:"w-64 hidden md:flex flex-col",children:h.jsx(l,{})}),h.jsx("div",{className:`fixed inset-y-0 left-0 w-64 z-40 transform transition-transform duration-300 pt-16 ${e?"translate-x-0":"-translate-x-full"} md:hidden`,children:h.jsx(l,{})}),e&&h.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>n(!1)}),h.jsx("main",{className:"flex-1 overflow-y-auto pt-16",children:h.jsx("div",{className:"p-6 pb-24 md:p-8",children:t})})]})}function dse(){const{user:t}=$a(),e=[{title:"New Project",description:"Start generating content",icon:h5,color:"bg-indigo-500",href:"/dashboard/new"},{title:"My Drafts",description:"Continue recent work",icon:os,color:"bg-purple-500",href:"/dashboard/projects"},{title:"Analytics",description:"View performance",icon:C_,color:"bg-pink-500",href:"/reports"},{title:"Settings",description:"Manage preferences",icon:Ym,color:"bg-slate-500",href:"/dashboard/settings"}],[n,r]=w.useState([]);w.useEffect(()=>{(async()=>{if(t)try{const d=await bL(t.uid);r(d.slice(0,3))}catch(d){console.error("Failed to fetch recent projects",d)}})()},[t]);const i=[{label:"Words Generated",current:12500,limit:5e4,color:"bg-indigo-600"},{label:"Projects Created",current:8,limit:20,color:"bg-purple-600"}],a={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return h.jsx(Nc,{children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("header",{className:"mb-10",children:h.jsxs(me.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Good afternoon, ",t?.displayName?.split(" ")[0]||"User"," "]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Here's what's happening with your creative workspace today."})]})}),h.jsxs(me.div,{variants:a,initial:"hidden",animate:"show",className:"space-y-8",children:[h.jsxs("section",{children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(Xi,{className:"w-5 h-5 text-indigo-500"}),"Quick Actions"]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((c,d)=>h.jsx(me.div,{variants:l,children:h.jsxs(tt,{to:c.href,className:"group block p-6 bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 hover:border-indigo-500 dark:hover:border-indigo-500/50 hover:shadow-lg hover:shadow-indigo-500/10 transition-all duration-300 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Xd,{className:"w-5 h-5 text-gray-400 group-hover:text-indigo-500 -translate-x-2 group-hover:translate-x-0 transition-transform"})}),h.jsx("div",{className:`w-12 h-12 ${c.color} rounded-xl flex items-center justify-center text-white mb-4 shadow-lg shadow-indigo-500/20 group-hover:scale-110 transition-transform duration-300`,children:h.jsx(c.icon,{className:"w-6 h-6"})}),h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:c.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.description})]})},d))})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("section",{className:"lg:col-span-2",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(um,{className:"w-5 h-5 text-indigo-500"}),"Recent Activity"]}),h.jsx(tt,{to:"/dashboard/projects",className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline",children:"View all"})]}),h.jsx(me.div,{variants:l,className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:h.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:n.length===0?h.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No recent activity. Start a new project!"}):n.map(c=>h.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors flex items-center justify-between group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(os,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:c.title}),h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:[c.platform," "," ",c.createdAt?.seconds?new Date(c.createdAt.seconds*1e3).toLocaleDateString():"Just now"]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${c.status==="Completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":c.status==="In Progress"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:c.status}),h.jsx(tt,{to:`/dashboard/projects/${c.id}`,children:h.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(Ete,{className:"w-4 h-4"})})})]})]},c.id))})})]}),h.jsxs("section",{children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[h.jsx(C_,{className:"w-5 h-5 text-indigo-500"}),"Usage Overview"]}),h.jsxs(me.div,{variants:l,className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 space-y-6",children:[i.map((c,d)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:c.label}),h.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[c.current.toLocaleString()," /"," ",c.limit.toLocaleString()]})]}),h.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:h.jsx(me.div,{initial:{width:0},animate:{width:`${c.current/c.limit*100}%`},transition:{duration:1,delay:.5},className:`h-full ${c.color} rounded-full`})})]},d)),h.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-800",children:h.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl p-4 text-white text-center",children:[h.jsx("p",{className:"font-medium mb-1",children:"Upgrade to Pro"}),h.jsx("p",{className:"text-xs text-indigo-100 mb-3",children:"Unlock unlimited generation and advanced features."}),h.jsx(tt,{to:"/dashboard/settings",className:"block w-full py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg text-sm font-medium transition-colors",children:"View Plans"})]})})]})]})]})]})]})})}function hse(){const{user:t}=$a(),{theme:e,setTheme:n}=bV(),[r,i]=w.useState(t?.displayName||""),[a,l]=w.useState(!1),[c,d]=w.useState(!1),[f,p]=w.useState(null);w.useEffect(()=>{if(t?.uid){const Ve=rm(or(Pt,"users",t.uid),et=>{if(et.exists()){const hn=et.data();hn.photoURL&&p(hn.photoURL)}});return()=>Ve()}},[t]);const g=async Ve=>{const et=Ve.target.files?.[0];if(!(!et||!t)){if(et.size>5*1024*1024){_({type:"error",text:"Image must be less than 5MB"});return}d(!0);try{const hn=mi=>new Promise((Sn,xr)=>{const sn=new FileReader;sn.readAsDataURL(mi),sn.onload=Hr=>{const qn=new Image;qn.src=Hr.target?.result,qn.onload=()=>{const br=document.createElement("canvas");let An=qn.width,dr=qn.height;const Mn=500;An>dr?An>Mn&&(dr*=Mn/An,An=Mn):dr>Mn&&(An*=Mn/dr,dr=Mn),br.width=An,br.height=dr,br.getContext("2d")?.drawImage(qn,0,0,An,dr);const $r=br.toDataURL("image/jpeg",.7);Sn($r)},qn.onerror=br=>xr(br)},sn.onerror=Hr=>xr(Hr)});console.log("Compressing image...");const Le=await hn(et);if(console.log("Image compressed, length:",Le.length),Le.length>1048487)throw new Error("Image is too large even after compression.");console.log("Saving to Firestore...");const Xt=or(Pt,"users",t.uid);await s_(Xt,{photoURL:Le}),_({type:"success",text:"Profile picture updated!"}),window.location.reload()}catch(hn){console.error("Error uploading image:",hn),_({type:"error",text:"Failed to upload image. Please try a smaller file."})}finally{d(!1)}}},[b,_]=w.useState(null),[T,S]=w.useState(""),[I,R]=w.useState("UTC"),[D,j]=w.useState("en"),[z,$]=w.useState(!0),[Y,k]=w.useState(!1),[C,O]=w.useState(!0),[U,L]=w.useState(!0),[H,V]=w.useState(!0),[Ee,ke]=w.useState(!1),[G,te]=w.useState(""),[W,be]=w.useState(""),[Te,F]=w.useState(""),[ae,se]=w.useState(!1),[ue,ge]=w.useState(null),[Se,he]=w.useState(!1),[we,De]=w.useState(!1),[He,$e]=w.useState(null),Qe=t?.providerData.some(Ve=>Ve.providerId==="google.com");w.useEffect(()=>{(async()=>{if(t?.uid)try{const et=or(Pt,"users",t.uid),hn=await nm(et);if(hn.exists()){const Le=hn.data();Le.phoneNumber&&S(Le.phoneNumber),Le.timeZone&&R(Le.timeZone),Le.language&&j(Le.language),Le.emailProductUpdates!==void 0&&$(Le.emailProductUpdates),Le.emailMarketing!==void 0&&k(Le.emailMarketing),Le.emailBilling!==void 0&&O(Le.emailBilling),Le.pushNewComments!==void 0&&L(Le.pushNewComments),Le.pushProjectInvites!==void 0&&V(Le.pushProjectInvites)}}catch(et){console.error("Error fetching user data:",et)}})()},[t]);const Qt=async Ve=>{if(Ve.preventDefault(),!!gr.currentUser){l(!0),_(null);try{await CP(gr.currentUser,{displayName:r});const et=or(Pt,"users",gr.currentUser.uid);await s_(et,{displayName:r,phoneNumber:T,timeZone:I,language:D,emailProductUpdates:z,emailMarketing:Y,emailBilling:C,pushNewComments:U,pushProjectInvites:H}),_({type:"success",text:"Profile updated successfully!"})}catch(et){console.error("Error updating profile:",et),_({type:"error",text:"Failed to update profile."})}finally{l(!1)}}},zt=async Ve=>{if(Ve.preventDefault(),!!gr.currentUser){if(W!==Te){ge({type:"error",text:"Passwords do not match."});return}if(W.length<6){ge({type:"error",text:"Password must be at least 6 characters."});return}se(!0),ge(null);try{await Tz(gr.currentUser,W),ge({type:"success",text:"Password updated successfully!"}),be(""),F("")}catch(et){console.error("Error updating password:",et),et.code==="auth/requires-recent-login"?ge({type:"error",text:"Please log out and log back in to change your password."}):ge({type:"error",text:et.message||"Failed to update password."})}finally{se(!1)}}},zr=async()=>{if(gr.currentUser){De(!0),$e(null);try{await Y0(or(Pt,"users",gr.currentUser.uid)),await Rz(gr.currentUser)}catch(Ve){console.error("Error deleting account:",Ve),Ve.code==="auth/requires-recent-login"?$e("Security check: Please log out and log back in to delete your account."):$e("Failed to delete account. Please try again or contact support.")}finally{De(!1)}}};return h.jsxs(Nc,{children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8",children:"Settings"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-sm",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"w-20 h-20 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center text-3xl font-bold text-indigo-600 dark:text-indigo-400 overflow-hidden",children:h.jsx("img",{src:f||t?.photoURL||x5,alt:"Profile",className:"w-full h-full object-cover"})}),h.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 rounded-full cursor-pointer transition-opacity",children:[h.jsx("span",{className:"text-xs font-medium",children:"Change"}),h.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g,disabled:c})]}),c&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:h.jsx(di,{className:"w-6 h-6 text-white animate-spin"})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:t?.displayName||"User"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?.email})]})]})}),h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Appearance"}),h.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{mode:"light",icon:m5,label:"Light"},{mode:"dark",icon:d5,label:"Dark"},{mode:"system",icon:Mte,label:"System"}].map(({mode:Ve,icon:et,label:hn})=>h.jsxs("button",{onClick:()=>n(Ve),className:`p-3 rounded-lg flex flex-col items-center gap-2 transition-all ${e===Ve?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 shadow-sm ring-2 ring-indigo-500/20":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[h.jsx(et,{size:20}),h.jsx("span",{className:"text-xs",children:hn})]},Ve))})]})]}),h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 shadow-sm",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Profile Information"}),h.jsxs("form",{onSubmit:Qt,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Display Name"}),h.jsx("input",{type:"text",value:r,onChange:Ve=>i(Ve.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none placeholder:text-gray-500 dark:placeholder:text-gray-500"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),h.jsx("input",{type:"tel",value:T,onChange:Ve=>S(Ve.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none",placeholder:"+1 (555) 000-0000"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Time Zone"}),h.jsxs("select",{value:I,onChange:Ve=>R(Ve.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none",children:[h.jsx("option",{value:"PST",children:"PST (Pacific Standard Time)"}),h.jsx("option",{value:"EST",children:"EST (Eastern Standard Time)"}),h.jsx("option",{value:"GMT",children:"GMT (Greenwich Mean Time)"}),h.jsx("option",{value:"CET",children:"CET (Central European Time)"}),h.jsx("option",{value:"WAT",children:"WAT (West Africa Time)"}),h.jsx("option",{value:"IST",children:"IST (India Standard Time)"})]})]})]}),h.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2.5 rounded-xl font-medium transition-colors disabled:opacity-70",children:[a?h.jsx(di,{className:"animate-spin",size:18}):h.jsx(g1,{size:18}),a?"Saving...":"Save Changes"]}),b&&h.jsx("p",{className:`text-sm ${b.type==="success"?"text-green-600":"text-red-600"}`,children:b.text})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 shadow-sm",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Notifications"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:z,onChange:Ve=>$(Ve.target.checked),className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Product Updates"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:Y,onChange:Ve=>k(Ve.target.checked),className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Marketing & Newsletter"})]}),h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:C,onChange:Ve=>O(Ve.target.checked),className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Billing Reminders"})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 shadow-sm",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Billing & Subscription"}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-xl border border-indigo-100 dark:border-indigo-900/30 mb-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-indigo-900 dark:text-indigo-300",children:"Current Plan"}),h.jsx("h3",{className:"text-xl font-bold text-indigo-700 dark:text-indigo-400",children:"Pro Plan"}),h.jsx("p",{className:"text-xs text-indigo-600 dark:text-indigo-400/80 mt-1",children:"$29/month  Renews on Dec 15, 2025"})]}),h.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition-colors",children:"Upgrade"})]}),h.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[h.jsx(os,{size:16,className:"text-gray-500 dark:text-gray-400"}),"Invoice History"]}),h.jsx("div",{className:"overflow-hidden border border-gray-200 dark:border-gray-700 rounded-lg",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Amount"}),h.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Receipt"})]})}),h.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:[1,2,3].map((Ve,et)=>h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:"Nov 15, 2025"}),h.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:"$29.00"}),h.jsx("td",{className:"px-4 py-3 text-sm text-right",children:h.jsxs("button",{className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-900 dark:hover:text-indigo-300 flex items-center justify-end gap-1 w-full",children:[h.jsx(Km,{size:14})," PDF"]})})]},et))})]})}),h.jsx("div",{className:"mt-6",children:h.jsx("button",{onClick:()=>ke(!0),className:"text-sm text-red-600 dark:text-red-400 font-medium hover:text-red-700 dark:hover:text-red-300",children:"Cancel Subscription"})})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 shadow-sm",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Account Security"}),Qe?h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 p-4 rounded-lg text-sm",children:"You are signed in with Google. Please manage your password and security settings in your Google Account."}):h.jsxs("form",{onSubmit:zt,className:"space-y-4 max-w-md",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),h.jsx("input",{type:"password",value:W,onChange:Ve=>be(Ve.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none",placeholder:""})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),h.jsx("input",{type:"password",value:Te,onChange:Ve=>F(Ve.target.value),className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none",placeholder:""})]}),ue&&h.jsx("div",{className:`text-sm ${ue.type==="success"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:ue.text}),h.jsx("button",{type:"submit",disabled:ae,className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",children:ae?"Updating...":"Update Password"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden shadow-sm",children:[h.jsx("div",{className:"p-8 border-b border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"flex items-center gap-3 text-red-600 dark:text-red-400",children:[h.jsx(Ine,{size:20}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Danger Zone"})]})}),h.jsxs("div",{className:"p-8",children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 text-sm",children:"Permanently delete your account and all of your content. This action cannot be undone."}),h.jsx("button",{onClick:()=>he(!0),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-colors",children:"Delete Account"}),Se&&h.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-200 dark:border-red-900 animate-in fade-in slide-in-from-top-2",children:[h.jsx("h4",{className:"text-sm font-bold text-red-900 dark:text-red-400 mb-2",children:"Are you absolutely sure?"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"This action cannot be undone. This will permanently delete your account and remove your data from our servers."}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:zr,disabled:we,className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:we?"Deleting...":"Yes, delete my account"}),h.jsx("button",{onClick:()=>he(!1),disabled:we,className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]}),He&&h.jsx("p",{className:"text-xs text-red-600 mt-3",children:He})]})]})]})]})]})]}),Ee&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full p-6 shadow-xl animate-in fade-in zoom-in-95 border border-gray-100 dark:border-gray-800",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Cancel Subscription?"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"We're sorry to see you go. If you cancel, you'll lose access to Pro features at the end of your billing period."}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Why are you leaving? (Optional)"}),h.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white transition-colors",rows:3,placeholder:"Tell us how we can improve...",value:G,onChange:Ve=>te(Ve.target.value)})]}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx("button",{onClick:()=>ke(!1),className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Keep Subscription"}),h.jsx("button",{onClick:()=>{ke(!1),alert("Subscription cancellation requested.")},className:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Confirm Cancellation"})]})]})})]})}var jk;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(jk||(jk={}));var Pk;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Pk||(Pk={}));var Dk;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Dk||(Dk={}));const Mk=["user","model","function","system"];var Ok;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ok||(Ok={}));var Vk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Vk||(Vk={}));var Lk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Lk||(Lk={}));var Uk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Uk||(Uk={}));var Uf;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Uf||(Uf={}));var Bk;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Bk||(Bk={}));var Fk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Fk||(Fk={}));var zk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zk||(zk={}));class lr extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Mu extends lr{constructor(e,n){super(e),this.response=n}}class wL extends lr{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class $o extends lr{}class _L extends lr{}const fse="https://generativelanguage.googleapis.com",mse="v1beta",pse="0.24.1",gse="genai-js";var Ic;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ic||(Ic={}));class yse{constructor(e,n,r,i,a){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||mse;let a=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||fse}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function vse(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${gse}/${pse}`),e.join(" ")}async function xse(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",vse(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new $o(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new $o(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new $o(`Header name ${i} can only be set using the apiClient field`);n.append(i,a)}}return n}async function bse(t,e,n,r,i,a){const l=new yse(t,e,n,r,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},Tse(a)),{method:"POST",headers:await xse(l),body:i})}}async function Xm(t,e,n,r,i,a={},l=fetch){const{url:c,fetchOptions:d}=await bse(t,e,n,r,i,a);return wse(c,d,l)}async function wse(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){_se(i,t)}return r.ok||await Ese(r,t),r}function _se(t,e){let n=t;throw n.name==="AbortError"?(n=new _L(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof wL||t instanceof $o||(n=new lr(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Ese(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new wL(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Tse(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const n=new AbortController;t?.timeout>=0&&setTimeout(()=>n.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function I1(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),py(t.candidates[0]))throw new Mu(`${ko(t)}`,t);return Sse(t)}else if(t.promptFeedback)throw new Mu(`Text not available. ${ko(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),py(t.candidates[0]))throw new Mu(`${ko(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Hk(t)[0]}else if(t.promptFeedback)throw new Mu(`Function call not available. ${ko(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),py(t.candidates[0]))throw new Mu(`${ko(t)}`,t);return Hk(t)}else if(t.promptFeedback)throw new Mu(`Function call not available. ${ko(t)}`,t)},t}function Sse(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function Hk(t){var e,n,r,i;const a=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const l of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const Ase=[Uf.RECITATION,Uf.SAFETY,Uf.LANGUAGE];function py(t){return!!t.finishReason&&Ase.includes(t.finishReason)}function ko(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const a=t.candidates[0];py(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function fm(t){return this instanceof fm?(this.v=t,this):new fm(t)}function Nse(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(b){r[b]&&(i[b]=function(_){return new Promise(function(T,S){a.push([b,_,T,S])>1||c(b,_)})})}function c(b,_){try{d(r[b](_))}catch(T){g(a[0][3],T)}}function d(b){b.value instanceof fm?Promise.resolve(b.value.v).then(f,p):g(a[0][2],b)}function f(b){c("next",b)}function p(b){c("throw",b)}function g(b,_){b(_),a.shift(),a.length&&c(a[0][0],a[0][1])}}const $k=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Ise(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=kse(e),[r,i]=n.tee();return{stream:Rse(r),response:Cse(i)}}async function Cse(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return I1(jse(e));e.push(i)}}function Rse(t){return Nse(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield fm(n.read());if(i)break;yield yield fm(I1(r))}})}function kse(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return e.read().then(({value:l,done:c})=>{if(c){if(i.trim()){r.error(new lr("Failed to parse stream"));return}r.close();return}i+=l;let d=i.match($k),f;for(;d;){try{f=JSON.parse(d[1])}catch{r.error(new lr(`Error parsing JSON response: "${d[1]}"`));return}r.enqueue(f),i=i.substring(d[0].length),d=i.match($k)}return a()}).catch(l=>{let c=l;throw c.stack=l.stack,c.name==="AbortError"?c=new _L("Request aborted when reading from the stream"):c=new lr("Error reading from the stream"),c})}}})}function jse(t){const e=t[t.length-1],n={promptFeedback:e?.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const a of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=a.citationMetadata,n.candidates[i].groundingMetadata=a.groundingMetadata,n.candidates[i].finishReason=a.finishReason,n.candidates[i].finishMessage=a.finishMessage,n.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){n.candidates[i].content||(n.candidates[i].content={role:a.content.role||"user",parts:[]});const l={};for(const c of a.content.parts)c.text&&(l.text=c.text),c.functionCall&&(l.functionCall=c.functionCall),c.executableCode&&(l.executableCode=c.executableCode),c.codeExecutionResult&&(l.codeExecutionResult=c.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[i].content.parts.push(l)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function EL(t,e,n,r){const i=await Xm(e,Ic.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Ise(i)}async function TL(t,e,n,r){const a=await(await Xm(e,Ic.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:I1(a)}}function SL(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function mm(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Pse(e)}function Pse(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const a of t)"functionResponse"in a?(n.parts.push(a),i=!0):(e.parts.push(a),r=!0);if(r&&i)throw new lr("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new lr("No content is provided for sending chat message.");return r?e:n}function Dse(t,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new $o("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const a=mm(t);r.contents=[a]}return{generateContentRequest:r}}function qk(t){let e;return t.contents?e=t:e={contents:[mm(t)]},t.systemInstruction&&(e.systemInstruction=SL(t.systemInstruction)),e}function Mse(t){return typeof t=="string"||Array.isArray(t)?{content:mm(t)}:t}const Gk=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ose={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Vse(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new lr(`First content should be with role 'user', got ${r}`);if(!Mk.includes(r))throw new lr(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Mk)}`);if(!Array.isArray(i))throw new lr("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new lr("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const c of i)for(const d of Gk)d in c&&(a[d]+=1);const l=Ose[r];for(const c of Gk)if(!l.includes(c)&&a[c]>0)throw new lr(`Content with role '${r}' can't contain '${c}' part`);e=!0}}function Kk(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const Wk="SILENT_ERROR";class Lse{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(Vse(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,a,l,c,d;await this._sendPromise;const f=mm(e),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,f]},g=Object.assign(Object.assign({},this._requestOptions),n);let b;return this._sendPromise=this._sendPromise.then(()=>TL(this._apiKey,this.model,p,g)).then(_=>{var T;if(Kk(_.response)){this._history.push(f);const S=Object.assign({parts:[],role:"model"},(T=_.response.candidates)===null||T===void 0?void 0:T[0].content);this._history.push(S)}else{const S=ko(_.response);S&&console.warn(`sendMessage() was unsuccessful. ${S}. Inspect response object for details.`)}b=_}).catch(_=>{throw this._sendPromise=Promise.resolve(),_}),await this._sendPromise,b}async sendMessageStream(e,n={}){var r,i,a,l,c,d;await this._sendPromise;const f=mm(e),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,f]},g=Object.assign(Object.assign({},this._requestOptions),n),b=EL(this._apiKey,this.model,p,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(_=>{throw new Error(Wk)}).then(_=>_.response).then(_=>{if(Kk(_)){this._history.push(f);const T=Object.assign({},_.candidates[0].content);T.role||(T.role="model"),this._history.push(T)}else{const T=ko(_);T&&console.warn(`sendMessageStream() was unsuccessful. ${T}. Inspect response object for details.`)}}).catch(_=>{_.message!==Wk&&console.error(_)}),b}}async function Use(t,e,n,r){return(await Xm(e,Ic.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}async function Bse(t,e,n,r){return(await Xm(e,Ic.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Fse(t,e,n,r){const i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:e}));return(await Xm(e,Ic.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}class Yk{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=SL(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=qk(e),a=Object.assign(Object.assign({},this._requestOptions),n);return TL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(e,n={}){var r;const i=qk(e),a=Object.assign(Object.assign({},this._requestOptions),n);return EL(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(e){var n;return new Lse(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Dse(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return Use(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=Mse(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Bse(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Fse(this.apiKey,this.model,e,r)}}class zse{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new lr("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Yk(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new $o("Cached content must contain a `name` field.");if(!e.model)throw new $o("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const l of i)if(n?.[l]&&e[l]&&n?.[l]!==e[l]){if(l==="model"){const c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(c===d)continue}throw new $o(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${e[l]})`)}const a=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Yk(this.apiKey,a,r)}}const Hse=new zse("AIzaSyBx6GIqqDKTVVnrC-d0iWMFpb-5-SSNqQ8"),$se=async(t,e,n)=>{try{const r=Hse.getGenerativeModel({model:"gemini-pro"}),i=`
      You are an expert content creator. Write a ${e} about "${t}".
      
      Tone: ${n}
      
      Requirements:
      - If it's a Twitter Thread, separate tweets with "---".
      - If it's a LinkedIn Post, use professional formatting and hashtags.
      - If it's a Blog Post, include a catchy title and clear headings.
      - If it's an Email, include a subject line.
      
      Make it engaging, high-quality, and ready to post.
    `;return(await(await r.generateContent(i)).response).text()}catch(r){throw console.error("Error generating content:",r),new Error("Failed to generate content. Please check your API key or try again.")}};function qse(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Gse=t=>{switch(t){case"success":return Yse;case"info":return Xse;case"warning":return Qse;case"error":return Jse;default:return null}},Kse=Array(12).fill(0),Wse=({visible:t,className:e})=>pe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},pe.createElement("div",{className:"sonner-spinner"},Kse.map((n,r)=>pe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Yse=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qse=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xse=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jse=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},pe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Zse=pe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},pe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),pe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eae=()=>{const[t,e]=pe.useState(document.hidden);return pe.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let M_=1;class tae{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:M_++,l=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const c=i.then(async f=>{if(l=["resolve",f],pe.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(rae(f)&&!f.ok){a=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,T=typeof g=="object"&&!pe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...T})}else if(f instanceof Error){a=!1;const g=typeof n.error=="function"?await n.error(f):n.error,b=typeof n.description=="function"?await n.description(f):n.description,T=typeof g=="object"&&!pe.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:b,...T})}else if(n.success!==void 0){a=!1;const g=typeof n.success=="function"?await n.success(f):n.success,b=typeof n.description=="function"?await n.description(f):n.description,T=typeof g=="object"&&!pe.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:b,...T})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){a=!1;const p=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description,_=typeof p=="object"&&!pe.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,..._})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{const r=n?.id||M_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ir=new tae,nae=(t,e)=>{const n=e?.id||M_++;return Ir.addToast({title:t,...e,id:n}),n},rae=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iae=nae,sae=()=>Ir.toasts,aae=()=>Ir.getActiveToasts(),Ut=Object.assign(iae,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:sae,getToasts:aae});qse("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Bg(t){return t.label!==void 0}const oae=3,lae="24px",cae="16px",Qk=4e3,uae=356,dae=14,hae=45,fae=200;function Ps(...t){return t.filter(Boolean).join(" ")}function mae(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const pae=t=>{var e,n,r,i,a,l,c,d,f;const{invert:p,toast:g,unstyled:b,interacting:_,setHeights:T,visibleToasts:S,heights:I,index:R,toasts:D,expanded:j,removeToast:z,defaultRichColors:$,closeButton:Y,style:k,cancelButtonStyle:C,actionButtonStyle:O,className:U="",descriptionClassName:L="",duration:H,position:V,gap:Ee,expandByDefault:ke,classNames:G,icons:te,closeButtonAriaLabel:W="Close toast"}=t,[be,Te]=pe.useState(null),[F,ae]=pe.useState(null),[se,ue]=pe.useState(!1),[ge,Se]=pe.useState(!1),[he,we]=pe.useState(!1),[De,He]=pe.useState(!1),[$e,Qe]=pe.useState(!1),[Qt,zt]=pe.useState(0),[zr,Ve]=pe.useState(0),et=pe.useRef(g.duration||H||Qk),hn=pe.useRef(null),Le=pe.useRef(null),Xt=R===0,mi=R+1<=S,Sn=g.type,xr=g.dismissible!==!1,sn=g.className||"",Hr=g.descriptionClassName||"",qn=pe.useMemo(()=>I.findIndex(Oe=>Oe.toastId===g.id)||0,[I,g.id]),br=pe.useMemo(()=>{var Oe;return(Oe=g.closeButton)!=null?Oe:Y},[g.closeButton,Y]),An=pe.useMemo(()=>g.duration||H||Qk,[g.duration,H]),dr=pe.useRef(0),Mn=pe.useRef(0),qa=pe.useRef(0),$r=pe.useRef(null),[qr,Nn]=V.split("-"),hr=pe.useMemo(()=>I.reduce((Oe,yt,fn)=>fn>=qn?Oe:Oe+yt.height,0),[I,qn]),Ht=eae(),Fc=g.invert||p,ms=Sn==="loading";Mn.current=pe.useMemo(()=>qn*Ee+hr,[qn,hr]),pe.useEffect(()=>{et.current=An},[An]),pe.useEffect(()=>{ue(!0)},[]),pe.useEffect(()=>{const Oe=Le.current;if(Oe){const yt=Oe.getBoundingClientRect().height;return Ve(yt),T(fn=>[{toastId:g.id,height:yt,position:g.position},...fn]),()=>T(fn=>fn.filter(On=>On.toastId!==g.id))}},[T,g.id]),pe.useLayoutEffect(()=>{if(!se)return;const Oe=Le.current,yt=Oe.style.height;Oe.style.height="auto";const fn=Oe.getBoundingClientRect().height;Oe.style.height=yt,Ve(fn),T(On=>On.find(Mt=>Mt.toastId===g.id)?On.map(Mt=>Mt.toastId===g.id?{...Mt,height:fn}:Mt):[{toastId:g.id,height:fn,position:g.position},...On])},[se,g.title,g.description,T,g.id,g.jsx,g.action,g.cancel]);const Gr=pe.useCallback(()=>{Se(!0),zt(Mn.current),T(Oe=>Oe.filter(yt=>yt.toastId!==g.id)),setTimeout(()=>{z(g)},fae)},[g,z,T,Mn]);pe.useEffect(()=>{if(g.promise&&Sn==="loading"||g.duration===1/0||g.type==="loading")return;let Oe;return j||_||Ht?(()=>{if(qa.current<dr.current){const On=new Date().getTime()-dr.current;et.current=et.current-On}qa.current=new Date().getTime()})():(()=>{et.current!==1/0&&(dr.current=new Date().getTime(),Oe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Gr()},et.current))})(),()=>clearTimeout(Oe)},[j,_,g,Sn,Ht,Gr]),pe.useEffect(()=>{g.delete&&(Gr(),g.onDismiss==null||g.onDismiss.call(g,g))},[Gr,g.delete]);function pi(){var Oe;if(te?.loading){var yt;return pe.createElement("div",{className:Ps(G?.loader,g==null||(yt=g.classNames)==null?void 0:yt.loader,"sonner-loader"),"data-visible":Sn==="loading"},te.loading)}return pe.createElement(Wse,{className:Ps(G?.loader,g==null||(Oe=g.classNames)==null?void 0:Oe.loader),visible:Sn==="loading"})}const ea=g.icon||te?.[Sn]||Gse(Sn);var Jt,Kr;return pe.createElement("li",{tabIndex:0,ref:Le,className:Ps(U,sn,G?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,G?.default,G?.[Sn],g==null||(n=g.classNames)==null?void 0:n[Sn]),"data-sonner-toast":"","data-rich-colors":(Jt=g.richColors)!=null?Jt:$,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":se,"data-promise":!!g.promise,"data-swiped":$e,"data-removed":ge,"data-visible":mi,"data-y-position":qr,"data-x-position":Nn,"data-index":R,"data-front":Xt,"data-swiping":he,"data-dismissible":xr,"data-type":Sn,"data-invert":Fc,"data-swipe-out":De,"data-swipe-direction":F,"data-expanded":!!(j||ke&&se),"data-testid":g.testId,style:{"--index":R,"--toasts-before":R,"--z-index":D.length-R,"--offset":`${ge?Qt:Mn.current}px`,"--initial-height":ke?"auto":`${zr}px`,...k,...g.style},onDragEnd:()=>{we(!1),Te(null),$r.current=null},onPointerDown:Oe=>{Oe.button!==2&&(ms||!xr||(hn.current=new Date,zt(Mn.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(we(!0),$r.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,yt,fn;if(De||!xr)return;$r.current=null;const On=Number(((Oe=Le.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fr=Number(((yt=Le.current)==null?void 0:yt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mt=new Date().getTime()-((fn=hn.current)==null?void 0:fn.getTime()),rr=be==="x"?On:fr,gi=Math.abs(rr)/Mt;if(Math.abs(rr)>=hae||gi>.11){zt(Mn.current),g.onDismiss==null||g.onDismiss.call(g,g),ae(be==="x"?On>0?"right":"left":fr>0?"down":"up"),Gr(),He(!0);return}else{var Gn,Kn;(Gn=Le.current)==null||Gn.style.setProperty("--swipe-amount-x","0px"),(Kn=Le.current)==null||Kn.style.setProperty("--swipe-amount-y","0px")}Qe(!1),we(!1),Te(null)},onPointerMove:Oe=>{var yt,fn,On;if(!$r.current||!xr||((yt=window.getSelection())==null?void 0:yt.toString().length)>0)return;const Mt=Oe.clientY-$r.current.y,rr=Oe.clientX-$r.current.x;var gi;const Gn=(gi=t.swipeDirections)!=null?gi:mae(V);!be&&(Math.abs(rr)>1||Math.abs(Mt)>1)&&Te(Math.abs(rr)>Math.abs(Mt)?"x":"y");let Kn={x:0,y:0};const ps=Wn=>1/(1.5+Math.abs(Wn)/20);if(be==="y"){if(Gn.includes("top")||Gn.includes("bottom"))if(Gn.includes("top")&&Mt<0||Gn.includes("bottom")&&Mt>0)Kn.y=Mt;else{const Wn=Mt*ps(Mt);Kn.y=Math.abs(Wn)<Math.abs(Mt)?Wn:Mt}}else if(be==="x"&&(Gn.includes("left")||Gn.includes("right")))if(Gn.includes("left")&&rr<0||Gn.includes("right")&&rr>0)Kn.x=rr;else{const Wn=rr*ps(rr);Kn.x=Math.abs(Wn)<Math.abs(rr)?Wn:rr}(Math.abs(Kn.x)>0||Math.abs(Kn.y)>0)&&Qe(!0),(fn=Le.current)==null||fn.style.setProperty("--swipe-amount-x",`${Kn.x}px`),(On=Le.current)==null||On.style.setProperty("--swipe-amount-y",`${Kn.y}px`)}},br&&!g.jsx&&Sn!=="loading"?pe.createElement("button",{"aria-label":W,"data-disabled":ms,"data-close-button":!0,onClick:ms||!xr?()=>{}:()=>{Gr(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Ps(G?.closeButton,g==null||(r=g.classNames)==null?void 0:r.closeButton)},(Kr=te?.close)!=null?Kr:Zse):null,(Sn||g.icon||g.promise)&&g.icon!==null&&(te?.[Sn]!==null||g.icon)?pe.createElement("div",{"data-icon":"",className:Ps(G?.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||pi():null,g.type!=="loading"?ea:null):null,pe.createElement("div",{"data-content":"",className:Ps(G?.content,g==null||(a=g.classNames)==null?void 0:a.content)},pe.createElement("div",{"data-title":"",className:Ps(G?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?pe.createElement("div",{"data-description":"",className:Ps(L,Hr,G?.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),pe.isValidElement(g.cancel)?g.cancel:g.cancel&&Bg(g.cancel)?pe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||C,onClick:Oe=>{Bg(g.cancel)&&xr&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Oe),Gr())},className:Ps(G?.cancelButton,g==null||(d=g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,pe.isValidElement(g.action)?g.action:g.action&&Bg(g.action)?pe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:Oe=>{Bg(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Oe),!Oe.defaultPrevented&&Gr())},className:Ps(G?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function Xk(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gae(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",c=a?cae:lae;function d(f){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=c:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(c)}),n}const yae=pe.forwardRef(function(e,n){const{id:r,invert:i,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,mobileOffset:g,theme:b="light",richColors:_,duration:T,style:S,visibleToasts:I=oae,toastOptions:R,dir:D=Xk(),gap:j=dae,icons:z,containerAriaLabel:$="Notifications"}=e,[Y,k]=pe.useState([]),C=pe.useMemo(()=>r?Y.filter(se=>se.toasterId===r):Y.filter(se=>!se.toasterId),[Y,r]),O=pe.useMemo(()=>Array.from(new Set([a].concat(C.filter(se=>se.position).map(se=>se.position)))),[C,a]),[U,L]=pe.useState([]),[H,V]=pe.useState(!1),[Ee,ke]=pe.useState(!1),[G,te]=pe.useState(b!=="system"?b:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=pe.useRef(null),be=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Te=pe.useRef(null),F=pe.useRef(!1),ae=pe.useCallback(se=>{k(ue=>{var ge;return(ge=ue.find(Se=>Se.id===se.id))!=null&&ge.delete||Ir.dismiss(se.id),ue.filter(({id:Se})=>Se!==se.id)})},[]);return pe.useEffect(()=>Ir.subscribe(se=>{if(se.dismiss){requestAnimationFrame(()=>{k(ue=>ue.map(ge=>ge.id===se.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{Bj.flushSync(()=>{k(ue=>{const ge=ue.findIndex(Se=>Se.id===se.id);return ge!==-1?[...ue.slice(0,ge),{...ue[ge],...se},...ue.slice(ge+1)]:[se,...ue]})})})}),[Y]),pe.useEffect(()=>{if(b!=="system"){te(b);return}if(b==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:ue})=>{te(ue?"dark":"light")})}catch{se.addListener(({matches:ge})=>{try{te(ge?"dark":"light")}catch(Se){console.error(Se)}})}},[b]),pe.useEffect(()=>{Y.length<=1&&V(!1)},[Y]),pe.useEffect(()=>{const se=ue=>{var ge;if(l.every(we=>ue[we]||ue.code===we)){var he;V(!0),(he=W.current)==null||he.focus()}ue.code==="Escape"&&(document.activeElement===W.current||(ge=W.current)!=null&&ge.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[l]),pe.useEffect(()=>{if(W.current)return()=>{Te.current&&(Te.current.focus({preventScroll:!0}),Te.current=null,F.current=!1)}},[W.current]),pe.createElement("section",{ref:n,"aria-label":`${$} ${be}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((se,ue)=>{var ge;const[Se,he]=se.split("-");return C.length?pe.createElement("ol",{key:se,dir:D==="auto"?Xk():D,tabIndex:-1,ref:W,className:f,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":Se,"data-x-position":he,style:{"--front-toast-height":`${((ge=U[0])==null?void 0:ge.height)||0}px`,"--width":`${uae}px`,"--gap":`${j}px`,...S,...gae(p,g)},onBlur:we=>{F.current&&!we.currentTarget.contains(we.relatedTarget)&&(F.current=!1,Te.current&&(Te.current.focus({preventScroll:!0}),Te.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||F.current||(F.current=!0,Te.current=we.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{Ee||V(!1)},onDragEnd:()=>V(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||ke(!0)},onPointerUp:()=>ke(!1)},C.filter(we=>!we.position&&ue===0||we.position===se).map((we,De)=>{var He,$e;return pe.createElement(pae,{key:we.id,icons:z,index:De,toast:we,defaultRichColors:_,duration:(He=R?.duration)!=null?He:T,className:R?.className,descriptionClassName:R?.descriptionClassName,invert:i,visibleToasts:I,closeButton:($e=R?.closeButton)!=null?$e:d,interacting:Ee,position:se,style:R?.style,unstyled:R?.unstyled,classNames:R?.classNames,cancelButtonStyle:R?.cancelButtonStyle,actionButtonStyle:R?.actionButtonStyle,closeButtonAriaLabel:R?.closeButtonAriaLabel,removeToast:ae,toasts:C.filter(Qe=>Qe.position==we.position),heights:U.filter(Qe=>Qe.position==we.position),setHeights:L,expandByDefault:c,gap:j,expanded:H,swipeDirections:e.swipeDirections})})):null}))});function vae(){const t=Pc(),{user:e}=$a(),[n,r]=w.useState(1),[i,a]=w.useState(!1),[l,c]=w.useState({topic:"",platform:"",tone:""}),d=[{id:"blog",name:"Blog Post",icon:os,color:"bg-blue-500"},{id:"twitter",name:"Twitter Thread",icon:Sa,color:"bg-sky-500"},{id:"linkedin",name:"LinkedIn Post",icon:Sc,color:"bg-blue-700"},{id:"email",name:"Email Newsletter",icon:Wm,color:"bg-purple-500"}],f=[{id:"professional",name:"Professional",desc:"Clear, authoritative, and polished.",icon:f1},{id:"witty",name:"Witty",desc:"Fun, engaging, and clever.",icon:yk},{id:"urgent",name:"Urgent",desc:"Action-oriented and direct.",icon:Xi},{id:"friendly",name:"Friendly",desc:"Warm, approachable, and helpful.",icon:Xte}],p=()=>{n<4&&r(n+1)},g=()=>{n>1&&r(n-1)},b=async()=>{if(e){a(!0);try{const T=await $se(l.topic,l.platform,l.tone);await lse(e.uid,{title:l.topic,platform:l.platform,tone:l.tone,content:T,words:T.split(/\s+/).length}),t("/dashboard/projects")}catch(T){console.error("Failed to create project:",T),Ut.error("Failed to generate content. Please try again.")}finally{a(!1)}}},_=(T,S)=>{c(I=>({...I,[T]:S}))};return h.jsx(Nc,{children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:h.jsx(me.div,{className:"h-full bg-indigo-600",initial:{width:0},animate:{width:`${n/4*100}%`},transition:{duration:.3}})}),h.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-500 dark:text-gray-400",children:[h.jsx("span",{children:"Topic"}),h.jsx("span",{children:"Platform"}),h.jsx("span",{children:"Tone"}),h.jsx("span",{children:"Review"})]})]}),h.jsx(Ad,{mode:"wait",children:h.jsxs(me.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 p-8 shadow-sm",children:[n===1&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"What do you want to write about?"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Enter a topic, headline, or a few keywords to get started."}),h.jsx("textarea",{value:l.topic,onChange:T=>_("topic",T.target.value),placeholder:"e.g., The future of AI in healthcare...",className:"w-full h-40 p-4 rounded-xl border border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-950 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all resize-none text-lg",autoFocus:!0})]}),n===2&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Choose your platform"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(T=>h.jsxs("button",{onClick:()=>_("platform",T.id),className:`p-6 rounded-xl border-2 text-left transition-all flex items-center gap-4 ${l.platform===T.id?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-800 hover:border-indigo-300 dark:hover:border-indigo-700"}`,children:[h.jsx("div",{className:`w-12 h-12 rounded-lg ${T.color} flex items-center justify-center text-white`,children:h.jsx(T.icon,{className:"w-6 h-6"})}),h.jsx("span",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:T.name})]},T.id))})]}),n===3&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select a tone"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(T=>h.jsxs("button",{onClick:()=>_("tone",T.id),className:`p-6 rounded-xl border-2 text-left transition-all ${l.tone===T.id?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-800 hover:border-indigo-300 dark:hover:border-indigo-700"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(T.icon,{className:`w-5 h-5 ${l.tone===T.id?"text-indigo-600":"text-gray-400"}`}),h.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:T.name})]}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:T.desc})]},T.id))})]}),n===4&&h.jsxs("div",{className:"space-y-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white text-center",children:"Ready to generate?"}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-950 rounded-xl p-6 space-y-4 border border-gray-200 dark:border-gray-800",children:[h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-800 pb-4",children:[h.jsx("span",{className:"text-gray-500",children:"Topic"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-right max-w-[60%] truncate",children:l.topic})]}),h.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-800 pb-4",children:[h.jsx("span",{className:"text-gray-500",children:"Platform"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:l.platform})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-500",children:"Tone"}),h.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:l.tone})]})]})]})]},n)}),h.jsxs("div",{className:"flex justify-between mt-8",children:[h.jsxs(Ye,{variant:"outline",onClick:g,disabled:n===1||i,className:"w-32",children:[h.jsx(sv,{className:"w-4 h-4 mr-2"}),"Back"]}),n<4?h.jsxs(Ye,{onClick:p,disabled:n===1&&!l.topic||n===2&&!l.platform||n===3&&!l.tone,className:"w-32 bg-indigo-600 hover:bg-indigo-700",children:["Next",h.jsx(Xd,{className:"w-4 h-4 ml-2"})]}):h.jsx(Ye,{onClick:b,disabled:i,className:"w-40 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white shadow-lg shadow-indigo-500/25",children:i?h.jsxs(h.Fragment,{children:[h.jsx(di,{className:"w-4 h-4 mr-2 animate-spin"}),"Magic..."]}):h.jsxs(h.Fragment,{children:[h.jsx(yk,{className:"w-4 h-4 mr-2"}),"Generate"]})})]})]})})}function xae(){const{user:t}=$a(),[e,n]=w.useState("All"),[r,i]=w.useState([]),[a,l]=w.useState(!0);w.useEffect(()=>{(async()=>{if(!t){l(!1);return}try{const p=await bL(t.uid);i(p)}catch(p){console.error("Failed to fetch projects:",p)}finally{l(!1)}})()},[t]);const c=async f=>{if(confirm("Are you sure you want to delete this project?"))try{await cse(f),i(p=>p.filter(g=>g.id!==f))}catch(p){console.error("Failed to delete project:",p)}},d=e==="All"?r:r.filter(f=>f.status===e);return a?h.jsx(Nc,{children:h.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})}):h.jsx(Nc,{children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Projects"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage and organize your generated content."})]}),h.jsx(tt,{to:"/dashboard/new",children:h.jsx(Ye,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"+ New Project"})})]}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(f5,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search projects...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]}),h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:["All","Completed","Draft","In Progress"].map(f=>h.jsx("button",{onClick:()=>n(f),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors ${e===f?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"bg-white dark:bg-gray-900 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:f},f))})]}),h.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.length===0?h.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800",children:[h.jsx(os,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No projects found"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Get started by creating your first project."}),h.jsx(tt,{to:"/dashboard/new",children:h.jsx(Ye,{variant:"outline",children:"Create Project"})})]}):d.map(f=>h.jsx(me.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-900 p-4 rounded-xl border border-gray-200 dark:border-gray-800 hover:border-indigo-500 dark:hover:border-indigo-500/50 transition-all group cursor-pointer",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 flex items-center justify-center text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform",children:f.platform==="twitter"?h.jsx(Sa,{className:"w-6 h-6"}):f.platform==="linkedin"?h.jsx(Sc,{className:"w-6 h-6"}):f.platform==="email"?h.jsx(Wm,{className:"w-6 h-6"}):h.jsx(os,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:f.title}),h.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[h.jsx("span",{className:"flex items-center gap-1 capitalize",children:f.platform}),h.jsx("span",{children:""}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(d1,{className:"w-3 h-3"}),f.createdAt?.seconds?new Date(f.createdAt.seconds*1e3).toLocaleDateString():"Just now"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[f.words," words"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.status==="Completed"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":f.status==="In Progress"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:f.status}),h.jsx(tt,{to:`/dashboard/projects/${f.id}`,children:h.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors",children:h.jsx(Zte,{className:"w-5 h-5"})})}),h.jsx("button",{onClick:p=>{p.stopPropagation(),c(f.id)},className:"p-2 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:h.jsx(g5,{className:"w-5 h-5"})})]})]})},f.id))})]})})}function bae(){const{id:t}=Q_(),e=Pc(),[n,r]=w.useState(!0),[i,a]=w.useState(!1),[l,c]=w.useState(null),[d,f]=w.useState({title:"",content:""});w.useEffect(()=>{(async()=>{if(t)try{const _=await use(t);_?(c(_),f({title:_.title,content:_.content})):(Ut.error("Project not found"),e("/dashboard/projects"))}catch(_){console.error("Error fetching project:",_),Ut.error("Failed to load project")}finally{r(!1)}})()},[t,e]);const p=async()=>{if(t){a(!0);try{await kk(t,{title:d.title,content:d.content,words:d.content.split(/\s+/).length}),Ut.success("Project updated successfully"),e("/dashboard/projects")}catch(b){console.error("Error updating project:",b),Ut.error("Failed to save changes")}finally{a(!1)}}};if(n)return h.jsx(Nc,{children:h.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:h.jsx(di,{className:"w-8 h-8 animate-spin text-indigo-600"})})});if(!l)return null;const g=l.platform==="twitter"?Sa:l.platform==="linkedin"?Sc:l.platform==="email"?Wm:os;return h.jsx(Nc,{children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs(Ye,{variant:"ghost",onClick:()=>e("/dashboard/projects"),className:"text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",children:[h.jsx(sv,{className:"w-4 h-4 mr-2"}),"Back to Projects"]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("select",{value:l.status,onChange:async b=>{const _=b.target.value;c({...l,status:_});try{await kk(t,{status:_}),Ut.success(`Status updated to ${_}`)}catch{Ut.error("Failed to update status")}},className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 text-sm rounded-lg px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:"Draft",children:"Draft"}),h.jsx("option",{value:"In Progress",children:"In Progress"}),h.jsx("option",{value:"Completed",children:"Completed"})]}),h.jsx(Ye,{onClick:p,disabled:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white min-w-[120px]",children:i?h.jsx(di,{className:"w-4 h-4 animate-spin"}):h.jsxs(h.Fragment,{children:[h.jsx(g1,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-sm overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50 flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(g,{className:"w-6 h-6"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("input",{type:"text",value:d.title,onChange:b=>f({...d,title:b.target.value}),className:"w-full bg-transparent text-xl font-bold text-gray-900 dark:text-white border-none focus:ring-0 p-0 placeholder-gray-400",placeholder:"Project Title"}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[h.jsx("span",{className:"capitalize",children:l.platform}),h.jsx("span",{children:""}),h.jsxs("span",{className:"capitalize",children:[l.tone," Tone"]})]})]})]}),h.jsx("div",{className:"p-6",children:h.jsx("textarea",{value:d.content,onChange:b=>f({...d,content:b.target.value}),className:"w-full min-h-[500px] p-4 rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all resize-y text-lg leading-relaxed text-gray-800 dark:text-gray-200 font-serif",placeholder:"Start writing..."})})]})]})})}function mf({children:t}){const{user:e,loading:n}=$a();return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):e?h.jsx(h.Fragment,{children:t}):h.jsx(Dj,{to:"/",replace:!0})}const pm=w.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:Ze("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));pm.displayName="Textarea";var wae="Label",AL=w.forwardRef((t,e)=>h.jsx(av.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AL.displayName=wae;var NL=AL;const _ae=O5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kn=w.forwardRef(({className:t,...e},n)=>h.jsx(NL,{ref:n,className:Ze(_ae(),t),...e}));kn.displayName=NL.displayName;const Eae=()=>h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-40 lg:pb-24 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[h.jsxs(me.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"We're here to help"]}),h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6 tracking-tight",children:["Get in"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Touch"})]}),h.jsx("p",{className:"text-xl text-indigo-200 leading-relaxed max-w-2xl mx-auto",children:"Have a question or want to learn more about Lumina? We'd love to hear from you."})]})})]}),h.jsx("section",{className:"py-12 pb-24",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[h.jsxs(me.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-gray-50 dark:bg-gray-900/50 p-8 rounded-2xl border border-gray-200 dark:border-gray-800",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Contact Information"}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(me.div,{whileHover:{scale:1.1,rotate:10},className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx(Wm,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Email Us"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Our friendly team is here to help."}),h.jsx("a",{href:"mailto:support@lumina.ai",className:"text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"support@lumina.ai"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(me.div,{whileHover:{scale:1.1,rotate:10},className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx(tne,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Call Us"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Mon-Fri from 8am to 5pm PST."}),h.jsx("a",{href:"tel:+15551234567",className:"text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"+1 (555) 123-4567"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(me.div,{whileHover:{scale:1.1,rotate:10},className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx($te,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Visit Us"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Come say hello at our office HQ."}),h.jsxs("p",{className:"text-gray-900 dark:text-white font-medium",children:["123 AI Boulevard",h.jsx("br",{}),"San Francisco, CA 94107"]})]})]})]}),h.jsxs("div",{className:"mt-12 pt-12 border-t border-gray-200 dark:border-gray-800",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"What to expect"}),h.jsx("ul",{className:"space-y-4 mb-8",children:[{icon:um,text:"Response within 24 hours"},{icon:a5,text:"Dedicated support team"}].map((t,e)=>h.jsxs(me.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.6+e*.1},className:"flex items-center gap-3 text-gray-600 dark:text-gray-300",children:[h.jsx(t.icon,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),h.jsx("span",{children:t.text})]},e))}),h.jsxs(me.div,{whileHover:{scale:1.02},className:"bg-indigo-50 dark:bg-indigo-900/20 p-6 rounded-xl border border-indigo-100 dark:border-indigo-800/50",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(Aa,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),h.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Trusted by 10,000+ Creators"})]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Join the community building the future of content with Lumina."})]})]}),h.jsxs("div",{className:"mt-12",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Common Questions"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[h.jsx(R_,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),"Do you offer demos?"]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 pl-6",children:"Yes! Just mention it in your message and we'll schedule one."})]}),h.jsxs("div",{children:[h.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[h.jsx(R_,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),"Is there a free trial?"]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 pl-6",children:"Absolutely. You can try Lumina Pro free for 14 days."})]})]})]})]}),h.jsx(me.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"bg-white dark:bg-gray-900 p-8 rounded-2xl border border-gray-200 dark:border-gray-800 shadow-lg",children:h.jsxs("form",{className:"space-y-6",onSubmit:t=>t.preventDefault(),children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"firstName",children:"First name"}),h.jsx(Mr,{id:"firstName",placeholder:"Jane",className:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 transition-all duration-300 focus:scale-[1.01] origin-left"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"lastName",children:"Last name"}),h.jsx(Mr,{id:"lastName",placeholder:"Doe",className:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 transition-all duration-300 focus:scale-[1.01] origin-left"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"email",children:"Email"}),h.jsx(Mr,{id:"email",type:"email",placeholder:"jane@example.com",className:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 transition-all duration-300 focus:scale-[1.01] origin-left"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"subject",children:"Subject"}),h.jsx(Mr,{id:"subject",placeholder:"How can we help?",className:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 transition-all duration-300 focus:scale-[1.01] origin-left"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"message",children:"Message"}),h.jsx(pm,{id:"message",placeholder:"Tell us more about your project...",className:"min-h-[150px] bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 resize-none transition-all duration-300 focus:scale-[1.01] origin-left"})]}),h.jsx(me.div,{whileHover:{scale:1.02},whileTap:{scale:.95},children:h.jsxs(Ye,{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white h-12 text-lg",children:[h.jsx(fne,{className:"w-4 h-4 mr-2"})," Send Message"]})})]})})]})})})]}),h.jsx(hi,{})]});function Tae(t,e){const n=w.createContext(e),r=a=>{const{children:l,...c}=a,d=w.useMemo(()=>c,Object.values(c));return h.jsx(n.Provider,{value:d,children:l})};r.displayName=t+"Provider";function i(a){const l=w.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Sae(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Aae(i,...e)]}function Aae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Nae(t){const e=Iae(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(Rae);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Iae(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=jae(i),c=kae(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Cae=Symbol("radix.slottable");function Rae(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Cae}function kae(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function jae(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Pae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],IL=Pae.reduce((t,e)=>{const n=Nae(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Dae(t,e){t&&bm.flushSync(()=>t.dispatchEvent(e))}function Mae(t,e=globalThis?.document){const n=tl(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Oae="DismissableLayer",O_="dismissableLayer.update",Vae="dismissableLayer.pointerDownOutside",Lae="dismissableLayer.focusOutside",Jk,CL=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),C1=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=t,f=w.useContext(CL),[p,g]=w.useState(null),b=p?.ownerDocument??globalThis?.document,[,_]=w.useState({}),T=Ft(e,k=>g(k)),S=Array.from(f.layers),[I]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(I),D=p?S.indexOf(p):-1,j=f.layersWithOutsidePointerEventsDisabled.size>0,z=D>=R,$=Fae(k=>{const C=k.target,O=[...f.branches].some(U=>U.contains(C));!z||O||(i?.(k),l?.(k),k.defaultPrevented||c?.())},b),Y=zae(k=>{const C=k.target;[...f.branches].some(U=>U.contains(C))||(a?.(k),l?.(k),k.defaultPrevented||c?.())},b);return Mae(k=>{D===f.layers.size-1&&(r?.(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},b),w.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Jk=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Zk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Jk)}},[p,b,n,f]),w.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Zk())},[p,f]),w.useEffect(()=>{const k=()=>_({});return document.addEventListener(O_,k),()=>document.removeEventListener(O_,k)},[]),h.jsx(IL.div,{...d,ref:T,style:{pointerEvents:j?z?"auto":"none":void 0,...t.style},onFocusCapture:Rt(t.onFocusCapture,Y.onFocusCapture),onBlurCapture:Rt(t.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Rt(t.onPointerDownCapture,$.onPointerDownCapture)})});C1.displayName=Oae;var Uae="DismissableLayerBranch",Bae=w.forwardRef((t,e)=>{const n=w.useContext(CL),r=w.useRef(null),i=Ft(e,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),h.jsx(IL.div,{...t,ref:i})});Bae.displayName=Uae;function Fae(t,e=globalThis?.document){const n=tl(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){RL(Vae,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zae(t,e=globalThis?.document){const n=tl(t),r=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!r.current&&RL(Lae,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zk(){const t=new CustomEvent(O_);document.dispatchEvent(t)}function RL(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Dae(i,a):i.dispatchEvent(a)}function Hae(t){const e=$ae(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(Gae);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function $ae(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=Wae(i),c=Kae(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qae=Symbol("radix.slottable");function Gae(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qae}function Kae(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Wae(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qae=Yae.reduce((t,e)=>{const n=Hae(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),lw="focusScope.autoFocusOnMount",cw="focusScope.autoFocusOnUnmount",ej={bubbles:!1,cancelable:!0},Xae="FocusScope",R1=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=t,[c,d]=w.useState(null),f=tl(i),p=tl(a),g=w.useRef(null),b=Ft(e,S=>d(S)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let S=function(j){if(_.paused||!c)return;const z=j.target;c.contains(z)?g.current=z:Ro(g.current,{select:!0})},I=function(j){if(_.paused||!c)return;const z=j.relatedTarget;z!==null&&(c.contains(z)||Ro(g.current,{select:!0}))},R=function(j){if(document.activeElement===document.body)for(const $ of j)$.removedNodes.length>0&&Ro(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",I);const D=new MutationObserver(R);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",I),D.disconnect()}}},[r,c,_.paused]),w.useEffect(()=>{if(c){nj.add(_);const S=document.activeElement;if(!c.contains(S)){const R=new CustomEvent(lw,ej);c.addEventListener(lw,f),c.dispatchEvent(R),R.defaultPrevented||(Jae(roe(kL(c)),{select:!0}),document.activeElement===S&&Ro(c))}return()=>{c.removeEventListener(lw,f),setTimeout(()=>{const R=new CustomEvent(cw,ej);c.addEventListener(cw,p),c.dispatchEvent(R),R.defaultPrevented||Ro(S??document.body,{select:!0}),c.removeEventListener(cw,p),nj.remove(_)},0)}}},[c,f,p,_]);const T=w.useCallback(S=>{if(!n&&!r||_.paused)return;const I=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(I&&R){const D=S.currentTarget,[j,z]=Zae(D);j&&z?!S.shiftKey&&R===z?(S.preventDefault(),n&&Ro(j,{select:!0})):S.shiftKey&&R===j&&(S.preventDefault(),n&&Ro(z,{select:!0})):R===D&&S.preventDefault()}},[n,r,_.paused]);return h.jsx(Qae.div,{tabIndex:-1,...l,ref:b,onKeyDown:T})});R1.displayName=Xae;function Jae(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ro(r,{select:e}),document.activeElement!==n)return}function Zae(t){const e=kL(t),n=tj(e,t),r=tj(e.reverse(),t);return[n,r]}function kL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tj(t,e){for(const n of t)if(!eoe(n,{upTo:e}))return n}function eoe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function toe(t){return t instanceof HTMLInputElement&&"select"in t}function Ro(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&toe(t)&&e&&t.select()}}var nj=noe();function noe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=rj(t,e),t.unshift(e)},remove(e){t=rj(t,e),t[0]?.resume()}}}function rj(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function roe(t){return t.filter(e=>e.tagName!=="A")}function ioe(t){const e=soe(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(ooe);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function soe(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=coe(i),c=loe(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aoe=Symbol("radix.slottable");function ooe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aoe}function loe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function coe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],doe=uoe.reduce((t,e)=>{const n=ioe(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),hoe="Portal",k1=w.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=w.useState(!1);Tn(()=>a(!0),[]);const l=n||i&&globalThis?.document?.body;return l?Bj.createPortal(h.jsx(doe.div,{...r,ref:e}),l):null});k1.displayName=hoe;function jL(t){const e=foe(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(poe);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function foe(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=yoe(i),c=goe(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var moe=Symbol("radix.slottable");function poe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===moe}function goe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function yoe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var voe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jm=voe.reduce((t,e)=>{const n=jL(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),uw=0;function PL(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??ij()),document.body.insertAdjacentElement("beforeend",t[1]??ij()),uw++,()=>{uw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uw--}},[])}function ij(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Os=function(){return Os=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Os.apply(this,arguments)};function DL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xoe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var gy="right-scroll-bar-position",yy="width-before-scroll-bar",boe="with-scroll-bars-hidden",woe="--removed-body-scroll-bar-size";function dw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _oe(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Eoe=typeof window<"u"?w.useLayoutEffect:w.useEffect,sj=new WeakMap;function Toe(t,e){var n=_oe(null,function(r){return t.forEach(function(i){return dw(i,r)})});return Eoe(function(){var r=sj.get(n);if(r){var i=new Set(r),a=new Set(t),l=n.current;i.forEach(function(c){a.has(c)||dw(c,null)}),a.forEach(function(c){i.has(c)||dw(c,l)})}sj.set(n,t)},[t]),n}function Soe(t){return t}function Aoe(t,e){e===void 0&&(e=Soe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(a),l=n}var d=function(){var p=l;l=[],p.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return i}function Noe(t){t===void 0&&(t={});var e=Aoe(null);return e.options=Os({async:!0,ssr:!1},t),e}var ML=function(t){var e=t.sideCar,n=DL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Os({},n))};ML.isSideCarExport=!0;function Ioe(t,e){return t.useMedium(e),ML}var OL=Noe(),hw=function(){},uv=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:hw,onWheelCapture:hw,onTouchMoveCapture:hw}),i=r[0],a=r[1],l=t.forwardProps,c=t.children,d=t.className,f=t.removeScrollBar,p=t.enabled,g=t.shards,b=t.sideCar,_=t.noRelative,T=t.noIsolation,S=t.inert,I=t.allowPinchZoom,R=t.as,D=R===void 0?"div":R,j=t.gapMode,z=DL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=b,Y=Toe([n,e]),k=Os(Os({},z),i);return w.createElement(w.Fragment,null,p&&w.createElement($,{sideCar:OL,removeScrollBar:f,shards:g,noRelative:_,noIsolation:T,inert:S,setCallbacks:a,allowPinchZoom:!!I,lockRef:n,gapMode:j}),l?w.cloneElement(w.Children.only(c),Os(Os({},k),{ref:Y})):w.createElement(D,Os({},k,{className:d,ref:Y}),c))});uv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uv.classNames={fullWidth:yy,zeroRight:gy};var Coe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Roe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Coe();return e&&t.setAttribute("nonce",e),t}function koe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function joe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Poe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Roe())&&(koe(e,n),joe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Doe=function(){var t=Poe();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},VL=function(){var t=Doe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Moe={left:0,top:0,right:0,gap:0},fw=function(t){return parseInt(t||"",10)||0},Ooe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[fw(n),fw(r),fw(i)]},Voe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Moe;var e=Ooe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Loe=VL(),nd="data-scroll-locked",Uoe=function(t,e,n,r){var i=t.left,a=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(boe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(nd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gy,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(yy,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(gy," .").concat(gy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yy," .").concat(yy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nd,`] {
    `).concat(woe,": ").concat(c,`px;
  }
`)},aj=function(){var t=parseInt(document.body.getAttribute(nd)||"0",10);return isFinite(t)?t:0},Boe=function(){w.useEffect(function(){return document.body.setAttribute(nd,(aj()+1).toString()),function(){var t=aj()-1;t<=0?document.body.removeAttribute(nd):document.body.setAttribute(nd,t.toString())}},[])},Foe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Boe();var a=w.useMemo(function(){return Voe(i)},[i]);return w.createElement(Loe,{styles:Uoe(a,!e,i,n?"":"!important")})},V_=!1;if(typeof window<"u")try{var Fg=Object.defineProperty({},"passive",{get:function(){return V_=!0,!0}});window.addEventListener("test",Fg,Fg),window.removeEventListener("test",Fg,Fg)}catch{V_=!1}var Ou=V_?{passive:!1}:!1,zoe=function(t){return t.tagName==="TEXTAREA"},LL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!zoe(t)&&n[e]==="visible")},Hoe=function(t){return LL(t,"overflowY")},$oe=function(t){return LL(t,"overflowX")},oj=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UL(t,r);if(i){var a=BL(t,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qoe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Goe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},UL=function(t,e){return t==="v"?Hoe(e):$oe(e)},BL=function(t,e){return t==="v"?qoe(e):Goe(e)},Koe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Woe=function(t,e,n,r,i){var a=Koe(t,window.getComputedStyle(e).direction),l=a*r,c=n.target,d=e.contains(c),f=!1,p=l>0,g=0,b=0;do{if(!c)break;var _=BL(t,c),T=_[0],S=_[1],I=_[2],R=S-I-a*T;(T||R)&&UL(t,c)&&(g+=R,b+=T);var D=c.parentNode;c=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(f=!0),f},zg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lj=function(t){return[t.deltaX,t.deltaY]},cj=function(t){return t&&"current"in t?t.current:t},Yoe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qoe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Xoe=0,Vu=[];function Joe(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(Xoe++)[0],a=w.useState(VL)[0],l=w.useRef(t);w.useEffect(function(){l.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=xoe([t.lockRef.current],(t.shards||[]).map(cj),!0).filter(Boolean);return S.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(S,I){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var R=zg(S),D=n.current,j="deltaX"in S?S.deltaX:D[0]-R[0],z="deltaY"in S?S.deltaY:D[1]-R[1],$,Y=S.target,k=Math.abs(j)>Math.abs(z)?"h":"v";if("touches"in S&&k==="h"&&Y.type==="range")return!1;var C=window.getSelection(),O=C&&C.anchorNode,U=O?O===Y||O.contains(Y):!1;if(U)return!1;var L=oj(k,Y);if(!L)return!0;if(L?$=k:($=k==="v"?"h":"v",L=oj(k,Y)),!L)return!1;if(!r.current&&"changedTouches"in S&&(j||z)&&(r.current=$),!$)return!0;var H=r.current||$;return Woe(H,I,S,H==="h"?j:z)},[]),d=w.useCallback(function(S){var I=S;if(!(!Vu.length||Vu[Vu.length-1]!==a)){var R="deltaY"in I?lj(I):zg(I),D=e.current.filter(function($){return $.name===I.type&&($.target===I.target||I.target===$.shadowParent)&&Yoe($.delta,R)})[0];if(D&&D.should){I.cancelable&&I.preventDefault();return}if(!D){var j=(l.current.shards||[]).map(cj).filter(Boolean).filter(function($){return $.contains(I.target)}),z=j.length>0?c(I,j[0]):!l.current.noIsolation;z&&I.cancelable&&I.preventDefault()}}},[]),f=w.useCallback(function(S,I,R,D){var j={name:S,delta:I,target:R,should:D,shadowParent:Zoe(R)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(z){return z!==j})},1)},[]),p=w.useCallback(function(S){n.current=zg(S),r.current=void 0},[]),g=w.useCallback(function(S){f(S.type,lj(S),S.target,c(S,t.lockRef.current))},[]),b=w.useCallback(function(S){f(S.type,zg(S),S.target,c(S,t.lockRef.current))},[]);w.useEffect(function(){return Vu.push(a),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",d,Ou),document.addEventListener("touchmove",d,Ou),document.addEventListener("touchstart",p,Ou),function(){Vu=Vu.filter(function(S){return S!==a}),document.removeEventListener("wheel",d,Ou),document.removeEventListener("touchmove",d,Ou),document.removeEventListener("touchstart",p,Ou)}},[]);var _=t.removeScrollBar,T=t.inert;return w.createElement(w.Fragment,null,T?w.createElement(a,{styles:Qoe(i)}):null,_?w.createElement(Foe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Zoe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ele=Ioe(OL,Joe);var j1=w.forwardRef(function(t,e){return w.createElement(uv,Os({},t,{ref:e,sideCar:ele}))});j1.classNames=uv.classNames;var tle=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Lu=new WeakMap,Hg=new WeakMap,$g={},mw=0,FL=function(t){return t&&(t.host||FL(t.parentNode))},nle=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=FL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rle=function(t,e,n,r){var i=nle(e,Array.isArray(t)?t:[t]);$g[n]||($g[n]=new WeakMap);var a=$g[n],l=[],c=new Set,d=new Set(i),f=function(g){!g||c.has(g)||(c.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(b){if(c.has(b))p(b);else try{var _=b.getAttribute(r),T=_!==null&&_!=="false",S=(Lu.get(b)||0)+1,I=(a.get(b)||0)+1;Lu.set(b,S),a.set(b,I),l.push(b),S===1&&T&&Hg.set(b,!0),I===1&&b.setAttribute(n,"true"),T||b.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return p(e),c.clear(),mw++,function(){l.forEach(function(g){var b=Lu.get(g)-1,_=a.get(g)-1;Lu.set(g,b),a.set(g,_),b||(Hg.has(g)||g.removeAttribute(r),Hg.delete(g)),_||g.removeAttribute(n)}),mw--,mw||(Lu=new WeakMap,Lu=new WeakMap,Hg=new WeakMap,$g={})}},zL=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=tle(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),rle(r,i,n,"aria-hidden")):function(){return null}},dv="Dialog",[HL]=Sae(dv),[ile,fs]=HL(dv),$L=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=w.useRef(null),d=w.useRef(null),[f,p]=Ac({prop:r,defaultProp:i??!1,onChange:a,caller:dv});return h.jsx(ile,{scope:e,triggerRef:c,contentRef:d,contentId:Ho(),titleId:Ho(),descriptionId:Ho(),open:f,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(g=>!g),[p]),modal:l,children:n})};$L.displayName=dv;var qL="DialogTrigger",GL=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=fs(qL,n),a=Ft(e,i.triggerRef);return h.jsx(Jm.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":M1(i.open),...r,ref:a,onClick:Rt(t.onClick,i.onOpenToggle)})});GL.displayName=qL;var P1="DialogPortal",[sle,KL]=HL(P1,{forceMount:void 0}),WL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=fs(P1,e);return h.jsx(sle,{scope:e,forceMount:n,children:w.Children.map(r,l=>h.jsx(Qm,{present:n||a.open,children:h.jsx(k1,{asChild:!0,container:i,children:l})}))})};WL.displayName=P1;var i0="DialogOverlay",YL=w.forwardRef((t,e)=>{const n=KL(i0,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=fs(i0,t.__scopeDialog);return a.modal?h.jsx(Qm,{present:r||a.open,children:h.jsx(ole,{...i,ref:e})}):null});YL.displayName=i0;var ale=jL("DialogOverlay.RemoveScroll"),ole=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=fs(i0,n);return h.jsx(j1,{as:ale,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Jm.div,{"data-state":M1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Cc="DialogContent",QL=w.forwardRef((t,e)=>{const n=KL(Cc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=fs(Cc,t.__scopeDialog);return h.jsx(Qm,{present:r||a.open,children:a.modal?h.jsx(lle,{...i,ref:e}):h.jsx(cle,{...i,ref:e})})});QL.displayName=Cc;var lle=w.forwardRef((t,e)=>{const n=fs(Cc,t.__scopeDialog),r=w.useRef(null),i=Ft(e,n.contentRef,r);return w.useEffect(()=>{const a=r.current;if(a)return zL(a)},[]),h.jsx(XL,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rt(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Rt(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Rt(t.onFocusOutside,a=>a.preventDefault())})}),cle=w.forwardRef((t,e)=>{const n=fs(Cc,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return h.jsx(XL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),XL=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=t,c=fs(Cc,n),d=w.useRef(null),f=Ft(e,d);return PL(),h.jsxs(h.Fragment,{children:[h.jsx(R1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:h.jsx(C1,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":M1(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(ule,{titleId:c.titleId}),h.jsx(hle,{contentRef:d,descriptionId:c.descriptionId})]})]})}),D1="DialogTitle",JL=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=fs(D1,n);return h.jsx(Jm.h2,{id:i.titleId,...r,ref:e})});JL.displayName=D1;var ZL="DialogDescription",e3=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=fs(ZL,n);return h.jsx(Jm.p,{id:i.descriptionId,...r,ref:e})});e3.displayName=ZL;var t3="DialogClose",n3=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=fs(t3,n);return h.jsx(Jm.button,{type:"button",...r,ref:e,onClick:Rt(t.onClick,()=>i.onOpenChange(!1))})});n3.displayName=t3;function M1(t){return t?"open":"closed"}var r3="DialogTitleWarning",[Lde,i3]=Tae(r3,{contentName:Cc,titleName:D1,docsSlug:"dialog"}),ule=({titleId:t})=>{const e=i3(r3),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},dle="DialogDescriptionWarning",hle=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i3(dle).contentName}}.`;return w.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},fle=$L,mle=GL,ple=WL,s3=YL,a3=QL,o3=JL,l3=e3,gle=n3;const yle=fle,vle=mle,xle=ple,c3=w.forwardRef(({className:t,...e},n)=>h.jsx(s3,{ref:n,className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));c3.displayName=s3.displayName;const u3=w.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(xle,{children:[h.jsx(c3,{}),h.jsxs(a3,{ref:r,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(gle,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(v5,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u3.displayName=a3.displayName;const d3=({className:t,...e})=>h.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});d3.displayName="DialogHeader";const h3=w.forwardRef(({className:t,...e},n)=>h.jsx(o3,{ref:n,className:Ze("text-lg font-semibold leading-none tracking-tight",t),...e}));h3.displayName=o3.displayName;const f3=w.forwardRef(({className:t,...e},n)=>h.jsx(l3,{ref:n,className:Ze("text-sm text-muted-foreground",t),...e}));f3.displayName=l3.displayName;const pw={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},gw={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},ble=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!1),[i,a]=w.useState({firstName:"",lastName:"",email:"",resume:null,resumeName:"",coverLetter:""}),l=d=>{const f=d.target.files?.[0];if(f){if(f.size>500*1024){Ut.error("File size exceeds 500KB limit.");return}const p=new FileReader;p.onloadend=()=>{a(g=>({...g,resume:p.result,resumeName:f.name})),Ut.success("Resume attached successfully.")},p.readAsDataURL(f)}},c=async d=>{if(d.preventDefault(),!i.firstName||!i.lastName||!i.email||!i.resume){Ut.error("Please fill in all required fields and upload a resume.");return}r(!0);try{await Bm(ai(Pt,"applications"),{role:t,firstName:i.firstName,lastName:i.lastName,email:i.email,resume:i.resume,resumeName:i.resumeName,coverLetter:i.coverLetter,createdAt:Zo()}),Ut.success("Application submitted successfully! We'll be in touch."),a({firstName:"",lastName:"",email:"",resume:null,resumeName:"",coverLetter:""}),e(null)}catch(f){console.error("Error submitting application:",f),Ut.error("Failed to submit application. Please try again.")}finally{r(!1)}};return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"We are hiring"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-6 text-white",children:["Build the future of"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"AI"})," ","with us."]}),h.jsx("p",{className:"text-xl text-indigo-200 mb-8 leading-relaxed",children:"Join a team of visionaries, engineers, and creators who are redefining how the world creates content. We're looking for the best."}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsx(Ye,{size:"lg",className:"bg-indigo-600 hover:bg-indigo-500 text-white rounded-full px-8 border-0",onClick:()=>{document.getElementById("roles")?.scrollIntoView({behavior:"smooth"})},children:"View Open Roles"}),h.jsx(Ye,{variant:"outline",size:"lg",className:"rounded-full px-8 bg-transparent text-white border-indigo-700 hover:bg-indigo-900/50 hover:text-white",children:"Read our Culture"})]})]}),h.jsxs(me.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 rounded-3xl transform rotate-3 scale-105 -z-10 blur-2xl"}),h.jsx("img",{src:"/career-hero.png",alt:"Lumina Team",className:"rounded-3xl shadow-2xl w-full object-cover aspect-[4/3] border border-indigo-800/50"})]})]})})]}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Why join Lumina?"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"We believe that happy people create the best products. That's why we offer industry-leading benefits."})]}),h.jsx(me.div,{variants:pw,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:m1,title:"Remote First",desc:"Work from anywhere in the world. We trust you."},{icon:l5,title:"Full Health",desc:"Premium health, dental, and vision coverage for you."},{icon:Xi,title:"High Impact",desc:"Work on challenges that affect millions of users."},{icon:Aa,title:"Equity",desc:"Own a piece of the company you're helping to build."}].map((d,f)=>h.jsxs(me.div,{variants:gw,whileHover:{y:-5,scale:1.02},className:"bg-white dark:bg-gray-900 p-6 rounded-2xl border border-gray-200 dark:border-gray-800 hover:border-indigo-500/50 transition-colors shadow-sm hover:shadow-lg group",children:[h.jsx(me.div,{whileHover:{rotate:12,scale:1.1},transition:{type:"spring",stiffness:300},className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl flex items-center justify-center mb-4 text-indigo-600 dark:text-indigo-400 group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:h.jsx(d.icon,{className:"w-6 h-6"})}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:d.title}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d.desc})]},f))})]})}),h.jsx("section",{className:"py-20 bg-white dark:bg-gray-950",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Our Core Values"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"The principles that guide every decision we make."})]}),h.jsx(me.div,{variants:pw,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"grid md:grid-cols-3 gap-8",children:[{icon:p5,title:"Customer Obsession",desc:"We start with the customer and work backwards. Their success is our success."},{icon:Xi,title:"Bias for Action",desc:"Speed matters. We calculate risk and move fast. We value doing over over-analyzing."},{icon:Wte,title:"Radical Candor",desc:"We care personally and challenge directly. Honest feedback is our secret weapon."}].map((d,f)=>h.jsxs(me.div,{variants:gw,whileHover:{y:-5},className:"bg-gray-50 dark:bg-gray-900/50 p-8 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-indigo-500/30 transition-colors",children:[h.jsx("div",{className:"w-14 h-14 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mb-6 text-indigo-600 dark:text-indigo-400",children:h.jsx(d.icon,{className:"w-7 h-7"})}),h.jsx("h3",{className:"text-2xl font-bold mb-3",children:d.title}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:d.desc})]},f))})]})}),h.jsx("section",{className:"py-20 overflow-hidden",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[h.jsxs(me.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"order-2 lg:order-1 relative",children:[h.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-3xl opacity-20 blur-2xl -z-10"}),h.jsx("img",{src:"/join-luminar.png",alt:"Join Lumina",className:"rounded-3xl shadow-2xl w-full object-cover"})]}),h.jsxs(me.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"order-1 lg:order-2",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Come build with us"}),h.jsxs("div",{className:"space-y-6 text-lg text-gray-600 dark:text-gray-300",children:[h.jsxs("p",{children:["At Lumina, we're not just building software; we're crafting the future of creativity. We value ",h.jsx("strong",{children:"autonomy"}),", ",h.jsx("strong",{children:"mastery"}),", and ",h.jsx("strong",{children:"purpose"}),"."]}),h.jsx("p",{children:"Our team is diverse, distributed, and driven by a shared mission to empower creators. If you're passionate about AI and design, you'll fit right in."}),h.jsx("ul",{className:"space-y-3 mt-4",children:["Transparent culture","Continuous learning","User-obsessed"].map(d=>h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx(a5,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),h.jsx("span",{children:d})]},d))})]})]})]})})}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/30 border-y border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"The Hiring Process"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Simple, transparent, and respectful of your time."})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 bg-gray-200 dark:bg-gray-800 -translate-y-1/2 z-0"}),h.jsx(me.div,{variants:pw,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid md:grid-cols-4 gap-8 relative z-10",children:[{icon:os,step:"01",title:"Application",desc:"Tell us your story."},{icon:xte,step:"02",title:"Culture Chat",desc:"30-min vibe check."},{icon:yte,step:"03",title:"Deep Dive",desc:"Show us your skills."},{icon:Rne,step:"04",title:"The Offer",desc:"Welcome aboard."}].map((d,f)=>h.jsxs(me.div,{variants:gw,className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800 text-center relative group hover:border-indigo-500 transition-colors",children:[h.jsx("div",{className:"w-12 h-12 mx-auto bg-white dark:bg-gray-900 border-4 border-gray-50 dark:border-gray-800 rounded-full flex items-center justify-center mb-4 text-indigo-600 dark:text-indigo-400 group-hover:scale-110 transition-transform duration-300",children:h.jsx(d.icon,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 mb-2 uppercase tracking-wider",children:["Step ",d.step]}),h.jsx("h3",{className:"text-lg font-bold mb-1",children:d.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.desc})]},f))})]})]})}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/50",id:"roles",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Open Positions"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Find your next role."})]}),h.jsx("div",{className:"max-w-4xl mx-auto space-y-4",children:[{title:"Senior Frontend Engineer",dept:"Engineering",loc:"Remote"},{title:"Product Designer",dept:"Design",loc:"San Francisco / Remote"},{title:"Growth Marketing Manager",dept:"Marketing",loc:"New York / Remote"},{title:"AI Research Scientist",dept:"Engineering",loc:"Remote"},{title:"Partnership Manager",dept:"Business",loc:"New York / Remote"},{title:"Senior Data Analyst",dept:"Data Science",loc:"New York / Remote"}].map((d,f)=>h.jsxs(me.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},whileHover:{x:10,backgroundColor:"rgba(99, 102, 241, 0.05)"},viewport:{once:!0},transition:{delay:f*.1},className:"bg-white dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-800 flex flex-col sm:flex-row items-center justify-between gap-4 hover:border-indigo-500 transition-all group",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold group-hover:text-indigo-600 transition-colors",children:d.title}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mt-1",children:[h.jsx("span",{children:d.dept}),h.jsx("span",{children:""}),h.jsx("span",{children:d.loc})]})]}),h.jsxs(yle,{open:t===d.title,onOpenChange:p=>!p&&e(null),children:[h.jsx(vle,{asChild:!0,children:h.jsxs(Ye,{variant:"outline",className:"rounded-full group-hover:bg-indigo-600 group-hover:text-white group-hover:border-indigo-600 transition-all",onClick:()=>e(d.title),children:["Apply Now ",h.jsx(Xd,{className:"w-4 h-4 ml-2"})]})}),h.jsxs(u3,{className:"sm:max-w-[500px] bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-800",children:[h.jsxs(d3,{children:[h.jsxs(h3,{children:["Apply for ",t]}),h.jsx(f3,{children:"Join our team and help build the future of AI."})]}),h.jsxs("form",{className:"space-y-4 mt-4",onSubmit:c,children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"firstName",children:"First name"}),h.jsx(Mr,{id:"firstName",placeholder:"Jane",value:i.firstName,onChange:p=>a({...i,firstName:p.target.value}),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"lastName",children:"Last name"}),h.jsx(Mr,{id:"lastName",placeholder:"Doe",value:i.lastName,onChange:p=>a({...i,lastName:p.target.value}),required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"email",children:"Email"}),h.jsx(Mr,{id:"email",type:"email",placeholder:"jane@example.com",value:i.email,onChange:p=>a({...i,email:p.target.value}),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"resume",children:"Resume"}),h.jsx("div",{className:"flex items-center justify-center w-full",children:h.jsxs("label",{htmlFor:"resume-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[h.jsx(Pne,{className:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"}),h.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[h.jsx("span",{className:"font-semibold",children:"Click to upload"})," ","or drag and drop"]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.resumeName?i.resumeName:"PDF, DOCX (MAX. 500KB)"})]}),h.jsx("input",{id:"resume-upload",type:"file",className:"hidden",accept:".pdf,.doc,.docx",onChange:l})]})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"coverLetter",children:"Cover Letter"}),h.jsx(pm,{id:"coverLetter",placeholder:"Tell us why you're a great fit...",className:"min-h-[100px]",value:i.coverLetter,onChange:p=>a({...i,coverLetter:p.target.value})})]}),h.jsx(Ye,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",disabled:n,children:n?h.jsxs(h.Fragment,{children:[h.jsx(di,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Application"})]})]})]})]},f))})]})})]}),h.jsx(hi,{})]})},wle=()=>h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"Our Story"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-bold tracking-tight mb-8 text-white",children:["We are"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Lumina"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-indigo-200 mb-10 leading-relaxed max-w-2xl mx-auto",children:"Empowering the next generation of creators with intelligent tools that amplify human imagination."})]})})]}),h.jsx("section",{className:"py-24 bg-white dark:bg-gray-950",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[h.jsxs(me.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-gray-900 dark:text-white",children:"Our Mission"}),h.jsxs("div",{className:"space-y-6 text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:[h.jsx("p",{children:"We believe that creativity is the most important human skill. In a world increasingly driven by automation, the ability to imagine and create is what makes us unique."}),h.jsx("p",{children:"But too often, technical barriers get in the way of creative expression. Complex software, steep learning curves, and tedious workflows stifle ideas before they can bloom."}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-indigo-600 dark:text-indigo-400",children:"Lumina exists to remove those barriers."})," ","We build AI-powered tools that act as a creative partner, handling the mundane so you can focus on the magic."]})]})]}),h.jsxs(me.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-3xl opacity-10 blur-2xl -z-10"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("div",{className:"space-y-4 mt-8",children:[{icon:p5,title:"Focus",desc:"We solve real problems for real creators."},{icon:Xi,title:"Speed",desc:"From idea to reality in seconds."}].map((t,e)=>h.jsxs(me.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},whileHover:{y:-5,borderColor:"rgba(99, 102, 241, 0.5)"},className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 transition-colors shadow-sm hover:shadow-md",children:[h.jsx(t.icon,{className:"w-8 h-8 text-indigo-600 mb-4"}),h.jsx("h3",{className:"font-bold mb-2 text-gray-900 dark:text-white",children:t.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.desc})]},e))}),h.jsx("div",{className:"space-y-4",children:[{icon:l5,title:"Empathy",desc:"Designed for humans, not machines."},{icon:m1,title:"Impact",desc:"Tools used by millions worldwide."}].map((t,e)=>h.jsxs(me.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},whileHover:{y:-5,borderColor:"rgba(99, 102, 241, 0.5)"},className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 transition-colors shadow-sm hover:shadow-md",children:[h.jsx(t.icon,{className:"w-8 h-8 text-indigo-600 mb-4"}),h.jsx("h3",{className:"font-bold mb-2 text-gray-900 dark:text-white",children:t.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.desc})]},e))})]})]})]})})}),h.jsxs("section",{className:"py-20 bg-indigo-900 text-white overflow-hidden relative",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{label:"Active Users",value:"80k+"},{label:"Countries",value:"125+"},{label:"Content Created",value:"10M+"},{label:"Team Members",value:"40"}].map((t,e)=>h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},children:[h.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-2 text-indigo-200",children:t.value}),h.jsx("div",{className:"text-indigo-100/80 font-medium",children:t.label})]},e))})})]}),h.jsx("section",{className:"py-24 bg-gray-50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900 dark:text-white",children:"Our Journey"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"From a garage in San Francisco to a global platform."})]}),h.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[h.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-0.5 bg-gray-200 dark:bg-gray-800"}),[{year:"2021",title:"Inception",desc:"Founded in San Francisco with a vision to democratize AI."},{year:"2022",title:"Beta Launch",desc:"Released our first beta to 500 exclusive creators."},{year:"2023",title:"Series A",desc:"Raised $12M to scale our engineering team."},{year:"2024",title:"Global Expansion",desc:"Opened offices in London and Tokyo. Hit 1M users."}].map((t,e)=>h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:`relative flex items-center justify-between mb-12 ${e%2===0?"flex-row-reverse":""}`,children:[h.jsx("div",{className:"w-5/12"}),h.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 w-8 h-8 bg-indigo-600 rounded-full border-4 border-white dark:border-gray-900 z-10"}),h.jsx("div",{className:`w-5/12 ${e%2===0?"text-right":"text-left"}`,children:h.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-shadow",children:[h.jsx("span",{className:"text-indigo-600 font-bold text-lg block mb-2",children:t.year}),h.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900 dark:text-white",children:t.title}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.desc})]})})]},e))]})]})}),h.jsx("section",{className:"py-24 bg-white dark:bg-gray-950",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-900 dark:text-white",children:"Meet the Team"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"The visionaries building the future of Lumina."})]}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{name:"Agbaho Victor",role:"CEO & Founder",img:"/agbaho-victor.png"},{name:"Dr Agbaho Ozioma",role:"CMO",img:"/dr-ozioma.png"},{name:"David Miller",role:"CTO",img:"/david-miller.png"},{name:"Sarah Chen",role:"Senior Software Engineer ",img:"/sarah-chen.png"},{name:"Emily Zhang",role:"Head of Design",img:"/emily-zhang.png"},{name:"Michael Ross",role:"Head of Product",img:"/michael-ross.png"},{name:"Alex Johnson",role:"Head of Neuroscience",img:"/dr-alex.png"},{name:"Karl Dorathy",role:"Head of Growth",img:"/karl-dora.png"}].map((t,e)=>h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"group text-center",children:[h.jsxs("div",{className:"relative mb-6 inline-block",children:[h.jsx("div",{className:"absolute inset-0 bg-indigo-600 rounded-full opacity-0 group-hover:opacity-20 transition-opacity duration-300 blur-xl"}),h.jsx("img",{src:t.img,alt:t.name,className:"w-48 h-48 rounded-full object-cover border-4 border-gray-100 dark:border-gray-800 group-hover:border-indigo-500 transition-colors duration-300"})]}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:t.name}),h.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-medium",children:t.role})]},e))})]})}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/30 border-y border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-8",children:"Trusted by world-class investors"}),h.jsx("div",{className:"flex flex-wrap justify-center items-center gap-12 md:gap-20 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:["Sequoia","Andreessen Horowitz","Y Combinator","Index Ventures"].map((t,e)=>h.jsx("span",{className:"text-2xl md:text-3xl font-bold text-gray-400 hover:text-indigo-600 transition-colors cursor-default",children:t},e))})]})}),h.jsx("section",{className:"py-24 bg-gray-50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-gray-900 dark:text-white",children:"Join the journey"}),h.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-10 max-w-2xl mx-auto",children:"We're always looking for talented individuals to join our team. Check out our open roles or just say hi."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsx(tt,{to:"/careers",children:h.jsx(Ye,{size:"lg",className:"bg-indigo-600 hover:bg-indigo-700 text-white rounded-full px-8",children:"View Open Roles"})}),h.jsx(tt,{to:"/contact",children:h.jsx(Ye,{variant:"outline",size:"lg",className:"rounded-full px-8",children:"Contact Us"})})]})]})})]}),h.jsx(hi,{})]}),_le=()=>{const t=["All","AI & Tech","Design","Engineering","Culture"],[e,n]=w.useState([]),[r,i]=w.useState(!0),[a,l]=w.useState(1),[c,d]=w.useState("All"),f=7;w.useEffect(()=>{(async()=>{try{const z=Da(ai(Pt,"blog_posts"),K0("date","desc")),$=await Ma(z),Y=[];$.forEach(k=>{Y.push({id:k.id,...k.data()})}),n(Y)}catch(z){console.error("Error fetching posts:",z)}finally{i(!1)}})()},[]);const p=c==="All"?e:e.filter(j=>j.category===c),g=a*f,b=g-f,_=p.slice(b,g),T=Math.ceil(p.length/f),S=j=>{l(j),window.scrollTo({top:0,behavior:"smooth"})},I=j=>{d(j),l(1)};if(r)return h.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex items-center justify-center",children:h.jsx(di,{className:"w-8 h-8 animate-spin text-indigo-600"})});const R=_[0],D=_.slice(1);return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"Lumina Blog"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-bold tracking-tight mb-8 text-white",children:["Insights &"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Updates"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-indigo-200 mb-10 leading-relaxed max-w-2xl mx-auto",children:"The latest news, tutorials, and engineering deep dives from the Lumina team."})]})})]}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/50",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-16",children:t.map(j=>h.jsxs("button",{onClick:()=>I(j),className:`relative px-6 py-2 rounded-full text-sm font-medium transition-colors duration-300 ${c===j?"text-white":"text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400"}`,children:[c===j&&h.jsx(me.div,{layoutId:"activeCategory",className:"absolute inset-0 bg-indigo-600 rounded-full shadow-lg shadow-indigo-500/30",transition:{type:"spring",bounce:.2,duration:.6}}),h.jsx("span",{className:"relative z-10",children:j})]},j))}),h.jsx(Ad,{mode:"wait",children:p.length===0?h.jsxs(me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-20",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"No posts found"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try selecting a different category."})]},"empty"):h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[R&&h.jsx("div",{className:"mb-20",children:h.jsx("div",{className:"group relative rounded-3xl overflow-hidden bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-xl hover:shadow-2xl transition-all duration-500",children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[h.jsxs("div",{className:"relative h-64 md:h-auto overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-indigo-600/10 group-hover:bg-transparent transition-colors z-10"}),h.jsx("img",{src:R.image,alt:R.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700"})]}),h.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm text-indigo-600 dark:text-indigo-400 font-medium mb-4",children:[h.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800",children:R.category}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(um,{className:"w-4 h-4"})," ",R.readTime]})]}),h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:R.title}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-8 line-clamp-3",children:R.excerpt}),h.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:h.jsx(y5,{className:"w-5 h-5 text-gray-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:R.author}),h.jsx("p",{className:"text-sm text-gray-500",children:R.date})]})]}),h.jsx(tt,{to:`/blog/${R.slug}`,children:h.jsxs(Ye,{variant:"ghost",className:"group/btn text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:["Read Article"," ",h.jsx(Xd,{className:"w-4 h-4 ml-2 group-hover/btn:translate-x-1 transition-transform"})]})})]})]})]})})}),h.jsx(me.div,{layout:!0,className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.jsx(Ad,{children:D.map(j=>h.jsxs(me.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"group bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-800 overflow-hidden hover:shadow-lg hover:border-indigo-200 dark:hover:border-indigo-800 transition-all duration-300",children:[h.jsxs("div",{className:"relative h-48 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-indigo-900/10 group-hover:bg-transparent transition-colors z-10"}),h.jsx("img",{src:j.image,alt:j.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),h.jsx("div",{className:"absolute top-4 left-4 z-20",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/90 dark:bg-black/80 backdrop-blur-sm text-xs font-bold text-indigo-600 dark:text-indigo-400 border border-white/20",children:j.category})})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(d1,{className:"w-3 h-3"})," ",j.date]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(um,{className:"w-3 h-3"})," ",j.readTime]})]}),h.jsx("h3",{className:"text-xl font-bold mb-3 text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors line-clamp-2",children:j.title}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-6 line-clamp-2",children:j.excerpt}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800",children:[h.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:j.author}),h.jsx(tt,{to:`/blog/${j.slug}`,className:"text-indigo-600 text-sm font-medium group-hover:translate-x-1 transition-transform cursor-pointer",children:"Read more "})]})]})]},j.id))})}),T>1&&h.jsxs("div",{className:"flex justify-center items-center gap-4 mt-20",children:[h.jsx(Ye,{variant:"outline",onClick:()=>S(a-1),disabled:a===1,className:"border-gray-300 dark:border-gray-700 disabled:opacity-50",children:"Previous"}),h.jsxs("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:["Page ",a," of ",T]}),h.jsx(Ye,{variant:"outline",onClick:()=>S(a+1),disabled:a===T,className:"border-gray-300 dark:border-gray-700 disabled:opacity-50",children:"Next"})]})]},a+c)})]})})]}),h.jsx(hi,{})]})},Ele=()=>{const{slug:t}=Q_(),e=Pc(),[n,r]=w.useState(null),[i,a]=w.useState(!0),[l,c]=w.useState([]);return w.useEffect(()=>{(async()=>{if(t){a(!0);try{const f=Da(ai(Pt,"blog_posts"),q0("slug","==",t),i_(1)),p=await Ma(f);if(p.empty)r(null);else{const g=p.docs[0],b={id:g.id,...g.data()};r(b);const _=Da(ai(Pt,"blog_posts"),i_(4)),T=await Ma(_),S=[];T.forEach(I=>{I.id!==g.id&&S.push({id:I.id,...I.data()})}),c(S.slice(0,3))}}catch(f){console.error("Error fetching post:",f)}finally{a(!1)}}})(),window.scrollTo(0,0)},[t]),i?h.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex items-center justify-center",children:h.jsx(di,{className:"w-8 h-8 animate-spin text-indigo-600"})}):n?h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow pt-24",children:[h.jsxs("div",{className:"relative h-[60vh] min-h-[400px] w-full overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black/50 z-10"}),h.jsx("img",{src:n.image,alt:n.title,className:"absolute inset-0 w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 z-20 flex flex-col justify-end pb-16",children:h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl",children:[h.jsxs(tt,{to:"/blog",className:"inline-flex items-center text-white/80 hover:text-white mb-6 transition-colors",children:[h.jsx(sv,{className:"w-4 h-4 mr-2"})," Back to Blog"]}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-indigo-300 font-medium mb-4",children:[h.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-600/80 backdrop-blur-sm border border-indigo-500/50",children:n.category}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(um,{className:"w-4 h-4"})," ",n.readTime]})]}),h.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight",children:n.title}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/20",children:h.jsx(y5,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-white text-lg",children:n.author}),h.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm",children:[h.jsx(d1,{className:"w-3 h-3"})," ",n.date]})]})]})]})})})]}),h.jsx("article",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:h.jsxs("div",{className:"grid lg:grid-cols-12 gap-12",children:[h.jsxs("div",{className:"lg:col-span-8",children:[h.jsx(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"prose prose-lg dark:prose-invert max-w-none prose-indigo prose-headings:font-bold prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-6 prose-p:leading-relaxed prose-li:marker:text-indigo-600",dangerouslySetInnerHTML:{__html:n.content}}),h.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[h.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Share this article"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx(Ye,{variant:"outline",size:"icon",className:"rounded-full hover:text-indigo-600 hover:border-indigo-600",children:h.jsx(Sa,{className:"w-4 h-4"})}),h.jsx(Ye,{variant:"outline",size:"icon",className:"rounded-full hover:text-indigo-600 hover:border-indigo-600",children:h.jsx(Sc,{className:"w-4 h-4"})}),h.jsx(Ye,{variant:"outline",size:"icon",className:"rounded-full hover:text-indigo-600 hover:border-indigo-600",children:h.jsx(o5,{className:"w-4 h-4"})}),h.jsx(Ye,{variant:"outline",size:"icon",className:"rounded-full hover:text-indigo-600 hover:border-indigo-600",children:h.jsx(gne,{className:"w-4 h-4"})})]})]})]}),h.jsx("div",{className:"lg:col-span-4 space-y-8",children:h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 sticky top-24",children:[h.jsx("h3",{className:"text-xl font-bold mb-6 text-gray-900 dark:text-white",children:"Related Articles"}),h.jsx("div",{className:"space-y-6",children:l.map((d,f)=>h.jsxs(tt,{to:`/blog/${d.slug}`,className:"group block",children:[h.jsx("div",{className:"relative h-32 rounded-lg overflow-hidden mb-3",children:h.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"})}),h.jsx("h4",{className:"font-bold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors line-clamp-2 mb-1",children:d.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d.readTime})]},f))})]})})]})}),h.jsxs("section",{className:"py-20 bg-indigo-900 text-white relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),h.jsxs("div",{className:"container mx-auto px-4 text-center relative z-10",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Subscribe to our newsletter"}),h.jsx("p",{className:"text-indigo-200 mb-8 max-w-2xl mx-auto",children:"Get the latest AI insights and engineering tutorials delivered straight to your inbox."}),h.jsxs("div",{className:"flex max-w-md mx-auto gap-2",children:[h.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 rounded-full bg-white/10 border border-white/20 text-white placeholder:text-indigo-200 focus:outline-none focus:ring-2 focus:ring-white/50"}),h.jsx(Ye,{className:"rounded-full bg-white text-indigo-900 hover:bg-indigo-50 font-bold px-8",children:"Subscribe"})]})]})]})]}),h.jsx(hi,{})]}):h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 flex flex-col items-center justify-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Post not found"}),h.jsx(Ye,{onClick:()=>e("/blog"),children:"Back to Blog"})]})},Tle=()=>{const{scrollYProgress:t}=c1(),e=u1(t,{stiffness:100,damping:30,restDelta:.001}),[n,r]=w.useState("introduction"),i=[{id:"introduction",title:"1. Introduction"},{id:"data-collection",title:"2. Data We Collect"},{id:"data-usage",title:"3. How We Use Your Data"},{id:"data-security",title:"4. Data Security"},{id:"legal-rights",title:"5. Your Legal Rights"},{id:"contact",title:"6. Contact Us"}];w.useEffect(()=>{const c=()=>{const d=window.scrollY+200;for(const f of i){const p=document.getElementById(f.id);p&&p.offsetTop<=d&&r(f.id)}};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const a=()=>{window.print()},l=c=>{const d=document.getElementById(c);if(d){const f=d.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:f,behavior:"smooth"})}};return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(me.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-cyan-500 origin-left z-50",style:{scaleX:e}}),h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:"/privacy-hero.png",alt:"Privacy Policy Background",className:"w-full h-full object-cover opacity-50 dark:opacity-40"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-950/80 via-indigo-950/80 to-indigo-950 dark:from-black/80 dark:via-black/80 dark:to-black"})]}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden z-0",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"Legal"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-bold tracking-tight mb-8 text-white",children:["Privacy"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Policy"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-indigo-200 mb-10 leading-relaxed max-w-2xl mx-auto",children:"Transparency and trust are core to Lumina. Here's how we handle your data."})]})})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl py-20",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[h.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:h.jsxs("div",{className:"sticky top-32",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4 pl-4 border-l-2 border-transparent",children:"On this page"}),h.jsx("nav",{className:"space-y-1",children:i.map(c=>h.jsx("button",{onClick:()=>l(c.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors border-l-2 ${n===c.id?"border-indigo-600 text-indigo-600 dark:text-indigo-400 font-medium bg-indigo-50 dark:bg-indigo-900/10":"border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-700"}`,children:c.title},c.id))}),h.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Need the raw file?"}),h.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full gap-2 border-gray-200 dark:border-gray-700",onClick:a,children:[h.jsx(Km,{className:"w-4 h-4"}),"Download PDF"]})]})]})}),h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"flex-grow max-w-3xl",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-12 p-6 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(os,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Last Updated"}),h.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),h.jsxs(Ye,{onClick:a,variant:"ghost",className:"gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400",children:[h.jsx(p1,{className:"w-4 h-4"}),"Print Policy"]})]}),h.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-16",children:[h.jsxs("section",{id:"introduction",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white group",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"1"}),"Introduction"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Welcome to Lumina. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website (regardless of where you visit it from) and tell you about your privacy rights and how the law protects you."})]}),h.jsxs("section",{id:"data-collection",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"2"}),"Data We Collect"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-6",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),h.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:[{title:"Identity Data",desc:"First name, last name, username"},{title:"Contact Data",desc:"Email, telephone, address"},{title:"Technical Data",desc:"IP address, browser, time zone"},{title:"Usage Data",desc:"How you use our website"}].map((c,d)=>h.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800",children:[h.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:c.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.desc})]},d))})]}),h.jsxs("section",{id:"data-usage",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"3"}),"How We Use Your Data"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-4",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),h.jsx("ul",{className:"space-y-3",children:["To perform the contract we are about to enter into with you.","Where it is necessary for our legitimate interests (or those of a third party).","Where we need to comply with a legal or regulatory obligation."].map((c,d)=>h.jsxs("li",{className:"flex items-start gap-3 text-gray-600 dark:text-gray-300",children:[h.jsx(Xd,{className:"w-5 h-5 text-indigo-500 mt-0.5 flex-shrink-0"}),h.jsx("span",{children:c})]},d))})]}),h.jsxs("section",{id:"data-security",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"4"}),"Data Security"]}),h.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 border-l-4 border-indigo-500 p-6 rounded-r-xl",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(e0,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 flex-shrink-0 mt-1"}),h.jsx("p",{className:"text-gray-700 dark:text-gray-300 italic",children:'"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way."'})]})})]}),h.jsxs("section",{id:"legal-rights",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"5"}),"Your Legal Rights"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-6",children:"Under certain circumstances, you have rights under data protection laws in relation to your personal data:"}),h.jsx("ul",{className:"grid sm:grid-cols-2 gap-3",children:["Request access","Request correction","Request erasure","Object to processing","Request restriction","Request transfer","Withdraw consent"].map((c,d)=>h.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-800/50 px-3 py-2 rounded-lg border border-gray-100 dark:border-gray-800",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),c]},d))})]}),h.jsxs("section",{id:"contact",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"6"}),"Contact Us"]}),h.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-8 shadow-xl overflow-hidden relative",children:[h.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:h.jsx(e0,{className:"w-32 h-32"})}),h.jsx("h3",{className:"text-xl font-bold mb-4 relative z-10",children:"Data Protection Officer"}),h.jsx("p",{className:"text-gray-300 mb-8 relative z-10 max-w-lg",children:"For specific questions regarding your personal data or to exercise your rights, please contact our dedicated DPO team."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 relative z-10",children:[h.jsxs("a",{href:"mailto:privacy@lumina.ai",className:"inline-flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[h.jsx(Wm,{className:"w-5 h-5"}),"Email DPO"]}),h.jsx("button",{className:"inline-flex items-center justify-center gap-2 bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition-colors border border-gray-700",children:"View Compliance Certs"})]})]})]})]})]})]})})]}),h.jsx(hi,{})]})},Sle=()=>{const{scrollYProgress:t}=c1(),e=u1(t,{stiffness:100,damping:30,restDelta:.001}),[n,r]=w.useState("acceptance"),i=[{id:"acceptance",title:"1. Acceptance of Terms"},{id:"use-license",title:"2. Use License"},{id:"disclaimer",title:"3. Disclaimer"},{id:"limitations",title:"4. Limitations"},{id:"revisions",title:"5. Revisions"},{id:"governing-law",title:"6. Governing Law"}];w.useEffect(()=>{const c=()=>{const d=window.scrollY+200;for(const f of i){const p=document.getElementById(f.id);p&&p.offsetTop<=d&&r(f.id)}};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const a=()=>{window.print()},l=c=>{const d=document.getElementById(c);if(d){const f=d.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:f,behavior:"smooth"})}};return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(me.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-cyan-500 origin-left z-50",style:{scaleX:e}}),h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:"/privacy-hero.png",alt:"Terms Background",className:"w-full h-full object-cover opacity-50 dark:opacity-40"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-950/80 via-indigo-950/80 to-indigo-950 dark:from-black/80 dark:via-black/80 dark:to-black"})]}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden z-0",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"Legal"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-bold tracking-tight mb-8 text-white",children:["Terms of"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Service"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-indigo-200 mb-10 leading-relaxed max-w-2xl mx-auto",children:"Please read these terms carefully before using our service."})]})})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl py-20",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[h.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:h.jsxs("div",{className:"sticky top-32",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4 pl-4 border-l-2 border-transparent",children:"On this page"}),h.jsx("nav",{className:"space-y-1",children:i.map(c=>h.jsx("button",{onClick:()=>l(c.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors border-l-2 ${n===c.id?"border-indigo-600 text-indigo-600 dark:text-indigo-400 font-medium bg-indigo-50 dark:bg-indigo-900/10":"border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-700"}`,children:c.title},c.id))}),h.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Need the raw file?"}),h.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full gap-2 border-gray-200 dark:border-gray-700",onClick:a,children:[h.jsx(Km,{className:"w-4 h-4"}),"Download PDF"]})]})]})}),h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"flex-grow max-w-3xl",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-12 p-6 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(os,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Last Updated"}),h.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),h.jsxs(Ye,{onClick:a,variant:"ghost",className:"gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400",children:[h.jsx(p1,{className:"w-4 h-4"}),"Print Terms"]})]}),h.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-16",children:[h.jsxs("section",{id:"acceptance",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white group",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"1"}),"Acceptance of Terms"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"By accessing and placing an order with Lumina, you confirm that you are in agreement with and bound by the terms of service contained in the Terms & Conditions outlined below. These terms apply to the entire website and any email or other type of communication between you and Lumina."})]}),h.jsxs("section",{id:"use-license",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"2"}),"Use License"]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl border border-gray-100 dark:border-gray-800 mb-6",children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Lumina's website for personal, non-commercial transitory viewing only."}),h.jsx("ul",{className:"space-y-2",children:["Modify or copy the materials","Use the materials for any commercial purpose","Attempt to decompile or reverse engineer any software","Remove any copyright or other proprietary notations"].map((c,d)=>h.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[h.jsx(f1,{className:"w-4 h-4 text-indigo-500"}),c]},d))})]})]}),h.jsxs("section",{id:"disclaimer",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"3"}),"Disclaimer"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:`The materials on Lumina's website are provided "as is". Lumina makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties, including without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.`})]}),h.jsxs("section",{id:"limitations",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"4"}),"Limitations"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"In no event shall Lumina or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Lumina's website, even if Lumina or a Lumina authorized representative has been notified orally or in writing of the possibility of such damage."})]}),h.jsxs("section",{id:"revisions",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"5"}),"Revisions and Errata"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"The materials appearing on Lumina's website could include technical, typographical, or photographic errors. Lumina does not warrant that any of the materials on its website are accurate, complete, or current. Lumina may make changes to the materials contained on its website at any time without notice."})]}),h.jsxs("section",{id:"governing-law",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"6"}),"Governing Law"]}),h.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 shadow-sm",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx(une,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-4",children:"Any claim relating to Lumina's website shall be governed by the laws of the State of Delaware without regard to its conflict of law provisions."}),h.jsx("p",{className:"text-sm text-gray-500",children:"General Terms and Conditions applicable to Use of a Web Site."})]})]})})]})]})]})]})})]}),h.jsx(hi,{})]})};function Ale(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Nle(i,...e)]}function Nle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function m3(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function p3(t){const[e,n]=w.useState(void 0);return Tn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function Ile(t){const e=Cle(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(kle);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Cle(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=Ple(i),c=jle(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rle=Symbol("radix.slottable");function kle(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rle}function jle(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Ple(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],g3=Dle.reduce((t,e)=>{const n=Ile(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),hv="Switch",[Mle]=Ale(hv),[Ole,Vle]=Mle(hv),y3=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:l,disabled:c,value:d="on",onCheckedChange:f,form:p,...g}=t,[b,_]=w.useState(null),T=Ft(e,j=>_(j)),S=w.useRef(!1),I=b?p||!!b.closest("form"):!0,[R,D]=Ac({prop:i,defaultProp:a??!1,onChange:f,caller:hv});return h.jsxs(Ole,{scope:n,checked:R,disabled:c,children:[h.jsx(g3.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":w3(R),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:T,onClick:Rt(t.onClick,j=>{D(z=>!z),I&&(S.current=j.isPropagationStopped(),S.current||j.stopPropagation())})}),I&&h.jsx(b3,{control:b,bubbles:!S.current,name:r,value:d,checked:R,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});y3.displayName=hv;var v3="SwitchThumb",x3=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Vle(v3,n);return h.jsx(g3.span,{"data-state":w3(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});x3.displayName=v3;var Lle="SwitchBubbleInput",b3=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const l=w.useRef(null),c=Ft(l,a),d=m3(n),f=p3(e);return w.useEffect(()=>{const p=l.current;if(!p)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&_){const T=new Event("click",{bubbles:r});_.call(p,n),p.dispatchEvent(T)}},[d,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:c,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});b3.displayName=Lle;function w3(t){return t?"checked":"unchecked"}var _3=y3,Ule=x3;const E3=w.forwardRef(({className:t,...e},n)=>h.jsx(_3,{className:Ze("peer inline-flex h-[24px] w-[44px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(Ule,{className:Ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));E3.displayName=_3.displayName;const Ble=()=>{const{scrollYProgress:t}=c1(),e=u1(t,{stiffness:100,damping:30,restDelta:.001}),[n,r]=w.useState("what-are-cookies"),[i,a]=w.useState({essential:!0,analytics:!0,marketing:!1,functional:!0}),l=[{id:"what-are-cookies",title:"1. What Are Cookies"},{id:"how-we-use",title:"2. How We Use Cookies"},{id:"types-of-cookies",title:"3. Types of Cookies"},{id:"managing-cookies",title:"4. Managing Cookies"},{id:"preferences",title:"5. Your Preferences"}];w.useEffect(()=>{const f=()=>{const p=window.scrollY+200;for(const g of l){const b=document.getElementById(g.id);b&&b.offsetTop<=p&&r(g.id)}};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const c=()=>{window.print()},d=f=>{const p=document.getElementById(f);if(p){const g=p.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:g,behavior:"smooth"})}};return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(me.div,{className:"fixed top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-cyan-500 origin-left z-50",style:{scaleX:e}}),h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{src:"/privacy-hero.png",alt:"Cookie Policy Background",className:"w-full h-full object-cover opacity-50 dark:opacity-40"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-950/80 via-indigo-950/80 to-indigo-950 dark:from-black/80 dark:via-black/80 dark:to-black"})]}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden z-0",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-4xl mx-auto",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsxs("span",{className:"relative flex h-2 w-2",children:[h.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),h.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-indigo-500"})]}),"Legal"]}),h.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-7xl font-bold tracking-tight mb-8 text-white",children:["Cookie"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Policy"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-indigo-200 mb-10 leading-relaxed max-w-2xl mx-auto",children:"Understanding how and why we use cookies to improve your experience."})]})})]}),h.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl py-20",children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-16",children:[h.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:h.jsxs("div",{className:"sticky top-32",children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider mb-4 pl-4 border-l-2 border-transparent",children:"On this page"}),h.jsx("nav",{className:"space-y-1",children:l.map(f=>h.jsx("button",{onClick:()=>d(f.id),className:`block w-full text-left px-4 py-2 text-sm transition-colors border-l-2 ${n===f.id?"border-indigo-600 text-indigo-600 dark:text-indigo-400 font-medium bg-indigo-50 dark:bg-indigo-900/10":"border-transparent text-gray-500 hover:text-gray-900 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-700"}`,children:f.title},f.id))}),h.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100 dark:border-gray-800",children:[h.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Need the raw file?"}),h.jsxs(Ye,{variant:"outline",size:"sm",className:"w-full gap-2 border-gray-200 dark:border-gray-700",onClick:c,children:[h.jsx(Km,{className:"w-4 h-4"}),"Download PDF"]})]})]})}),h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"flex-grow max-w-3xl",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-12 p-6 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(gk,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Last Updated"}),h.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),h.jsxs(Ye,{onClick:c,variant:"ghost",className:"gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400",children:[h.jsx(p1,{className:"w-4 h-4"}),"Print Policy"]})]}),h.jsxs("div",{className:"prose prose-lg dark:prose-invert max-w-none space-y-16",children:[h.jsxs("section",{id:"what-are-cookies",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white group",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"1"}),"What Are Cookies"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed max-w-none",children:"Cookies are small text files that are placed on your computer or mobile device by websites that you visit. They are widely used in order to make websites work, or work more efficiently, as well as to provide information to the owners of the site. Lumina uses cookies to distinguish you from other users of our website."})]}),h.jsxs("section",{id:"how-we-use",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"2"}),"How We Use Cookies"]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-6 rounded-xl border border-gray-100 dark:border-gray-800 mb-6",children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"We use cookies for a variety of reasons detailed below. Unfortunately, in most cases there are no industry standard options for disabling cookies without completely disabling the functionality and features they add to this site."}),h.jsx("ul",{className:"space-y-2",children:["To keep you signed in","To understand how you use the site","To remember your preferences","To provide personalized content"].map((f,p)=>h.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[h.jsx(f1,{className:"w-4 h-4 text-indigo-500"}),f]},p))})]})]}),h.jsxs("section",{id:"types-of-cookies",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"3"}),"Types of Cookies We Use"]}),h.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:[{title:"Essential Cookies",desc:"Necessary for the website to function properly. You cannot opt-out of these."},{title:"Analytics Cookies",desc:"Help us understand how visitors interact with the website."},{title:"Functional Cookies",desc:"Enable enhanced functionality and personalization."},{title:"Marketing Cookies",desc:"Used to track visitors across websites to display relevant ads."}].map((f,p)=>h.jsxs("div",{className:"p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800",children:[h.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 flex items-center gap-2",children:[h.jsx(gk,{className:"w-4 h-4 text-indigo-500"}),f.title]}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.desc})]},p))})]}),h.jsxs("section",{id:"managing-cookies",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"4"}),"Managing Cookies"]}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed mb-4",children:["Most web browsers allow some control of most cookies through the browser settings. To find out more about cookies, including how to see what cookies have been set, visit"," ",h.jsx("a",{href:"http://www.aboutcookies.org",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:"www.aboutcookies.org"})," ","or"," ",h.jsx("a",{href:"http://www.allaboutcookies.org",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:"www.allaboutcookies.org"}),"."]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"Find out how to manage cookies on popular browsers:"}),h.jsxs("ul",{className:"mt-2 space-y-1 text-gray-600 dark:text-gray-300 list-disc list-inside",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"Google Chrome"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"Mozilla Firefox"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"Apple Safari"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-indigo-500",children:"Microsoft Edge"})})]})]}),h.jsxs("section",{id:"preferences",className:"scroll-mt-32",children:[h.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:[h.jsx("span",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center text-sm text-indigo-600 dark:text-indigo-400",children:"5"}),"Your Preferences"]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[h.jsx(Ym,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400 flex-shrink-0"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Cookie Settings"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Manage your cookie preferences for this website."})]})]}),h.jsx("div",{className:"space-y-6",children:[{key:"essential",label:"Essential Cookies",desc:"Required for basic site functionality.",disabled:!0},{key:"analytics",label:"Analytics Cookies",desc:"Help us improve our website."},{key:"marketing",label:"Marketing Cookies",desc:"Used for targeted advertising."},{key:"functional",label:"Functional Cookies",desc:"Allow for personalization."}].map(f=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(kn,{htmlFor:f.key,className:"text-base font-medium text-gray-900 dark:text-white",children:f.label}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.desc})]}),h.jsx(E3,{id:f.key,checked:i[f.key],disabled:f.disabled,onCheckedChange:p=>a(g=>({...g,[f.key]:p}))})]},f.key))}),h.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-800 flex justify-end",children:h.jsx(Ye,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Save Preferences"})})]})]})]})]})]})})]}),h.jsx(hi,{})]})},Fle=()=>{const[t,e]=w.useState("All"),n=[{name:"TechCorp",icon:hf},{name:"InnovateLabs",icon:Xi},{name:"GlobalSystems",icon:Aa},{name:"FutureWorks",icon:k_},{name:"AlphaStream",icon:hf},{name:"OmegaSolutions",icon:Xi},{name:"TechCorp",icon:hf},{name:"InnovateLabs",icon:Xi},{name:"GlobalSystems",icon:Aa},{name:"FutureWorks",icon:k_},{name:"AlphaStream",icon:hf},{name:"OmegaSolutions",icon:Xi}],r=[{label:"Content Generated",value:"10M+",icon:Xi},{label:"Enterprise Clients",value:"500+",icon:hf},{label:"Customer Satisfaction",value:"98%",icon:_ne},{label:"Support Response",value:"24/7",icon:Aa}],i=[{company:"TechFlow Solutions",industry:"SaaS",result:"200% Increase in Leads",description:"How TechFlow used Lumina's AI content generation to scale their inbound marketing and triple their organic traffic in 3 months.",image:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1632&q=80"},{company:"Creative Pulse",industry:"Marketing Agency",result:"40hrs/week Saved",description:"Creative Pulse automated their client reporting and content scheduling, allowing them to take on 5x more clients without hiring.",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"},{company:"Growth Master",industry:"E-commerce",result:"15% Conversion Boost",description:"By personalizing product descriptions at scale with Lumina, Growth Master saw a significant uptick in add-to-cart rates.",image:"https://images.unsplash.com/photo-1664575602276-acd073f104c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"},{company:"NextGen Health",industry:"Healthcare",result:"30% Lower CAC",description:"NextGen Health utilized Lumina to create targeted educational content, significantly reducing their customer acquisition costs.",image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80"}],a=t==="All"?i:i.filter(c=>c.industry===t),l=[{name:"Alex Chen",handle:"@alexc_dev",avatar:"AC",content:"Just tried Lumina for the first time. Mind blown.  The quality of the output is lightyears ahead of anything else I've used.",source:"Twitter",icon:Sa},{name:"Sarah Miller",handle:"@sarahm_marketing",avatar:"SM",content:"Lumina saved me about 15 hours this week alone. If you're in content marketing and not using this, you're doing it wrong.",source:"Twitter",icon:Sa},{name:"David Park",handle:"David Park",avatar:"DP",content:"Incredible tool for scaling agency operations. We've doubled our client capacity without increasing headcount.",source:"LinkedIn",icon:Sc},{name:"Emily Zhang",handle:"@emilyz_design",avatar:"EZ",content:"The new image generation features in Lumina are game-changing. Perfect for quick mockups and social assets.",source:"Twitter",icon:Sa},{name:"James Wilson",handle:"James Wilson",avatar:"JW",content:"Customer support is top notch. Had a small issue and it was resolved in minutes. Highly recommend!",source:"LinkedIn",icon:Sc},{name:"Lisa Torres",handle:"@lisat_writer",avatar:"LT",content:"As a freelance writer, I was skeptical. But Lumina acts more like a research assistant than a replacement. Love it.",source:"Twitter",icon:Sa}];return h.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-white font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900/30 selection:text-indigo-900 dark:selection:text-indigo-100 flex flex-col",children:[h.jsx(Br,{}),h.jsxs("main",{className:"flex-grow",children:[h.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden bg-indigo-950 dark:bg-black",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-[40%] -left-[20%] w-[70%] h-[70%] rounded-full bg-indigo-900/20 dark:bg-indigo-900/40 blur-3xl"}),h.jsx("div",{className:"absolute top-[20%] -right-[20%] w-[60%] h-[60%] rounded-full bg-indigo-800/20 dark:bg-indigo-800/30 blur-3xl"})]}),h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[h.jsx("div",{className:"text-center max-w-4xl mx-auto mb-16",children:h.jsxs(me.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[h.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-900/50 border border-indigo-800 text-indigo-300 text-sm font-medium mb-6",children:[h.jsx(Aa,{className:"w-4 h-4"}),"Customer Stories"]}),h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-8 text-white",children:["Trusted by absolute"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-cyan-400",children:"Industry Leaders"})]}),h.jsx("p",{className:"text-xl text-indigo-200 leading-relaxed max-w-2xl mx-auto",children:"Join thousands of forward-thinking companies using Lumina to power their next phase of growth."})]})}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto mb-20 border-y border-indigo-800/30 py-12",children:r.map((c,d)=>h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:d*.1},className:"text-center",children:[h.jsx("div",{className:"w-10 h-10 mx-auto bg-indigo-900/30 rounded-full flex items-center justify-center text-indigo-400 mb-3 border border-indigo-800/50",children:h.jsx(c.icon,{className:"w-5 h-5"})}),h.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:c.value}),h.jsx("div",{className:"text-sm text-indigo-300",children:c.label})]},d))}),h.jsxs("div",{className:"relative w-full overflow-hidden py-10",children:[h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-indigo-950 dark:from-black to-transparent z-10"}),h.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-indigo-950 dark:from-black to-transparent z-10"}),h.jsx(me.div,{className:"flex gap-16 items-center w-max",animate:{x:["0%","-50%"]},transition:{repeat:1/0,ease:"linear",duration:20},children:[...n,...n].map((c,d)=>h.jsxs("div",{className:"flex flex-col items-center gap-2 group cursor-pointer opacity-50 hover:opacity-100 transition-opacity",children:[h.jsx("div",{className:"w-12 h-12 bg-indigo-900/20 rounded-xl flex items-center justify-center group-hover:bg-indigo-900/40 transition-colors border border-indigo-800/30",children:h.jsx(c.icon,{className:"w-6 h-6 text-indigo-400 group-hover:text-white transition-colors"})}),h.jsx("span",{className:"text-sm font-semibold text-indigo-300 group-hover:text-white transition-colors",children:c.name})]},d))})]})]})]}),h.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-900/30",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12",children:[h.jsxs("div",{className:"max-w-xl",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Success Stories"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"See how real companies are achieving tangible results with our platform."})]}),h.jsx("div",{className:"flex gap-2 mt-4 md:mt-0 overflow-x-auto pb-2 md:pb-0",children:["All","SaaS","Marketing Agency","E-commerce","Healthcare"].map(c=>h.jsx("button",{onClick:()=>e(c),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ${t===c?"bg-indigo-600 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:c},c))})]}),h.jsx(me.div,{layout:!0,className:"grid md:grid-cols-3 gap-8",children:h.jsx(Ad,{mode:"popLayout",children:a.map(c=>h.jsxs(me.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"bg-white dark:bg-gray-900 rounded-2xl overflow-hidden border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-all",children:[h.jsxs("div",{className:"h-48 overflow-hidden relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10"}),h.jsx("img",{src:c.image,alt:c.company,className:"w-full h-full object-cover transform hover:scale-105 transition-transform duration-700"}),h.jsx("div",{className:"absolute bottom-4 left-4 z-20",children:h.jsx("span",{className:"px-3 py-1 rounded-full bg-white/20 backdrop-blur-md text-white text-xs font-medium border border-white/30",children:c.industry})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-bold mb-2",children:c.company}),h.jsx("div",{className:"mb-4",children:h.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-cyan-500",children:c.result})}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed mb-6",children:c.description}),h.jsx("a",{href:"#",className:"inline-flex items-center text-indigo-600 dark:text-indigo-400 font-medium text-sm hover:underline",children:"Read Case Study"})]})]},c.company))})})]})}),h.jsx("section",{className:"py-20 overflow-hidden",children:h.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[h.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Wall of Love"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Don't just take our word for it. Here's what the community is saying."})]}),h.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8",children:l.map((c,d)=>h.jsxs(me.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:d*.1},className:"break-inside-avoid bg-white dark:bg-gray-900 p-6 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900 dark:to-purple-900 flex items-center justify-center text-indigo-700 dark:text-indigo-300 font-bold text-sm",children:c.avatar}),h.jsxs("div",{children:[h.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:c.name}),h.jsx("div",{className:"text-xs text-gray-500",children:c.handle})]})]}),h.jsx(c.icon,{className:"w-4 h-4 text-gray-400"})]}),h.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:c.content})]},d))})]})}),h.jsxs("section",{className:"py-20 bg-indigo-900 dark:bg-black text-white text-center relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),h.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to write your success story?"}),h.jsx("p",{className:"text-indigo-200 mb-8 max-w-2xl mx-auto",children:"Join the growing list of companies transforming their business with Lumina."}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsx(Ye,{size:"lg",className:"bg-white text-indigo-900 hover:bg-gray-100 font-semibold",children:"Get Started Now"}),h.jsx(Ye,{size:"lg",variant:"outline",className:"border-indigo-400 text-indigo-100 hover:bg-indigo-800 hover:text-white",children:"Book a Demo"})]})]})]})]}),h.jsx(hi,{})]})},zle=()=>{const[t,e]=w.useState(!1),n=()=>{window.scrollY>300?e(!0):e(!1)},r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return w.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),h.jsx(Ad,{children:t&&h.jsx(me.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"fixed bottom-8 right-8 z-50",children:h.jsx("button",{onClick:r,className:"p-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full shadow-lg transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900","aria-label":"Scroll to top",children:h.jsx(ete,{className:"w-6 h-6"})})})})};var Hle=(t,e,n,r,i,a,l,c)=>{let d=document.documentElement,f=["light","dark"];function p(_){(Array.isArray(t)?t:[t]).forEach(T=>{let S=T==="class",I=S&&a?i.map(R=>a[R]||R):i;S?(d.classList.remove(...I),d.classList.add(a&&a[_]?a[_]:_)):d.setAttribute(T,_)}),g(_)}function g(_){c&&f.includes(_)&&(d.style.colorScheme=_)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let _=localStorage.getItem(e)||n,T=l&&_==="system"?b():_;p(T)}catch{}},$le=w.createContext(void 0),qle={setTheme:t=>{},themes:[]},Gle=()=>{var t;return(t=w.useContext($le))!=null?t:qle};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:l,themes:c,nonce:d,scriptProps:f})=>{let p=JSON.stringify([n,e,a,t,c,l,r,i]).slice(1,-1);return w.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${Hle.toString()})(${p})`}})});const Kle=({...t})=>{const{theme:e="system"}=Gle();return h.jsx(yae,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},O1=w.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:Ze("w-full caption-bottom text-sm",t),...e})}));O1.displayName="Table";const V1=w.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:Ze("[&_tr]:border-b",t),...e}));V1.displayName="TableHeader";const L1=w.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:Ze("[&_tr:last-child]:border-0",t),...e}));L1.displayName="TableBody";const Wle=w.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Wle.displayName="TableFooter";const uc=w.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));uc.displayName="TableRow";const Ji=w.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:Ze("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Ji.displayName="TableHead";const ii=w.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:Ze("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ii.displayName="TableCell";const Yle=w.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:Ze("mt-4 text-sm text-muted-foreground",t),...e}));Yle.displayName="TableCaption";function uj(t,[e,n]){return Math.min(n,Math.max(e,t))}function Qle(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,Xle(i,...e)]}function Xle(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}const Jle=["top","right","bottom","left"],nl=Math.min,si=Math.max,s0=Math.round,qg=Math.floor,qs=t=>({x:t,y:t}),Zle={left:"right",right:"left",bottom:"top",top:"bottom"},ece={start:"end",end:"start"};function L_(t,e,n){return si(t,nl(e,n))}function Va(t,e){return typeof t=="function"?t(e):t}function La(t){return t.split("-")[0]}function eh(t){return t.split("-")[1]}function U1(t){return t==="x"?"y":"x"}function B1(t){return t==="y"?"height":"width"}const tce=new Set(["top","bottom"]);function Us(t){return tce.has(La(t))?"y":"x"}function F1(t){return U1(Us(t))}function nce(t,e,n){n===void 0&&(n=!1);const r=eh(t),i=F1(t),a=B1(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=a0(l)),[l,a0(l)]}function rce(t){const e=a0(t);return[U_(t),e,U_(e)]}function U_(t){return t.replace(/start|end/g,e=>ece[e])}const dj=["left","right"],hj=["right","left"],ice=["top","bottom"],sce=["bottom","top"];function ace(t,e,n){switch(t){case"top":case"bottom":return n?e?hj:dj:e?dj:hj;case"left":case"right":return e?ice:sce;default:return[]}}function oce(t,e,n,r){const i=eh(t);let a=ace(La(t),n==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(U_)))),a}function a0(t){return t.replace(/left|right|bottom|top/g,e=>Zle[e])}function lce(t){return{top:0,right:0,bottom:0,left:0,...t}}function T3(t){return typeof t!="number"?lce(t):{top:t,right:t,bottom:t,left:t}}function o0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function fj(t,e,n){let{reference:r,floating:i}=t;const a=Us(e),l=F1(e),c=B1(l),d=La(e),f=a==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[c]/2-i[c]/2;let _;switch(d){case"top":_={x:p,y:r.y-i.height};break;case"bottom":_={x:p,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-i.width,y:g};break;default:_={x:r.x,y:r.y}}switch(eh(e)){case"start":_[l]-=b*(n&&f?-1:1);break;case"end":_[l]+=b*(n&&f?-1:1);break}return _}const cce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=fj(f,r,d),b=r,_={},T=0;for(let S=0;S<c.length;S++){const{name:I,fn:R}=c[S],{x:D,y:j,data:z,reset:$}=await R({x:p,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:_,rects:f,platform:l,elements:{reference:t,floating:e}});p=D??p,g=j??g,_={..._,[I]:{..._[I],...z}},$&&T<=50&&(T++,typeof $=="object"&&($.placement&&(b=$.placement),$.rects&&(f=$.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):$.rects),{x:p,y:g}=fj(f,b,d)),S=-1)}return{x:p,y:g,placement:b,strategy:i,middlewareData:_}};async function gm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:_=0}=Va(e,t),T=T3(_),I=c[b?g==="floating"?"reference":"floating":g],R=o0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(I)))==null||n?I:I.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),D=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},$=o0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:j,strategy:d}):D);return{top:(R.top-$.top+T.top)/z.y,bottom:($.bottom-R.bottom+T.bottom)/z.y,left:(R.left-$.left+T.left)/z.x,right:($.right-R.right+T.right)/z.x}}const uce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=Va(t,e)||{};if(f==null)return{};const g=T3(p),b={x:n,y:r},_=F1(i),T=B1(_),S=await l.getDimensions(f),I=_==="y",R=I?"top":"left",D=I?"bottom":"right",j=I?"clientHeight":"clientWidth",z=a.reference[T]+a.reference[_]-b[_]-a.floating[T],$=b[_]-a.reference[_],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let k=Y?Y[j]:0;(!k||!await(l.isElement==null?void 0:l.isElement(Y)))&&(k=c.floating[j]||a.floating[T]);const C=z/2-$/2,O=k/2-S[T]/2-1,U=nl(g[R],O),L=nl(g[D],O),H=U,V=k-S[T]-L,Ee=k/2-S[T]/2+C,ke=L_(H,Ee,V),G=!d.arrow&&eh(i)!=null&&Ee!==ke&&a.reference[T]/2-(Ee<H?U:L)-S[T]/2<0,te=G?Ee<H?Ee-H:Ee-V:0;return{[_]:b[_]+te,data:{[_]:ke,centerOffset:Ee-ke-te,...G&&{alignmentOffset:te}},reset:G}}}),dce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...I}=Va(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const R=La(i),D=Us(c),j=La(c)===c,z=await(d.isRTL==null?void 0:d.isRTL(f.floating)),$=b||(j||!S?[a0(c)]:rce(c)),Y=T!=="none";!b&&Y&&$.push(...oce(c,S,T,z));const k=[c,...$],C=await gm(e,I),O=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&O.push(C[R]),g){const Ee=nce(i,l,z);O.push(C[Ee[0]],C[Ee[1]])}if(U=[...U,{placement:i,overflows:O}],!O.every(Ee=>Ee<=0)){var L,H;const Ee=(((L=a.flip)==null?void 0:L.index)||0)+1,ke=k[Ee];if(ke&&(!(g==="alignment"?D!==Us(ke):!1)||U.every(W=>Us(W.placement)===D?W.overflows[0]>0:!0)))return{data:{index:Ee,overflows:U},reset:{placement:ke}};let G=(H=U.filter(te=>te.overflows[0]<=0).sort((te,W)=>te.overflows[1]-W.overflows[1])[0])==null?void 0:H.placement;if(!G)switch(_){case"bestFit":{var V;const te=(V=U.filter(W=>{if(Y){const be=Us(W.placement);return be===D||be==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(be=>be>0).reduce((be,Te)=>be+Te,0)]).sort((W,be)=>W[1]-be[1])[0])==null?void 0:V[0];te&&(G=te);break}case"initialPlacement":G=c;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function mj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function pj(t){return Jle.some(e=>t[e]>=0)}const hce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Va(t,e);switch(r){case"referenceHidden":{const a=await gm(e,{...i,elementContext:"reference"}),l=mj(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:pj(l)}}}case"escaped":{const a=await gm(e,{...i,altBoundary:!0}),l=mj(a,n.floating);return{data:{escapedOffsets:l,escaped:pj(l)}}}default:return{}}}}},S3=new Set(["left","top"]);async function fce(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=La(n),c=eh(n),d=Us(n)==="y",f=S3.has(l)?-1:1,p=a&&d?-1:1,g=Va(e,t);let{mainAxis:b,crossAxis:_,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof T=="number"&&(_=c==="end"?T*-1:T),d?{x:_*p,y:b*f}:{x:b*f,y:_*p}}const mce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:l,middlewareData:c}=e,d=await fce(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:l}}}}},pce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:I=>{let{x:R,y:D}=I;return{x:R,y:D}}},...d}=Va(t,e),f={x:n,y:r},p=await gm(e,d),g=Us(La(i)),b=U1(g);let _=f[b],T=f[g];if(a){const I=b==="y"?"top":"left",R=b==="y"?"bottom":"right",D=_+p[I],j=_-p[R];_=L_(D,_,j)}if(l){const I=g==="y"?"top":"left",R=g==="y"?"bottom":"right",D=T+p[I],j=T-p[R];T=L_(D,T,j)}const S=c.fn({...e,[b]:_,[g]:T});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[b]:a,[g]:l}}}}}},gce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=Va(t,e),p={x:n,y:r},g=Us(i),b=U1(g);let _=p[b],T=p[g];const S=Va(c,e),I=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(d){const j=b==="y"?"height":"width",z=a.reference[b]-a.floating[j]+I.mainAxis,$=a.reference[b]+a.reference[j]-I.mainAxis;_<z?_=z:_>$&&(_=$)}if(f){var R,D;const j=b==="y"?"width":"height",z=S3.has(La(i)),$=a.reference[g]-a.floating[j]+(z&&((R=l.offset)==null?void 0:R[g])||0)+(z?0:I.crossAxis),Y=a.reference[g]+a.reference[j]+(z?0:((D=l.offset)==null?void 0:D[g])||0)-(z?I.crossAxis:0);T<$?T=$:T>Y&&(T=Y)}return{[b]:_,[g]:T}}}},yce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:d=()=>{},...f}=Va(t,e),p=await gm(e,f),g=La(i),b=eh(i),_=Us(i)==="y",{width:T,height:S}=a.floating;let I,R;g==="top"||g==="bottom"?(I=g,R=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(R=g,I=b==="end"?"top":"bottom");const D=S-p.top-p.bottom,j=T-p.left-p.right,z=nl(S-p[I],D),$=nl(T-p[R],j),Y=!e.middlewareData.shift;let k=z,C=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=D),Y&&!b){const U=si(p.left,0),L=si(p.right,0),H=si(p.top,0),V=si(p.bottom,0);_?C=T-2*(U!==0||L!==0?U+L:si(p.left,p.right)):k=S-2*(H!==0||V!==0?H+V:si(p.top,p.bottom))}await d({...e,availableWidth:C,availableHeight:k});const O=await l.getDimensions(c.floating);return T!==O.width||S!==O.height?{reset:{rects:!0}}:{}}}};function fv(){return typeof window<"u"}function th(t){return A3(t)?(t.nodeName||"").toLowerCase():"#document"}function li(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zs(t){var e;return(e=(A3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function A3(t){return fv()?t instanceof Node||t instanceof li(t).Node:!1}function ls(t){return fv()?t instanceof Element||t instanceof li(t).Element:!1}function Ys(t){return fv()?t instanceof HTMLElement||t instanceof li(t).HTMLElement:!1}function gj(t){return!fv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof li(t).ShadowRoot}const vce=new Set(["inline","contents"]);function Zm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!vce.has(i)}const xce=new Set(["table","td","th"]);function bce(t){return xce.has(th(t))}const wce=[":popover-open",":modal"];function mv(t){return wce.some(e=>{try{return t.matches(e)}catch{return!1}})}const _ce=["transform","translate","scale","rotate","perspective"],Ece=["transform","translate","scale","rotate","perspective","filter"],Tce=["paint","layout","strict","content"];function z1(t){const e=H1(),n=ls(t)?cs(t):t;return _ce.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Ece.some(r=>(n.willChange||"").includes(r))||Tce.some(r=>(n.contain||"").includes(r))}function Sce(t){let e=rl(t);for(;Ys(e)&&!Rd(e);){if(z1(e))return e;if(mv(e))return null;e=rl(e)}return null}function H1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ace=new Set(["html","body","#document"]);function Rd(t){return Ace.has(th(t))}function cs(t){return li(t).getComputedStyle(t)}function pv(t){return ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rl(t){if(th(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gj(t)&&t.host||Zs(t);return gj(e)?e.host:e}function N3(t){const e=rl(t);return Rd(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Zm(e)?e:N3(e)}function ym(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=N3(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),l=li(i);if(a){const c=B_(l);return e.concat(l,l.visualViewport||[],Zm(i)?i:[],c&&n?ym(c):[])}return e.concat(i,ym(i,[],n))}function B_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function I3(t){const e=cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ys(t),a=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=s0(n)!==a||s0(r)!==l;return c&&(n=a,r=l),{width:n,height:r,$:c}}function $1(t){return ls(t)?t:t.contextElement}function rd(t){const e=$1(t);if(!Ys(e))return qs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=I3(e);let l=(a?s0(n.width):n.width)/r,c=(a?s0(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Nce=qs(0);function C3(t){const e=li(t);return!H1()||!e.visualViewport?Nce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ice(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==li(t)?!1:e}function Rc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=$1(t);let l=qs(1);e&&(r?ls(r)&&(l=rd(r)):l=rd(t));const c=Ice(a,n,r)?C3(a):qs(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,g=i.height/l.y;if(a){const b=li(a),_=r&&ls(r)?li(r):r;let T=b,S=B_(T);for(;S&&r&&_!==T;){const I=rd(S),R=S.getBoundingClientRect(),D=cs(S),j=R.left+(S.clientLeft+parseFloat(D.paddingLeft))*I.x,z=R.top+(S.clientTop+parseFloat(D.paddingTop))*I.y;d*=I.x,f*=I.y,p*=I.x,g*=I.y,d+=j,f+=z,T=li(S),S=B_(T)}}return o0({width:p,height:g,x:d,y:f})}function gv(t,e){const n=pv(t).scrollLeft;return e?e.left+n:Rc(Zs(t)).left+n}function R3(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-gv(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Cce(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",l=Zs(r),c=e?mv(e.floating):!1;if(r===l||c&&a)return n;let d={scrollLeft:0,scrollTop:0},f=qs(1);const p=qs(0),g=Ys(r);if((g||!g&&!a)&&((th(r)!=="body"||Zm(l))&&(d=pv(r)),Ys(r))){const _=Rc(r);f=rd(r),p.x=_.x+r.clientLeft,p.y=_.y+r.clientTop}const b=l&&!g&&!a?R3(l,d):qs(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+b.x,y:n.y*f.y-d.scrollTop*f.y+p.y+b.y}}function Rce(t){return Array.from(t.getClientRects())}function kce(t){const e=Zs(t),n=pv(t),r=t.ownerDocument.body,i=si(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=si(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+gv(t);const c=-n.scrollTop;return cs(r).direction==="rtl"&&(l+=si(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}const yj=25;function jce(t,e){const n=li(t),r=Zs(t),i=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){a=i.width,l=i.height;const p=H1();(!p||p&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const f=gv(r);if(f<=0){const p=r.ownerDocument,g=p.body,b=getComputedStyle(g),_=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,T=Math.abs(r.clientWidth-g.clientWidth-_);T<=yj&&(a-=T)}else f<=yj&&(a+=f);return{width:a,height:l,x:c,y:d}}const Pce=new Set(["absolute","fixed"]);function Dce(t,e){const n=Rc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ys(t)?rd(t):qs(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,d=i*a.x,f=r*a.y;return{width:l,height:c,x:d,y:f}}function vj(t,e,n){let r;if(e==="viewport")r=jce(t,n);else if(e==="document")r=kce(Zs(t));else if(ls(e))r=Dce(e,n);else{const i=C3(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return o0(r)}function k3(t,e){const n=rl(t);return n===e||!ls(n)||Rd(n)?!1:cs(n).position==="fixed"||k3(n,e)}function Mce(t,e){const n=e.get(t);if(n)return n;let r=ym(t,[],!1).filter(c=>ls(c)&&th(c)!=="body"),i=null;const a=cs(t).position==="fixed";let l=a?rl(t):t;for(;ls(l)&&!Rd(l);){const c=cs(l),d=z1(l);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&Pce.has(i.position)||Zm(l)&&!d&&k3(t,l))?r=r.filter(p=>p!==l):i=c,l=rl(l)}return e.set(t,r),r}function Oce(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?mv(e)?[]:Mce(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((f,p)=>{const g=vj(e,p,i);return f.top=si(g.top,f.top),f.right=nl(g.right,f.right),f.bottom=nl(g.bottom,f.bottom),f.left=si(g.left,f.left),f},vj(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Vce(t){const{width:e,height:n}=I3(t);return{width:e,height:n}}function Lce(t,e,n){const r=Ys(e),i=Zs(e),a=n==="fixed",l=Rc(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=qs(0);function f(){d.x=gv(i)}if(r||!r&&!a)if((th(e)!=="body"||Zm(i))&&(c=pv(e)),r){const _=Rc(e,!0,a,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&f();a&&!r&&i&&f();const p=i&&!r&&!a?R3(i,c):qs(0),g=l.left+c.scrollLeft-d.x-p.x,b=l.top+c.scrollTop-d.y-p.y;return{x:g,y:b,width:l.width,height:l.height}}function yw(t){return cs(t).position==="static"}function xj(t,e){if(!Ys(t)||cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zs(t)===n&&(n=n.ownerDocument.body),n}function j3(t,e){const n=li(t);if(mv(t))return n;if(!Ys(t)){let i=rl(t);for(;i&&!Rd(i);){if(ls(i)&&!yw(i))return i;i=rl(i)}return n}let r=xj(t,e);for(;r&&bce(r)&&yw(r);)r=xj(r,e);return r&&Rd(r)&&yw(r)&&!z1(r)?n:r||Sce(t)||n}const Uce=async function(t){const e=this.getOffsetParent||j3,n=this.getDimensions,r=await n(t.floating);return{reference:Lce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bce(t){return cs(t).direction==="rtl"}const Fce={convertOffsetParentRelativeRectToViewportRelativeRect:Cce,getDocumentElement:Zs,getClippingRect:Oce,getOffsetParent:j3,getElementRects:Uce,getClientRects:Rce,getDimensions:Vce,getScale:rd,isElement:ls,isRTL:Bce};function P3(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zce(t,e){let n=null,r;const i=Zs(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=t.getBoundingClientRect(),{left:p,top:g,width:b,height:_}=f;if(c||e(),!b||!_)return;const T=qg(g),S=qg(i.clientWidth-(p+b)),I=qg(i.clientHeight-(g+_)),R=qg(p),j={rootMargin:-T+"px "+-S+"px "+-I+"px "+-R+"px",threshold:si(0,nl(1,d))||1};let z=!0;function $(Y){const k=Y[0].intersectionRatio;if(k!==d){if(!z)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!P3(f,t.getBoundingClientRect())&&l(),z=!1}try{n=new IntersectionObserver($,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver($,j)}n.observe(t)}return l(!0),a}function Hce(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=$1(t),p=i||a?[...f?ym(f):[],...ym(e)]:[];p.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),a&&R.addEventListener("resize",n)});const g=f&&c?zce(f,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(R=>{let[D]=R;D&&D.target===f&&_&&(_.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var j;(j=_)==null||j.observe(e)})),n()}),f&&!d&&_.observe(f),_.observe(e));let T,S=d?Rc(t):null;d&&I();function I(){const R=Rc(t);S&&!P3(S,R)&&n(),S=R,T=requestAnimationFrame(I)}return n(),()=>{var R;p.forEach(D=>{i&&D.removeEventListener("scroll",n),a&&D.removeEventListener("resize",n)}),g?.(),(R=_)==null||R.disconnect(),_=null,d&&cancelAnimationFrame(T)}}const $ce=mce,qce=pce,Gce=dce,Kce=yce,Wce=hce,bj=uce,Yce=gce,Qce=(t,e,n)=>{const r=new Map,i={platform:Fce,...n},a={...i.platform,_c:r};return cce(t,e,{...i,platform:a})};var Xce=typeof document<"u",Jce=function(){},vy=Xce?w.useLayoutEffect:Jce;function l0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!l0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!l0(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function D3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wj(t,e){const n=D3(t);return Math.round(e*n)/n}function vw(t){const e=w.useRef(t);return vy(()=>{e.current=t}),e}function Zce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=t,[p,g]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,_]=w.useState(r);l0(b,r)||_(r);const[T,S]=w.useState(null),[I,R]=w.useState(null),D=w.useCallback(W=>{W!==Y.current&&(Y.current=W,S(W))},[]),j=w.useCallback(W=>{W!==k.current&&(k.current=W,R(W))},[]),z=a||T,$=l||I,Y=w.useRef(null),k=w.useRef(null),C=w.useRef(p),O=d!=null,U=vw(d),L=vw(i),H=vw(f),V=w.useCallback(()=>{if(!Y.current||!k.current)return;const W={placement:e,strategy:n,middleware:b};L.current&&(W.platform=L.current),Qce(Y.current,k.current,W).then(be=>{const Te={...be,isPositioned:H.current!==!1};Ee.current&&!l0(C.current,Te)&&(C.current=Te,bm.flushSync(()=>{g(Te)}))})},[b,e,n,L,H]);vy(()=>{f===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(W=>({...W,isPositioned:!1})))},[f]);const Ee=w.useRef(!1);vy(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),vy(()=>{if(z&&(Y.current=z),$&&(k.current=$),z&&$){if(U.current)return U.current(z,$,V);V()}},[z,$,V,U,O]);const ke=w.useMemo(()=>({reference:Y,floating:k,setReference:D,setFloating:j}),[D,j]),G=w.useMemo(()=>({reference:z,floating:$}),[z,$]),te=w.useMemo(()=>{const W={position:n,left:0,top:0};if(!G.floating)return W;const be=wj(G.floating,p.x),Te=wj(G.floating,p.y);return c?{...W,transform:"translate("+be+"px, "+Te+"px)",...D3(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:be,top:Te}},[n,c,G.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:V,refs:ke,elements:G,floatingStyles:te}),[p,V,ke,G,te])}const eue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?bj({element:r.current,padding:i}).fn(n):{}:r?bj({element:r,padding:i}).fn(n):{}}}},tue=(t,e)=>({...$ce(t),options:[t,e]}),nue=(t,e)=>({...qce(t),options:[t,e]}),rue=(t,e)=>({...Yce(t),options:[t,e]}),iue=(t,e)=>({...Gce(t),options:[t,e]}),sue=(t,e)=>({...Kce(t),options:[t,e]}),aue=(t,e)=>({...Wce(t),options:[t,e]}),oue=(t,e)=>({...eue(t),options:[t,e]});function lue(t){const e=cue(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(due);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function cue(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=fue(i),c=hue(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uue=Symbol("radix.slottable");function due(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uue}function hue(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function fue(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pue=mue.reduce((t,e)=>{const n=lue(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),gue="Arrow",M3=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return h.jsx(pue.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});M3.displayName=gue;var yue=M3;function vue(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const f=g=>{const{scope:b,children:_,...T}=g,S=b?.[t]?.[d]||c,I=w.useMemo(()=>T,Object.values(T));return h.jsx(S.Provider,{value:I,children:_})};f.displayName=a+"Provider";function p(g,b){const _=b?.[t]?.[d]||c,T=w.useContext(_);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const i=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return i.scopeName=t,[r,xue(i,...e)]}function xue(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function bue(t){const e=wue(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(Eue);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function wue(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=Sue(i),c=Tue(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _ue=Symbol("radix.slottable");function Eue(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_ue}function Tue(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Sue(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Aue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],O3=Aue.reduce((t,e)=>{const n=bue(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),q1="Popper",[V3,L3]=vue(q1),[Nue,U3]=V3(q1),B3=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return h.jsx(Nue,{scope:e,anchor:r,onAnchorChange:i,children:n})};B3.displayName=q1;var F3="PopperAnchor",z3=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=U3(F3,n),l=w.useRef(null),c=Ft(e,l),d=w.useRef(null);return w.useEffect(()=>{const f=d.current;d.current=r?.current||l.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:h.jsx(O3.div,{...i,ref:c})});z3.displayName=F3;var G1="PopperContent",[Iue,Cue]=V3(G1),H3=w.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:T,...S}=t,I=U3(G1,n),[R,D]=w.useState(null),j=Ft(e,he=>D(he)),[z,$]=w.useState(null),Y=p3(z),k=Y?.width??0,C=Y?.height??0,O=r+(a!=="center"?"-"+a:""),U=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},L=Array.isArray(f)?f:[f],H=L.length>0,V={padding:U,boundary:L.filter(kue),altBoundary:H},{refs:Ee,floatingStyles:ke,placement:G,isPositioned:te,middlewareData:W}=Zce({strategy:"fixed",placement:O,whileElementsMounted:(...he)=>Hce(...he,{animationFrame:_==="always"}),elements:{reference:I.anchor},middleware:[tue({mainAxis:i+C,alignmentAxis:l}),d&&nue({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?rue():void 0,...V}),d&&iue({...V}),sue({...V,apply:({elements:he,rects:we,availableWidth:De,availableHeight:He})=>{const{width:$e,height:Qe}=we.reference,Qt=he.floating.style;Qt.setProperty("--radix-popper-available-width",`${De}px`),Qt.setProperty("--radix-popper-available-height",`${He}px`),Qt.setProperty("--radix-popper-anchor-width",`${$e}px`),Qt.setProperty("--radix-popper-anchor-height",`${Qe}px`)}}),z&&oue({element:z,padding:c}),jue({arrowWidth:k,arrowHeight:C}),b&&aue({strategy:"referenceHidden",...V})]}),[be,Te]=G3(G),F=tl(T);Tn(()=>{te&&F?.()},[te,F]);const ae=W.arrow?.x,se=W.arrow?.y,ue=W.arrow?.centerOffset!==0,[ge,Se]=w.useState();return Tn(()=>{R&&Se(window.getComputedStyle(R).zIndex)},[R]),h.jsx("div",{ref:Ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:te?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(Iue,{scope:n,placedSide:be,onArrowChange:$,arrowX:ae,arrowY:se,shouldHideArrow:ue,children:h.jsx(O3.div,{"data-side":be,"data-align":Te,...S,ref:j,style:{...S.style,animation:te?void 0:"none"}})})})});H3.displayName=G1;var $3="PopperArrow",Rue={top:"bottom",right:"left",bottom:"top",left:"right"},q3=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Cue($3,r),l=Rue[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(yue,{...i,ref:n,style:{...i.style,display:"block"}})})});q3.displayName=$3;function kue(t){return t!==null}var jue=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,l=i.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[f,p]=G3(n),g={start:"0%",center:"50%",end:"100%"}[p],b=(i.arrow?.x??0)+c/2,_=(i.arrow?.y??0)+d/2;let T="",S="";return f==="bottom"?(T=l?g:`${b}px`,S=`${-d}px`):f==="top"?(T=l?g:`${b}px`,S=`${r.floating.height+d}px`):f==="right"?(T=`${-d}px`,S=l?g:`${_}px`):f==="left"&&(T=`${r.floating.width+d}px`,S=l?g:`${_}px`),{data:{x:T,y:S}}}});function G3(t){const[e,n="center"]=t.split("-");return[e,n]}var Pue=B3,Due=z3,Mue=H3,Oue=q3;function K3(t){const e=Vue(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(Uue);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function Vue(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=Fue(i),c=Bue(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Lue=Symbol("radix.slottable");function Uue(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lue}function Bue(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Fue(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var zue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fi=zue.reduce((t,e)=>{const n=K3(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Hue(t){const e=$ue(t),n=w.forwardRef((r,i)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(Gue);if(d){const f=d.props.children,p=c.map(g=>g===d?w.Children.count(f)>1?w.Children.only(null):w.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:i,children:w.isValidElement(f)?w.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function $ue(t){const e=w.forwardRef((n,r)=>{const{children:i,...a}=n;if(w.isValidElement(i)){const l=Wue(i),c=Kue(a,i.props);return i.type!==w.Fragment&&(c.ref=r?Fr(r,l):l),w.cloneElement(i,c)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var que=Symbol("radix.slottable");function Gue(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===que}function Kue(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Wue(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Que=Yue.reduce((t,e)=>{const n=Hue(`Primitive.${e}`),r=w.forwardRef((i,a)=>{const{asChild:l,...c}=i,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),W3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Xue="VisuallyHidden",Jue=w.forwardRef((t,e)=>h.jsx(Que.span,{...t,ref:e,style:{...W3,...t.style}}));Jue.displayName=Xue;var Zue=[" ","Enter","ArrowUp","ArrowDown"],ede=[" ","Enter"],kc="Select",[yv,vv,tde]=Y5(kc),[nh]=Qle(kc,[tde,L3]),xv=L3(),[nde,gl]=nh(kc),[rde,ide]=nh(kc),Y3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:g,disabled:b,required:_,form:T}=t,S=xv(e),[I,R]=w.useState(null),[D,j]=w.useState(null),[z,$]=w.useState(!1),Y=nL(f),[k,C]=Ac({prop:r,defaultProp:i??!1,onChange:a,caller:kc}),[O,U]=Ac({prop:l,defaultProp:c,onChange:d,caller:kc}),L=w.useRef(null),H=I?T||!!I.closest("form"):!0,[V,Ee]=w.useState(new Set),ke=Array.from(V).map(G=>G.props.value).join(";");return h.jsx(Pue,{...S,children:h.jsxs(nde,{required:_,scope:e,trigger:I,onTriggerChange:R,valueNode:D,onValueNodeChange:j,valueNodeHasChildren:z,onValueNodeHasChildrenChange:$,contentId:Ho(),value:O,onValueChange:U,open:k,onOpenChange:C,dir:Y,triggerPointerDownPosRef:L,disabled:b,children:[h.jsx(yv.Provider,{scope:e,children:h.jsx(rde,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(G=>{Ee(te=>new Set(te).add(G))},[]),onNativeOptionRemove:w.useCallback(G=>{Ee(te=>{const W=new Set(te);return W.delete(G),W})},[]),children:n})}),H?h.jsxs(x6,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:g,value:O,onChange:G=>U(G.target.value),disabled:b,form:T,children:[O===void 0?h.jsx("option",{value:""}):null,Array.from(V)]},ke):null]})})};Y3.displayName=kc;var Q3="SelectTrigger",X3=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=xv(n),l=gl(Q3,n),c=l.disabled||r,d=Ft(e,l.onTriggerChange),f=vv(n),p=w.useRef("touch"),[g,b,_]=w6(S=>{const I=f().filter(j=>!j.disabled),R=I.find(j=>j.value===l.value),D=_6(I,S,R);D!==void 0&&l.onValueChange(D.value)}),T=S=>{c||(l.onOpenChange(!0),_()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return h.jsx(Due,{asChild:!0,...a,children:h.jsx(fi.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":b6(l.value)?"":void 0,...i,ref:d,onClick:Rt(i.onClick,S=>{S.currentTarget.focus(),p.current!=="mouse"&&T(S)}),onPointerDown:Rt(i.onPointerDown,S=>{p.current=S.pointerType;const I=S.target;I.hasPointerCapture(S.pointerId)&&I.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(T(S),S.preventDefault())}),onKeyDown:Rt(i.onKeyDown,S=>{const I=g.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&b(S.key),!(I&&S.key===" ")&&Zue.includes(S.key)&&(T(),S.preventDefault())})})})});X3.displayName=Q3;var J3="SelectValue",Z3=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:l="",...c}=t,d=gl(J3,n),{onValueNodeHasChildrenChange:f}=d,p=a!==void 0,g=Ft(e,d.onValueNodeChange);return Tn(()=>{f(p)},[f,p]),h.jsx(fi.span,{...c,ref:g,style:{pointerEvents:"none"},children:b6(d.value)?h.jsx(h.Fragment,{children:l}):a})});Z3.displayName=J3;var sde="SelectIcon",e6=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.jsx(fi.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});e6.displayName=sde;var ade="SelectPortal",t6=t=>h.jsx(k1,{asChild:!0,...t});t6.displayName=ade;var jc="SelectContent",n6=w.forwardRef((t,e)=>{const n=gl(jc,t.__scopeSelect),[r,i]=w.useState();if(Tn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?bm.createPortal(h.jsx(r6,{scope:t.__scopeSelect,children:h.jsx(yv.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),a):null}return h.jsx(i6,{...t,ref:e})});n6.displayName=jc;var Yi=10,[r6,yl]=nh(jc),ode="SelectContentImpl",lde=K3("SelectContent.RemoveScroll"),i6=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:T,hideWhenDetached:S,avoidCollisions:I,...R}=t,D=gl(jc,n),[j,z]=w.useState(null),[$,Y]=w.useState(null),k=Ft(e,he=>z(he)),[C,O]=w.useState(null),[U,L]=w.useState(null),H=vv(n),[V,Ee]=w.useState(!1),ke=w.useRef(!1);w.useEffect(()=>{if(j)return zL(j)},[j]),PL();const G=w.useCallback(he=>{const[we,...De]=H().map(Qe=>Qe.ref.current),[He]=De.slice(-1),$e=document.activeElement;for(const Qe of he)if(Qe===$e||(Qe?.scrollIntoView({block:"nearest"}),Qe===we&&$&&($.scrollTop=0),Qe===He&&$&&($.scrollTop=$.scrollHeight),Qe?.focus(),document.activeElement!==$e))return},[H,$]),te=w.useCallback(()=>G([C,j]),[G,C,j]);w.useEffect(()=>{V&&te()},[V,te]);const{onOpenChange:W,triggerPointerDownPosRef:be}=D;w.useEffect(()=>{if(j){let he={x:0,y:0};const we=He=>{he={x:Math.abs(Math.round(He.pageX)-(be.current?.x??0)),y:Math.abs(Math.round(He.pageY)-(be.current?.y??0))}},De=He=>{he.x<=10&&he.y<=10?He.preventDefault():j.contains(He.target)||W(!1),document.removeEventListener("pointermove",we),be.current=null};return be.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",De,{capture:!0})}}},[j,W,be]),w.useEffect(()=>{const he=()=>W(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[W]);const[Te,F]=w6(he=>{const we=H().filter($e=>!$e.disabled),De=we.find($e=>$e.ref.current===document.activeElement),He=_6(we,he,De);He&&setTimeout(()=>He.ref.current.focus())}),ae=w.useCallback((he,we,De)=>{const He=!ke.current&&!De;(D.value!==void 0&&D.value===we||He)&&(O(he),He&&(ke.current=!0))},[D.value]),se=w.useCallback(()=>j?.focus(),[j]),ue=w.useCallback((he,we,De)=>{const He=!ke.current&&!De;(D.value!==void 0&&D.value===we||He)&&L(he)},[D.value]),ge=r==="popper"?F_:s6,Se=ge===F_?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:b,collisionPadding:_,sticky:T,hideWhenDetached:S,avoidCollisions:I}:{};return h.jsx(r6,{scope:n,content:j,viewport:$,onViewportChange:Y,itemRefCallback:ae,selectedItem:C,onItemLeave:se,itemTextRefCallback:ue,focusSelectedItem:te,selectedItemText:U,position:r,isPositioned:V,searchRef:Te,children:h.jsx(j1,{as:lde,allowPinchZoom:!0,children:h.jsx(R1,{asChild:!0,trapped:D.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Rt(i,he=>{D.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:h.jsx(C1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:h.jsx(ge,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:he=>he.preventDefault(),...R,...Se,onPlaced:()=>Ee(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Rt(R.onKeyDown,he=>{const we=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!we&&he.key.length===1&&F(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let He=H().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(he.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const $e=he.target,Qe=He.indexOf($e);He=He.slice(Qe+1)}setTimeout(()=>G(He)),he.preventDefault()}})})})})})})});i6.displayName=ode;var cde="SelectItemAlignedPosition",s6=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=gl(jc,n),l=yl(jc,n),[c,d]=w.useState(null),[f,p]=w.useState(null),g=Ft(e,k=>p(k)),b=vv(n),_=w.useRef(!1),T=w.useRef(!0),{viewport:S,selectedItem:I,selectedItemText:R,focusSelectedItem:D}=l,j=w.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&f&&S&&I&&R){const k=a.trigger.getBoundingClientRect(),C=f.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),U=R.getBoundingClientRect();if(a.dir!=="rtl"){const $e=U.left-C.left,Qe=O.left-$e,Qt=k.left-Qe,zt=k.width+Qt,zr=Math.max(zt,C.width),Ve=window.innerWidth-Yi,et=uj(Qe,[Yi,Math.max(Yi,Ve-zr)]);c.style.minWidth=zt+"px",c.style.left=et+"px"}else{const $e=C.right-U.right,Qe=window.innerWidth-O.right-$e,Qt=window.innerWidth-k.right-Qe,zt=k.width+Qt,zr=Math.max(zt,C.width),Ve=window.innerWidth-Yi,et=uj(Qe,[Yi,Math.max(Yi,Ve-zr)]);c.style.minWidth=zt+"px",c.style.right=et+"px"}const L=b(),H=window.innerHeight-Yi*2,V=S.scrollHeight,Ee=window.getComputedStyle(f),ke=parseInt(Ee.borderTopWidth,10),G=parseInt(Ee.paddingTop,10),te=parseInt(Ee.borderBottomWidth,10),W=parseInt(Ee.paddingBottom,10),be=ke+G+V+W+te,Te=Math.min(I.offsetHeight*5,be),F=window.getComputedStyle(S),ae=parseInt(F.paddingTop,10),se=parseInt(F.paddingBottom,10),ue=k.top+k.height/2-Yi,ge=H-ue,Se=I.offsetHeight/2,he=I.offsetTop+Se,we=ke+G+he,De=be-we;if(we<=ue){const $e=L.length>0&&I===L[L.length-1].ref.current;c.style.bottom="0px";const Qe=f.clientHeight-S.offsetTop-S.offsetHeight,Qt=Math.max(ge,Se+($e?se:0)+Qe+te),zt=we+Qt;c.style.height=zt+"px"}else{const $e=L.length>0&&I===L[0].ref.current;c.style.top="0px";const Qt=Math.max(ue,ke+S.offsetTop+($e?ae:0)+Se)+De;c.style.height=Qt+"px",S.scrollTop=we-ue+S.offsetTop}c.style.margin=`${Yi}px 0`,c.style.minHeight=Te+"px",c.style.maxHeight=H+"px",r?.(),requestAnimationFrame(()=>_.current=!0)}},[b,a.trigger,a.valueNode,c,f,S,I,R,a.dir,r]);Tn(()=>j(),[j]);const[z,$]=w.useState();Tn(()=>{f&&$(window.getComputedStyle(f).zIndex)},[f]);const Y=w.useCallback(k=>{k&&T.current===!0&&(j(),D?.(),T.current=!1)},[j,D]);return h.jsx(dde,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:Y,children:h.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:h.jsx(fi.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});s6.displayName=cde;var ude="SelectPopperPosition",F_=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Yi,...a}=t,l=xv(n);return h.jsx(Mue,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});F_.displayName=ude;var[dde,K1]=nh(jc,{}),z_="SelectViewport",a6=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=yl(z_,n),l=K1(z_,n),c=Ft(e,a.onViewportChange),d=w.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(yv.Slot,{scope:n,children:h.jsx(fi.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Rt(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:b}=l;if(b?.current&&g){const _=Math.abs(d.current-p.scrollTop);if(_>0){const T=window.innerHeight-Yi*2,S=parseFloat(g.style.minHeight),I=parseFloat(g.style.height),R=Math.max(S,I);if(R<T){const D=R+_,j=Math.min(T,D),z=D-j;g.style.height=j+"px",g.style.bottom==="0px"&&(p.scrollTop=z>0?z:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});a6.displayName=z_;var o6="SelectGroup",[hde,fde]=nh(o6),mde=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ho();return h.jsx(hde,{scope:n,id:i,children:h.jsx(fi.div,{role:"group","aria-labelledby":i,...r,ref:e})})});mde.displayName=o6;var l6="SelectLabel",c6=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fde(l6,n);return h.jsx(fi.div,{id:i.id,...r,ref:e})});c6.displayName=l6;var c0="SelectItem",[pde,u6]=nh(c0),d6=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...l}=t,c=gl(c0,n),d=yl(c0,n),f=c.value===r,[p,g]=w.useState(a??""),[b,_]=w.useState(!1),T=Ft(e,D=>d.itemRefCallback?.(D,r,i)),S=Ho(),I=w.useRef("touch"),R=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(pde,{scope:n,value:r,disabled:i,textId:S,isSelected:f,onItemTextChange:w.useCallback(D=>{g(j=>j||(D?.textContent??"").trim())},[]),children:h.jsx(yv.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:h.jsx(fi.div,{role:"option","aria-labelledby":S,"data-highlighted":b?"":void 0,"aria-selected":f&&b,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:T,onFocus:Rt(l.onFocus,()=>_(!0)),onBlur:Rt(l.onBlur,()=>_(!1)),onClick:Rt(l.onClick,()=>{I.current!=="mouse"&&R()}),onPointerUp:Rt(l.onPointerUp,()=>{I.current==="mouse"&&R()}),onPointerDown:Rt(l.onPointerDown,D=>{I.current=D.pointerType}),onPointerMove:Rt(l.onPointerMove,D=>{I.current=D.pointerType,i?d.onItemLeave?.():I.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Rt(l.onPointerLeave,D=>{D.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Rt(l.onKeyDown,D=>{d.searchRef?.current!==""&&D.key===" "||(ede.includes(D.key)&&R(),D.key===" "&&D.preventDefault())})})})})});d6.displayName=c0;var _f="SelectItemText",h6=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,l=gl(_f,n),c=yl(_f,n),d=u6(_f,n),f=ide(_f,n),[p,g]=w.useState(null),b=Ft(e,R=>g(R),d.onItemTextChange,R=>c.itemTextRefCallback?.(R,d.value,d.disabled)),_=p?.textContent,T=w.useMemo(()=>h.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:S,onNativeOptionRemove:I}=f;return Tn(()=>(S(T),()=>I(T)),[S,I,T]),h.jsxs(h.Fragment,{children:[h.jsx(fi.span,{id:d.textId,...a,ref:b}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?bm.createPortal(a.children,l.valueNode):null]})});h6.displayName=_f;var f6="SelectItemIndicator",m6=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u6(f6,n).isSelected?h.jsx(fi.span,{"aria-hidden":!0,...r,ref:e}):null});m6.displayName=f6;var H_="SelectScrollUpButton",p6=w.forwardRef((t,e)=>{const n=yl(H_,t.__scopeSelect),r=K1(H_,t.__scopeSelect),[i,a]=w.useState(!1),l=Ft(e,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollTop>0;a(f)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?h.jsx(y6,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});p6.displayName=H_;var $_="SelectScrollDownButton",g6=w.forwardRef((t,e)=>{const n=yl($_,t.__scopeSelect),r=K1($_,t.__scopeSelect),[i,a]=w.useState(!1),l=Ft(e,r.onScrollButtonChange);return Tn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;a(p)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?h.jsx(y6,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});g6.displayName=$_;var y6=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=yl("SelectScrollButton",n),l=w.useRef(null),c=vv(n),d=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Tn(()=>{c().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),h.jsx(fi.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Rt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Rt(i.onPointerMove,()=>{a.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Rt(i.onPointerLeave,()=>{d()})})}),gde="SelectSeparator",v6=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(fi.div,{"aria-hidden":!0,...r,ref:e})});v6.displayName=gde;var q_="SelectArrow",yde=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=xv(n),a=gl(q_,n),l=yl(q_,n);return a.open&&l.position==="popper"?h.jsx(Oue,{...i,...r,ref:e}):null});yde.displayName=q_;var vde="SelectBubbleInput",x6=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=w.useRef(null),a=Ft(r,i),l=m3(e);return w.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const g=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[l,e]),h.jsx(fi.select,{...n,style:{...W3,...n.style},ref:a,defaultValue:e})});x6.displayName=vde;function b6(t){return t===""||t===void 0}function w6(t){const e=tl(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(l=>{const c=n.current+l;e(c),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function _6(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=xde(t,Math.max(a,0));i.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function xde(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var bde=Y3,E6=X3,wde=Z3,_de=e6,Ede=t6,T6=n6,Tde=a6,S6=c6,A6=d6,Sde=h6,Ade=m6,N6=p6,I6=g6,C6=v6;const R6=bde,k6=wde,W1=w.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(E6,{ref:r,className:Ze("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(_de,{asChild:!0,children:h.jsx(h1,{className:"h-4 w-4 opacity-50"})})]}));W1.displayName=E6.displayName;const j6=w.forwardRef(({className:t,...e},n)=>h.jsx(N6,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(dte,{className:"h-4 w-4"})}));j6.displayName=N6.displayName;const P6=w.forwardRef(({className:t,...e},n)=>h.jsx(I6,{ref:n,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(h1,{className:"h-4 w-4"})}));P6.displayName=I6.displayName;const Y1=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>h.jsx(Ede,{children:h.jsxs(T6,{ref:i,className:Ze("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(j6,{}),h.jsx(Tde,{className:Ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(P6,{})]})}));Y1.displayName=T6.displayName;const Nde=w.forwardRef(({className:t,...e},n)=>h.jsx(S6,{ref:n,className:Ze("px-2 py-1.5 text-sm font-semibold",t),...e}));Nde.displayName=S6.displayName;const ic=w.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(A6,{ref:r,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Ade,{children:h.jsx(s5,{className:"h-4 w-4"})})}),h.jsx(Sde,{children:e})]}));ic.displayName=A6.displayName;const Ide=w.forwardRef(({className:t,...e},n)=>h.jsx(C6,{ref:n,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));Ide.displayName=C6.displayName;const Cde=()=>{const{user:t}=$a(),[e,n]=w.useState([]),[r,i]=w.useState(0),[a,l]=w.useState(!0),[c,d]=w.useState("all"),[f,p]=w.useState("");w.useEffect(()=>{(async()=>{try{const S=Da(ai(Pt,"applications"),K0("createdAt","desc")),I=await Ma(S),R=[];I.forEach(z=>{R.push({id:z.id,...z.data()})}),n(R);const D=Da(ai(Pt,"blog_posts")),j=await Ma(D);i(j.size)}catch(S){console.error("Error fetching applications:",S),Ut.error(`Failed to load applications: ${S.message}`)}finally{l(!1)}})()},[]);const g=(T,S)=>{try{if(!T.startsWith("data:")){Ut.error("Invalid resume format.");return}const I=document.createElement("a");I.href=T,I.download=S||"resume.pdf",document.body.appendChild(I),I.click(),document.body.removeChild(I)}catch(I){console.error("Download error:",I),Ut.error("Failed to download resume.")}},b=e.filter(T=>{const S=c==="all"||T.role===c,I=T.firstName.toLowerCase().includes(f.toLowerCase())||T.lastName.toLowerCase().includes(f.toLowerCase())||T.email.toLowerCase().includes(f.toLowerCase());return S&&I}),_=Array.from(new Set(e.map(T=>T.role)));return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col font-sans",children:[h.jsx(Br,{}),h.jsx("main",{className:"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage job applications and candidates."})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("span",{className:"text-sm text-gray-500",children:["Welcome, ",t?.displayName]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(Id,{children:[h.jsxs(dm,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(hm,{className:"text-sm font-medium",children:"Total Applications"}),h.jsx(Aa,{className:"h-4 w-4 text-muted-foreground"})]}),h.jsx(Cd,{children:h.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),h.jsx(tt,{to:"/admin/blog",children:h.jsxs(Id,{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors cursor-pointer border-indigo-200 dark:border-indigo-800",children:[h.jsxs(dm,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(hm,{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:"Manage Blog"}),h.jsx(os,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})]}),h.jsxs(Cd,{children:[h.jsxs("div",{className:"text-2xl font-bold",children:[r," Posts"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to manage"})]})]})})]}),h.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-white dark:bg-gray-900 p-4 rounded-lg border border-gray-200 dark:border-gray-800",children:h.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[h.jsxs("div",{className:"relative w-full md:w-64",children:[h.jsx(f5,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),h.jsx(Mr,{placeholder:"Search candidates...",className:"pl-8",value:f,onChange:T=>p(T.target.value)})]}),h.jsxs(R6,{value:c,onValueChange:d,children:[h.jsx(W1,{className:"w-[180px]",children:h.jsx(k6,{placeholder:"Filter by Role"})}),h.jsxs(Y1,{children:[h.jsx(ic,{value:"all",children:"All Roles"}),_.map(T=>h.jsx(ic,{value:T,children:T},T))]})]})]})}),h.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 overflow-hidden",children:a?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(di,{className:"h-8 w-8 animate-spin text-indigo-600"})}):h.jsxs(O1,{children:[h.jsx(V1,{children:h.jsxs(uc,{children:[h.jsx(Ji,{children:"Name"}),h.jsx(Ji,{children:"Role"}),h.jsx(Ji,{children:"Email"}),h.jsx(Ji,{children:"Date"}),h.jsx(Ji,{className:"text-right",children:"Resume"})]})}),h.jsx(L1,{children:b.length===0?h.jsx(uc,{children:h.jsx(ii,{colSpan:5,className:"text-center h-32 text-gray-500",children:"No applications found."})}):b.map(T=>h.jsxs(uc,{children:[h.jsxs(ii,{className:"font-medium",children:[T.firstName," ",T.lastName]}),h.jsx(ii,{children:T.role}),h.jsx(ii,{children:T.email}),h.jsx(ii,{children:T.createdAt?.toDate().toLocaleDateString()}),h.jsx(ii,{className:"text-right",children:h.jsxs(Ye,{variant:"ghost",size:"sm",onClick:()=>g(T.resume,T.resumeName||`${T.firstName}_${T.lastName}_Resume.pdf`),children:[h.jsx(Km,{className:"h-4 w-4 mr-2"}),"Download"]})})]},T.id))})]})})]})}),h.jsx(hi,{})]})},Rde=[{slug:"future-of-generative-ai",title:"The Future of Generative AI in Creative Workflows",excerpt:"How AI is reshaping the way designers and developers collaborate, creating new possibilities for rapid prototyping and iteration.",content:`
      <p>The creative landscape is undergoing a seismic shift. Generative AI is not just a tool; it's becoming a partner in the creative process. From brainstorming sessions to final polish, AI is augmenting human creativity in unprecedented ways.</p>
      
      <h2>The New Creative Stack</h2>
      <p>Traditionally, the creative workflow was linear: ideation, drafting, refining, and finalizing. Each step required significant manual effort. Today, generative AI allows us to iterate through these stages at lightning speed.</p>
      <ul>
        <li><strong>Ideation:</strong> Tools like Midjourney and DALL-E allow designers to visualize concepts in seconds.</li>
        <li><strong>Drafting:</strong> LLMs can generate copy, code snippets, and even entire layout structures.</li>
        <li><strong>Refining:</strong> AI-powered upscalers and editors help polish the final output.</li>
      </ul>

      <h2>Collaboration Between Human and Machine</h2>
      <p>The fear that AI will replace creatives is misplaced. Instead, we are seeing a new form of collaboration. The "human in the loop" is more important than ever. AI generates options, but the human curator decides what has value, what resonates emotionally, and what fits the brand narrative.</p>

      <h2>Case Study: Rapid Prototyping</h2>
      <p>At Lumina, we recently used our own tools to prototype a new dashboard feature. What usually takes two weeks of wireframing and mockups was condensed into a two-day sprint. By generating UI components and layout variations instantly, our design team could focus on user flow and experience rather than pixel-pushing.</p>

      <h2>Looking Ahead</h2>
      <p>As models become more multimodalunderstanding text, image, audio, and video simultaneouslythe barriers between different creative disciplines will blur. A writer could become a filmmaker; a designer could become a composer. The future belongs to those who can orchestrate these tools effectively.</p>
    `,author:"Sarah Chen",date:"Dec 2, 2025",readTime:"5 min read",category:"AI & Tech",image:"/generative-ai.png"},{slug:"mastering-prompt-engineering",title:"Mastering Prompt Engineering",excerpt:"A comprehensive guide to getting the best results from large language models.",content:`
      <p>Prompt engineering is the art of communicating with AI. It's the difference between getting a generic, hallucinated response and a precise, high-quality output. As LLMs become ubiquitous, prompt engineering is becoming a critical skill for developers and creatives alike.</p>

      <h2>The Anatomy of a Perfect Prompt</h2>
      <p>A great prompt usually contains four key elements:</p>
      <ol>
        <li><strong>Instruction:</strong> Clearly state what you want the model to do.</li>
        <li><strong>Context:</strong> Provide background information to ground the model.</li>
        <li><strong>Input Data:</strong> The specific content you want the model to process.</li>
        <li><strong>Output Indicator:</strong> The format you want the result in (e.g., "JSON", "Markdown", "Python code").</li>
      </ol>

      <h2>Chain-of-Thought Prompting</h2>
      <p>One of the most powerful techniques is "Chain-of-Thought" (CoT) prompting. By asking the model to "think step-by-step," you encourage it to break down complex problems into intermediate reasoning steps. This significantly reduces logic errors and improves the quality of the final answer.</p>

      <h2>Few-Shot Prompting</h2>
      <p>Don't just tell; show. Providing a few examples (shots) of the desired input-output pair helps the model understand the pattern you are looking for. This is often more effective than writing pages of instructions.</p>

      <h2>Iterative Refinement</h2>
      <p>Prompting is an iterative process. Rarely is the first prompt perfect. Analyze the output, identify where the model went wrong, and refine your instructions. Treat the AI like a junior developer: be specific, be patient, and provide constructive feedback.</p>
    `,author:"David Miller",date:"Nov 28, 2025",readTime:"8 min read",category:"Engineering",image:"/prompt-engineering.png"},{slug:"designing-for-ai-interfaces",title:"Designing for AI Interfaces",excerpt:"Key principles for creating intuitive user experiences in AI-powered applications.",content:`
      <p>AI introduces a new paradigm in UI/UX design. We are moving from "command-based" interfaces (clicking buttons) to "intent-based" interfaces (stating goals). This shift requires a fundamental rethink of how we design software.</p>

      <h2>The Empty State Problem</h2>
      <p>In a traditional app, an empty state is a call to action. In an AI app, an empty text box can be intimidating. "What should I type?" Designers must provide "starters," templates, or suggestions to help users overcome the "blank canvas" paralysis.</p>

      <h2>Managing Latency and Uncertainty</h2>
      <p>AI models can be slow, and they can be wrong. Good design mitigates this.</p>
      <ul>
        <li><strong>Optimistic UI:</strong> Show a skeleton or a loading state that feels active.</li>
        <li><strong>Streaming:</strong> Stream the text response token by token so the user sees progress immediately.</li>
        <li><strong>Confidence Scores:</strong> If the model isn't sure, let the user know. Allow for easy editing and correction.</li>
      </ul>

      <h2>The Feedback Loop</h2>
      <p>AI systems learn from feedback. Designing intuitive ways for users to accept, reject, or modify AI outputs is crucial. A simple "thumbs up/down" is good, but allowing users to rewrite a specific section and having the model learn from that correction is better.</p>

      <h2>Trust and Transparency</h2>
      <p>Users need to know when they are interacting with AI. Clear labeling and transparency about the model's capabilities and limitations build trust. Never pretend an AI agent is a human.</p>
    `,author:"Emily Zhang",date:"Nov 25, 2025",readTime:"6 min read",category:"Design",image:"/designing-ai-interface.png"},{slug:"building-scalable-ai-infrastructure",title:"Building Scalable AI Infrastructure",excerpt:"Lessons learned from scaling Lumina to millions of daily requests.",content:`
      <p>Scaling an AI application is different from scaling a traditional CRUD app. The compute requirements are massive, latency is a constant battle, and cost management is critical. Here is how we built Lumina's infrastructure to handle millions of daily inferences.</p>

      <h2>The Inference Bottleneck</h2>
      <p>LLMs are GPU-hungry. We adopted a hybrid cloud strategy, utilizing spot instances for batch processing and reserved instances for real-time user requests. We also implemented aggressive caching layers. If a user asks a question that has been asked before, we serve the cached response instantly.</p>

      <h2>Model Quantization</h2>
      <p>Running full precision (FP32) models is expensive and slow. We heavily utilize quantization (INT8 or even INT4) to reduce the model size and memory footprint with minimal loss in accuracy. This allows us to run larger models on cheaper hardware.</p>

      <h2>Vector Databases</h2>
      <p>To give our AI "memory," we use vector databases like Pinecone and Milvus. Efficient indexing and retrieval of embeddings are key to providing relevant context (RAG) to the model without blowing up the context window.</p>

      <h2>Monitoring and Observability</h2>
      <p>You can't fix what you can't measure. We built custom dashboards to track token usage, latency per token, and error rates. We also monitor for "drift"when the model's performance degrades over time due to changing data distributions.</p>
    `,author:"Alex Johnson",date:"Nov 20, 2025",readTime:"10 min read",category:"Engineering",image:"/scalable-ai.png"},{slug:"ethics-of-ai-content-generation",title:"The Ethics of AI Content Generation",excerpt:"Navigating the complex landscape of copyright, bias, and authenticity.",content:`
      <p>With great power comes great responsibility. As generative AI becomes mainstream, we must address the ethical implications head-on. At Lumina, we believe in "Responsible AI" by design.</p>

      <h2>Copyright and Ownership</h2>
      <p>Who owns an AI-generated image? The prompter? The model creator? The artists whose work trained the model? The legal landscape is still settling, but we advocate for transparency. We ensure our training data is ethically sourced and provide tools for creators to watermark and attribute their AI-generated content.</p>

      <h2>Bias and Fairness</h2>
      <p>AI models reflect the data they are trained on. If the internet is biased, the model will be too. We employ rigorous "Red Teaming" exercises to identify and mitigate harmful stereotypes in our models. We also provide controls for users to adjust the "safety filters" appropriate for their use case.</p>

      <h2>The Deepfake Dilemma</h2>
      <p>The ability to generate hyper-realistic content poses a risk of misinformation. We are committed to developing detection technologies and supporting standards like C2PA (Coalition for Content Provenance and Authenticity) to verify the origin of digital media.</p>

      <h2>Job Displacement</h2>
      <p>We cannot ignore the economic impact. While AI creates efficiency, it also disrupts jobs. We believe the solution lies in education and upskilling. We are building tools that empower workers to move up the value chain, focusing on strategy and creativity rather than rote tasks.</p>
    `,author:"Amara Okafor",date:"Nov 15, 2025",readTime:"7 min read",category:"Culture",image:"/ethics-of-ai.png"},{slug:"concept-to-launch-in-24-hours",title:"From Concept to Launch in 24 Hours",excerpt:"How our team used Lumina to build and ship a new feature in record time.",content:`
      <p>Speed is the ultimate competitive advantage. Last week, we challenged ourselves: could we build and ship a fully functional featureour new "Magic Editor"in just 24 hours? The answer was yes, but only because we dogfooded our own AI tools.</p>

      <h2>Hour 0-4: Ideation and Specs</h2>
      <p>We used Lumina's "Brainstorm" mode to generate feature requirements and user stories. We fed it customer feedback and asked for the highest-impact solution. It suggested an in-painting tool for quick image corrections.</p>

      <h2>Hour 4-12: Coding with Copilots</h2>
      <p>Our engineers paired with AI coding assistants to scaffold the frontend and backend. The AI handled the boilerplateAPI endpoints, state management, and basic UI componentsallowing the humans to focus on the complex canvas interaction logic.</p>

      <h2>Hour 12-18: Content and Marketing</h2>
      <p>While the code was being written, our marketing team used Lumina to generate the launch blog post (meta, right?), social media copy, and even the tutorial video script. We generated promotional images using the very tool we were building.</p>

      <h2>Hour 18-24: Testing and Deployment</h2>
      <p>We used AI to generate unit tests and integration tests, catching edge cases we might have missed. By hour 23, we were deploying to production. At hour 24, the feature was live.</p>

      <h2>The Takeaway</h2>
      <p>AI doesn't replace the hard work of building; it removes the friction. It allows a small team to punch way above its weight class.</p>
    `,author:"Michael Ross",date:"Nov 10, 2025",readTime:"4 min read",category:"Culture",image:"/concept-to-launch.png"},{slug:"understanding-transformer-models",title:"Understanding Transformer Models",excerpt:"A deep dive into the architecture that powers modern NLP.",content:`
      <p>In 2017, the paper "Attention Is All You Need" changed everything. It introduced the Transformer architecture, the foundation of GPT, BERT, Claude, and virtually every modern LLM. But how does it actually work?</p>

      <h2>The Problem with RNNs</h2>
      <p>Before Transformers, we used Recurrent Neural Networks (RNNs). RNNs processed text sequentiallyword by word. This made them slow to train (hard to parallelize) and bad at remembering long-range context. If a sentence was too long, the model would "forget" the beginning by the time it reached the end.</p>

      <h2>Self-Attention Mechanism</h2>
      <p>The genius of the Transformer is "Self-Attention." Instead of reading left-to-right, the Transformer looks at the entire sentence at once. It calculates how much "attention" every word should pay to every other word.</p>
      <p>For example, in the sentence "The animal didn't cross the street because it was too tired," the model needs to know what "it" refers to. Self-attention allows the model to strongly link "it" with "animal" rather than "street."</p>

      <h2>Positional Encodings</h2>
      <p>Since the model processes everything in parallel, it has no inherent sense of order. "The dog bit the man" and "The man bit the dog" look the same to a bag-of-words model. Transformers solve this by adding "positional encodings"mathematical signatures added to each word embedding to indicate its position in the sequence.</p>

      <h2>The Encoder-Decoder Stack</h2>
      <p>The original Transformer had an Encoder (to understand input) and a Decoder (to generate output). GPT models are "Decoder-only"they just predict the next token. BERT models are "Encoder-only"they are great at understanding text but not generating it.</p>

      <h2>Why It Matters</h2>
      <p>Understanding this architecture helps us understand the limitations of AI. It explains why they hallucinate (they are probabilistic token predictors, not truth machines) and why context windows are expensive (attention scales quadratically).</p>
    `,author:"Agbaho Victor",date:"Nov 5, 2025",readTime:"12 min read",category:"AI & Tech",image:"/transformer-models.png"},{slug:"ai-in-healthcare-revolution",title:"AI in Healthcare: A Revolution in Diagnosis",excerpt:"How artificial intelligence is assisting doctors in early detection and personalized treatment plans.",content:`
      <p>The integration of AI into healthcare is saving lives. From analyzing medical imaging to predicting patient outcomes, algorithms are becoming vital members of the medical team.</p>
      <h2>Early Detection</h2>
      <p>AI models trained on millions of X-rays and MRI scans can detect anomalies like tumors often before they are visible to the human eye. This early detection is critical for improving survival rates in diseases like cancer.</p>
      <h2>Personalized Medicine</h2>
      <p>By analyzing a patient's genetic makeup and medical history, AI can help tailor treatment plans that are far more effective than the traditional "one size fits all" approach.</p>
      <h2>Administrative Efficiency</h2>
      <p>Beyond clinical applications, AI is streamlining hospital operations, reducing wait times, and managing resources more efficiently, allowing doctors to spend more time with patients.</p>
    `,author:"Dr. Elena Rodriguez",date:"Oct 28, 2025",readTime:"7 min read",category:"AI & Tech",image:"/ai-healthcare.png"},{slug:"rise-of-edge-ai",title:"The Rise of Edge AI",excerpt:"Why processing data locally on devices is the next big shift in artificial intelligence.",content:`
      <p>Cloud computing has driven the AI boom, but the future is on the edge. Edge AI involves running algorithms locally on devicessmartphones, IoT sensors, and carsrather than sending data to a centralized server.</p>
      <h2>Privacy First</h2>
      <p>By keeping sensitive data on the device, Edge AI mitigates privacy concerns. Your voice assistant commands or smart home footage doesn't need to leave your house.</p>
      <h2>Zero Latency</h2>
      <p>For applications like autonomous driving, milliseconds matter. Edge AI eliminates the round-trip time to the cloud, enabling instant decision-making.</p>
      <h2>Bandwidth Efficiency</h2>
      <p>Transmitting massive amounts of video or sensor data to the cloud is expensive and bandwidth-intensive. Edge AI filters and processes this data locally, sending only what's necessary.</p>
    `,author:"Marcus Chen",date:"Oct 25, 2025",readTime:"6 min read",category:"Engineering",image:"/edge-ai.png"},{slug:"minimalism-in-digital-design",title:"Minimalism in Digital Product Design",excerpt:"Less is more: How cutting clutter improves user engagement and conversion rates.",content:`
      <p>In a world of information overload, minimalism is not just an aesthetic choice; it's a functional necessity. Good design should interpret the user's intent and clear the path to their goal.</p>
      <h2>The Cognitive Load</h2>
      <p>Every element on a screenevery button, image, and text blockadds to the user's cognitive load. By removing non-essential elements, we allow the user to focus on what matters.</p>
      <h2>Whitespace is Active</h2>
      <p>Whitespace (or negative space) is not empty space; it's an active design element. It guides the eye, creates hierarchy, and gives the content room to breathe.</p>
      <h2>Function over Form</h2>
      <p>Minimalism forces designers to prioritize function. If a feature doesn't serve a clear purpose, it gets cut. This ruthless prioritization leads to leaner, faster, and more intuitive products.</p>
    `,author:"Sophie Dubois",date:"Oct 20, 2025",readTime:"5 min read",category:"Design",image:"/minimalism-design.png"},{slug:"navigating-remote-work-culture",title:"Navigating Remote Work Culture",excerpt:"Strategies for building strong, cohesive teams in a distributed world.",content:`
      <p>Remote work is here to stay. But building a culture without a watercooler requires intentionality. It's about more than just Zoom calls and Slack channels.</p>
      <h2>Asynchronous Communication</h2>
      <p>The superpower of distributed teams is async work. Documenting everythingdecisions, specs, and updatesallows people to work deep without constant interruption.</p>
      <h2>Intentional Connection</h2>
      <p>We need to create spaces for serendipity. Virtual coffee chats, game nights, and dedicated channels for non-work hobbies help bridge the physical gap.</p>
      <h2>Trust and Autonomy</h2>
      <p>Remote work thrives on trust. measuring output rather than hours logged empowers employees to own their schedules and their work.</p>
    `,author:"James Wilson",date:"Oct 15, 2025",readTime:"8 min read",category:"Culture",image:"/remote-work.png"},{slug:"understanding-rag",title:"Understanding RAG (Retrieval-Augmented Generation)",excerpt:"How RAG bridges the gap between LLM knowledge and your private data.",content:`
      <p>Large Language Models are frozen in time. They don't know about your company's latest PDF or the news from this morning. RAG solves this by giving the model a "cheat sheet" of relevant information before it answers.</p>
      <h2>How It Works</h2>
      <p>1. <strong>Retrieve:</strong> The system searches a vector database for documents relevant to the user's query.<br>2. <strong>Augment:</strong> These documents are pasted into the prompt as context.<br>3. <strong>Generate:</strong> The LLM answers the question using this fresh context.</p>
      <h2>Why It Matters</h2>
      <p>RAG allows businesses to build AI chatbots that are accurate, up-to-date, and grounded in their own proprietary data, drastically reducing hallucinations.</p>
    `,author:"Priya Patel",date:"Oct 10, 2025",readTime:"9 min read",category:"Engineering",image:"/rag-architecture.png"},{slug:"future-of-saas-pricing",title:"The Future of SaaS Pricing: Usage-Based vs. Seat-Based",excerpt:"Why the subscription model is evolving and what it means for growth.",content:`
      <p>The traditional "per seat" pricing model is under pressure. As AI automates more work, buying seats for humans makes less sense. Enter usage-based pricing.</p>
      <h2>Aligning Value with Cost</h2>
      <p>Usage-based pricing (charging per API call, per gigabyte, or per transaction) aligns the customer's success with the vendor's revenue. If they use the product more, they get more value, and they pay more.</p>
      <h2>The Hybrid Model</h2>
      <p>Many modern SaaS companies are adopting a hybrid approach: a flat platform fee for core features + usage fees for premium AI or compute-heavy features.</p>
      <h2>Transparency</h2>
      <p>This shift requires transparent metering and billing. Customers need to know exactly what they are paying for in real-time to avoid "bill shock."</p>
    `,author:"Michael Ross",date:"Oct 5, 2025",readTime:"6 min read",category:"AI & Tech",image:"/saas-pricing.png"},{slug:"creative-coding-art",title:"Creative Coding: Where Art Meets Algorithms",excerpt:"Exploring the intersection of programming and visual expression.",content:`
      <p>Creative coding is the practice of writing code for the purpose of expression rather than function. It's where logic meets poetry.</p>
      <h2>Tools of the Trade</h2>
      <p>Libraries like p5.js, Three.js, and processing allow developers to create stunning generative art, interactive installations, and data visualizations directly in the browser.</p>
      <h2>Algorithmic Beauty</h2>
      <p>Writing algorithms to generate visuals reveals the mathematical beauty inherent in nature. Fractals, noise functions, and particle systems mimic the organic world in digital form.</p>
      <h2>Why Learn It?</h2>
      <p>Even for backend engineers, creative coding is a playground. It teaches lateral thinking, optimization, and the pure joy of seeing your code come to life visually.</p>
    `,author:"Sarah Chen",date:"Oct 1, 2025",readTime:"5 min read",category:"Design",image:"/creative-coding.png"}],kde=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0);w.useEffect(()=>{i()},[]);const i=async()=>{try{const c=Da(ai(Pt,"blog_posts"),K0("date","desc")),d=await Ma(c),f=[];d.forEach(p=>{f.push({id:p.id,...p.data()})}),e(f)}catch(c){console.error("Error fetching posts:",c),Ut.error("Failed to load blog posts.")}finally{r(!1)}},a=async()=>{if(window.confirm("This will upload all static blog posts to Firebase. Continue?")){r(!0);try{for(const c of Rde){const d=Da(ai(Pt,"blog_posts"),q0("slug","==",c.slug));(await Ma(d)).empty&&await Bm(ai(Pt,"blog_posts"),{...c,createdAt:Zo(),updatedAt:Zo()})}Ut.success("Migration completed!"),i()}catch(c){console.error("Error migrating posts:",c),Ut.error("Migration failed.")}finally{r(!1)}}},l=async c=>{if(window.confirm("Are you sure you want to delete this post?"))try{await Y0(or(Pt,"blog_posts",c)),e(t.filter(d=>d.id!==c)),Ut.success("Post deleted successfully.")}catch(d){console.error("Error deleting post:",d),Ut.error("Failed to delete post.")}};return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col font-sans",children:[h.jsx(Br,{}),h.jsx("main",{className:"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Blog Management"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Create, edit, and manage your blog posts."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Ye,{variant:"outline",onClick:a,children:"Migrate Demo Data"}),h.jsx(tt,{to:"/admin/blog/new",children:h.jsxs(Ye,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[h.jsx(h5,{className:"w-4 h-4 mr-2"})," Create New Post"]})})]})]}),h.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 overflow-hidden",children:n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx(di,{className:"h-8 w-8 animate-spin text-indigo-600"})}):h.jsxs(O1,{children:[h.jsx(V1,{children:h.jsxs(uc,{children:[h.jsx(Ji,{children:"Title"}),h.jsx(Ji,{children:"Category"}),h.jsx(Ji,{children:"Author"}),h.jsx(Ji,{children:"Date"}),h.jsx(Ji,{className:"text-right",children:"Actions"})]})}),h.jsx(L1,{children:t.length===0?h.jsx(uc,{children:h.jsx(ii,{colSpan:5,className:"text-center h-32 text-gray-500",children:"No blog posts found. Create one to get started!"})}):t.map(c=>h.jsxs(uc,{children:[h.jsx(ii,{className:"font-medium",children:h.jsx(tt,{to:`/blog/${c.slug}`,className:"hover:text-indigo-600 transition-colors",target:"_blank",children:c.title})}),h.jsx(ii,{children:h.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-xs font-medium text-indigo-600 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-800",children:c.category})}),h.jsx(ii,{children:c.author}),h.jsx(ii,{children:c.date}),h.jsx(ii,{className:"text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx(tt,{to:`/admin/blog/edit/${c.id}`,children:h.jsx(Ye,{variant:"ghost",size:"icon",children:h.jsx(bne,{className:"h-4 w-4 text-gray-500 hover:text-indigo-600"})})}),h.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>l(c.id),children:h.jsx(g5,{className:"h-4 w-4 text-gray-500 hover:text-red-600"})})]})})]},c.id))})]})})]})}),h.jsx(hi,{})]})},_j=()=>{const{id:t}=Q_(),e=Pc(),n=!!t,[r,i]=w.useState(!1),[a,l]=w.useState(n),[c,d]=w.useState({title:"",slug:"",excerpt:"",content:"",author:"",category:"Engineering",image:"",readTime:"5 min read"});w.useEffect(()=>{n&&t&&f(t)},[t]);const f=async _=>{try{const T=or(Pt,"blog_posts",_),S=await nm(T);S.exists()?d(S.data()):(Ut.error("Post not found."),e("/admin/blog"))}catch(T){console.error("Error fetching post:",T),Ut.error("Failed to load post.")}finally{l(!1)}},p=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),g=_=>{const T=_.target.value;d(S=>({...S,title:T,slug:p(T)}))},b=async _=>{_.preventDefault(),i(!0);try{const T={...c,updatedAt:Zo(),date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};n&&t?(await xT(or(Pt,"blog_posts",t),T,{merge:!0}),Ut.success("Post updated successfully!")):(await Bm(ai(Pt,"blog_posts"),{...T,createdAt:Zo()}),Ut.success("Post created successfully!")),e("/admin/blog")}catch(T){console.error("Error saving post:",T),Ut.error("Failed to save post.")}finally{i(!1)}};return a?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(di,{className:"w-8 h-8 animate-spin text-indigo-600"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 flex flex-col font-sans",children:[h.jsx(Br,{}),h.jsx("main",{className:"flex-grow pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs(Ye,{variant:"ghost",onClick:()=>e("/admin/blog"),children:[h.jsx(sv,{className:"w-4 h-4 mr-2"})," Back"]}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n?"Edit Post":"Create New Post"})]}),h.jsx("div",{className:"bg-white dark:bg-gray-900 p-8 rounded-lg border border-gray-200 dark:border-gray-800 shadow-sm",children:h.jsxs("form",{onSubmit:b,className:"space-y-6",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"title",children:"Title"}),h.jsx(Mr,{id:"title",value:c.title,onChange:g,placeholder:"Enter post title",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"slug",children:"Slug (Auto-generated)"}),h.jsx(Mr,{id:"slug",value:c.slug,onChange:_=>d({...c,slug:_.target.value}),placeholder:"post-url-slug",required:!0})]})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"author",children:"Author"}),h.jsx(Mr,{id:"author",value:c.author,onChange:_=>d({...c,author:_.target.value}),placeholder:"Author Name",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"category",children:"Category"}),h.jsxs(R6,{value:c.category,onValueChange:_=>d({...c,category:_}),children:[h.jsx(W1,{children:h.jsx(k6,{placeholder:"Select category"})}),h.jsxs(Y1,{children:[h.jsx(ic,{value:"AI & Tech",children:"AI & Tech"}),h.jsx(ic,{value:"Engineering",children:"Engineering"}),h.jsx(ic,{value:"Design",children:"Design"}),h.jsx(ic,{value:"Culture",children:"Culture"})]})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"image",children:"Cover Image URL (or Local Path)"}),h.jsx(Mr,{id:"image",value:c.image,onChange:_=>d({...c,image:_.target.value}),placeholder:"/generative-ai.png or https://...",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"excerpt",children:"Excerpt"}),h.jsx(pm,{id:"excerpt",value:c.excerpt,onChange:_=>d({...c,excerpt:_.target.value}),placeholder:"Short summary for the card...",rows:3,required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kn,{htmlFor:"content",children:"Content (HTML supported)"}),h.jsx(pm,{id:"content",value:c.content,onChange:_=>d({...c,content:_.target.value}),placeholder:"<p>Write your article content here...</p>",className:"font-mono text-sm",rows:15,required:!0}),h.jsx("p",{className:"text-xs text-gray-500",children:"Tip: Use HTML tags like <h2>, <p>, <ul> for formatting."})]}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsxs(Ye,{type:"submit",disabled:r,className:"bg-indigo-600 hover:bg-indigo-700",children:[r?h.jsx(di,{className:"w-4 h-4 mr-2 animate-spin"}):h.jsx(g1,{className:"w-4 h-4 mr-2"}),n?"Update Post":"Publish Post"]})})]})})]})}),h.jsx(hi,{})]})},jde=({children:t})=>{const{user:e,userRole:n,loading:r}=$a();return r?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:h.jsx(di,{className:"w-8 h-8 animate-spin text-indigo-600"})}):!e||n!=="admin"?h.jsx(Dj,{to:"/",replace:!0}):h.jsx(h.Fragment,{children:t})};function Pde(){return h.jsx(MY,{children:h.jsx(OY,{children:h.jsxs(j8,{basename:"/lumina-saas/",children:[h.jsx(zle,{}),h.jsx(Kle,{}),h.jsxs(kI,{children:[h.jsx(cn,{path:"/",element:h.jsx(sse,{})}),h.jsx(cn,{path:"/contact",element:h.jsx(Eae,{})}),h.jsx(cn,{path:"/careers",element:h.jsx(ble,{})}),h.jsx(cn,{path:"/about",element:h.jsx(wle,{})}),h.jsx(cn,{path:"/blog",element:h.jsx(_le,{})}),h.jsx(cn,{path:"/blog/:slug",element:h.jsx(Ele,{})}),h.jsx(cn,{path:"/privacy",element:h.jsx(Tle,{})}),h.jsx(cn,{path:"/terms",element:h.jsx(Sle,{})}),h.jsx(cn,{path:"/cookies",element:h.jsx(Ble,{})}),h.jsx(cn,{path:"/customers",element:h.jsx(Fle,{})}),h.jsx(cn,{path:"/admin/*",element:h.jsx(jde,{children:h.jsxs(kI,{children:[h.jsx(cn,{path:"/",element:h.jsx(Cde,{})}),h.jsx(cn,{path:"/blog",element:h.jsx(kde,{})}),h.jsx(cn,{path:"/blog/new",element:h.jsx(_j,{})}),h.jsx(cn,{path:"/blog/edit/:id",element:h.jsx(_j,{})})]})})}),h.jsx(cn,{path:"/dashboard",element:h.jsx(mf,{children:h.jsx(dse,{})})}),h.jsx(cn,{path:"/dashboard/settings",element:h.jsx(mf,{children:h.jsx(hse,{})})}),h.jsx(cn,{path:"/dashboard/new",element:h.jsx(mf,{children:h.jsx(vae,{})})}),h.jsx(cn,{path:"/dashboard/projects",element:h.jsx(mf,{children:h.jsx(xae,{})})}),h.jsx(cn,{path:"/dashboard/projects/:id",element:h.jsx(mf,{children:h.jsx(bae,{})})})]})]})})})}PY();xU.createRoot(document.getElementById("root")).render(h.jsx(w.StrictMode,{children:h.jsx(Pde,{})}));
